{"version":3,"sources":["context/AppContext.js","components/Footer/Footer.js","components/Header/Header.js","components/Home/Home.js","api/api.js","components/Loading/Loading.js","components/Login/login.js","components/AccountInfo/AccountInfo.js","components/ForgetPassword/usernameInput.js","components/ForgetPassword/otpInput.js","components/ForgetPassword/passwordInput.js","components/ForgetPassword/forgetPassword.js","components/ChangePassword/OldPasswordInput.js","components/ChangePassword/passwordInput.js","components/ChangePassword/ChangePassword.js","components/StudentScore/StudentScore.js","components/PLL/PLL.js","components/Statistic/RankStatistic.js","components/Statistic/SubjectStatistic.js","components/TeachingClassScore/TeachingClassScore.js","components/ConductAssessment/ConductAssessment.js","components/StudentAttendance/StudentAttendance.js","components/Pagination/Pagination.js","components/ScoreLock/ScoreLock.js","components/HomeroomTeacherAssignment/HomeroomTeacherAssignment.js","components/TeachingAssignment/TeachingAssignment.js","components/SpecialistAssignment/SpecialistAssignment.js","components/SchoolYear/schoolYear.js","components/StudentAssignment/StudentAssignment.js","components/TransferClass/TransferClass.js","components/Page404/Page404.js","components/Class/class.js","components/Subject/subject.js","components/SpecialistTeam/specialistTeam.js","components/Student/student.js","components/Teacher/teacher.js","components/Account/Account.js","components/SearchTeacher/SearchTeacher.js","components/SearchStudent/SearchStudent.js","components/SearchHomroomTeacherAssignment/SearchHomroomTeacherAssignment.js","components/SearchTeachingAssignment/SearchTeachingAssignment.js","components/MyTeachingAssignment/MyTeachingAssignment.js","components/HomeRoomTeacherStatistic/RankStatistic.js","components/HomeRoomTeacherStatistic/SubjectStatistic.js","components/SearchHomeroomClassInfo/SearchHomeroomClassInfo.js","components/SearchScore/SearchScore.js","components/StudentPLL/StudentPLL.js","components/MyTeachingAssignmentEdit/MyTeachingAssignmentEdit.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","React","createContext","Footer","className","href","Component","Header","props","logout","a","localStorage","removeItem","context","setUser","err","console","log","state","iconSize","this","user","role","Navbar","bg","expand","variant","to","size","Toggle","aria-controls","Collapse","id","Nav","NavDropdown","title","Divider","alignRight","accountName","onClick","pathname","kind","contextType","Home","style","marginTop","baseUrl","packagejson","proxy","charAt","length","slice","axios","create","timeout","guest","defaults","withCredentials","interceptors","request","use","config","accessToken","getItem","headers","error","Promise","reject","response","originalRequest","retry","status","Api","refreshToken","res","setItem","data","login","username","password","post","checkAuth","get","getAccountInfo","checkPassword","changePassword","oldPassword","newPassword","put","old_password","new_password","sendOTP","checkOTP","otpToken","otp","forgetPassword","getSchoolYearList","page","perpage","addSchoolYear","schoolYear","beginSemester1","startFirstSemester","endSemester1","finishFirstSemester","beginSemester2","startSecondSemester","endSemester2","finishSecondSemester","description","editSchoolYear","schoolYearId","deleteSchoolYear","delete","getClassList","searchClassByName","name","addClass","classCode","editClass","classId","deleteClass","getSubjectList","searchSubjectByName","addSubject","subjectName","subjectCode","editSubject","subjectId","deleteSubject","getSpecialistTeamList","searchSpecialistTeamByName","addSpecialistTeam","specialistName","editSpecialistTeam","specialistTeamId","deleteSpecialistTeam","getStudentList","getStudent","getStudentByCode","code","searchStudentByName","searchStudentByNameOrCode","query","addStudent","studentCode","studentName","address","permanentResidence","gender","pId","image","dateOfBirth","email","phoneNumber","dateOfParty","dateOfUnion","fatherName","fatherPhone","fatherMail","motherName","motherPhone","motherMail","editStudent","studentId","deleteStudent","getTeacherList","getTeacher","getTeacherByCode","searchTeacherByName","searchTeacherByNameOrCode","addTeacher","teacherCode","teacherName","civilServantNumber","major","editTeacher","teacherId","deleteTeacher","getTeachingAssignmentList","searchTeachingAssignment","searchCondition","url","addTeachingAssignment","deleteTeachingAssignment","getHomeroomTeacherAssignmentList","searchHomeroomTeacherAssignment","addHomeroomTeacherAssignment","editHomeroomTeacherAssignment","homeroomTeacherAssignmentId","deleteHomeroomTeacherAssignment","getSpecialistAssignmentList","searchSpecialistAssignment","addSpecialistAssignment","deleteSpecialistAssignment","getStudentAssignmentList","searchStudentAssignment","addStudentAssignment","deleteStudentAssignment","tranferClass","list","getAccountList","searchAccountByName","key","addAccount","userCode","editAccount","accountId","parseInt","deleteAccount","getScoreLockList","addScoreLock","term","lock","lockScoreLock","unlockScoreLock","deleteScoreLock","checkLock","getSubjectScore","getStudentScore","editScore","getClassConduct","getStudentConduct","assessConduct","conduct","note","getRankReport","getSubjectReport","getStudentScoreSummary","getHomeroomClassInfo","getClassAttendance","getDateString","date","d","Date","dd","getDate","mm","getMonth","getFullYear","beginDate","endDate","updateAttendance","getPLL","uploadImage","FormData","append","Loading","Modal","show","backdrop","Body","Login","changeHandler","e","target","value","formData","setState","submitHandler","preventDefault","loading","jwt","store","addNotification","message","type","container","dismiss","duration","animationIn","animationOut","from","location","history","push","showIcon","margin","action","onSubmit","onChange","required","marginRight","withRouter","AccountInfo","back","goBack","formatDate","accountInfo","result","src","alt","width","height","UsernameInput","onReceiveUsername","OtpInput","onReceiveOtp","PasswordInput","password1","password2","onReceivePassword","ForgetPassword","setUsername","isDisplayUsernameInput","isDisplayOtpInput","isDisplayPasswordInput","setOtp","setPassword","isDigit","replace","isLetter","isPunctuation","tokenOTP","OldPasswordInput","onReceiveOldPassword","ChangePassword","setOldPassword","isDisplayOldPasswordInput","StudentScore","refresh","all","studentAssignment","scoreList","getSchoolYearOption","schoolYearList","options","i","changeSearchCondition","student","row","score1","score2","avgScore1","avgScore2","avgScoreYear","SelectSearch","search","filterOptions","fuzzySearch","emptyMessage","placeholder","v","find","rowSpan","colSpan","renderTableData","ref","createRef","PLL","showReport","score","getClassOption","classList","getStudentOption","studentList","undefined","teacher","homeroomClass","homeroomTeacher","_class","disabled","targetRef","filename","scale","y","toPdf","overflow","result1","avgScore","scoreTitle","conductTitle","rank","nVangCoPhep","nVangKoPhep","result2","result0","isGradeUp","RankStatistic","map","index","scoreLevel","trigger","content","componentRef","el","SubjectStatistic","nGioi","nKem","nKha","nNuGioi","nNuKem","nNuKha","nNuTB","nNuYeu","nTB","nYeu","tlGioi","tlKem","tlKha","tlNuGioi","tlNuKem","tlNuKha","tlNuTB","tlNuYeu","tlTB","tlYeu","copyStyles","class","TeachingClassScore","info","studentAssignmentList","listApi","scoreMouth","score15","score45","scoreTerm","scores","j","scoreId","changeScore","pos","event","edited","validateScore","isNaN","parseFloat","submit","submitLoading","method","students","includes","closeConfirm","showConfirm","exportFile","forEach","ws","XLSX","utils","aoa_to_sheet","s","r","c","wb","book_new","book_append_sheet","writeFile","SheetJSFT","x","join","importFile","files","file","reader","FileReader","rABS","readAsBinaryString","onload","bstr","read","wsname","SheetNames","Sheets","sheet_to_json","header","scoreNew","scoreOld","readAsArrayBuffer","unblock","block","tx","close","inputRef","display","accept","click","Confirm","keyboard","Title","Button","ConductAssessment","showList","conducts","conductList","conductName","editConduct","showModal","modalKind","modalLoading","modalEdited","modalData","closeModal","setData","Dialog","getTitle","getButton","addConduct","closeAll","onHide","centered","closeButton","Form","Group","Label","Control","readOnly","StudentAttendance","processData","attendanceList","attendances","attendance","setDate","renderTableHeader","tdList","toString","trList","changeAttendance","showLoading","element","attendanceId","now","selected","dateFormat","Pagination","beginPage","pagination","currentPage","changePage","prePage","nextPage","lastPage","pageList","start","end","aria-label","ScoreLock","scoreLockList","changePerPage","sttBase","unlock","scoreLock","listAdd","findIndex","minHeight","HomeroomTeacherAssignment","mark","homeroomTeacherAssignmentList","getTeacherOption","teacherList","homeroomTeacherAssignment","showDelete","year","refreshClear","TeachingAssignment","teachingAssignmentList","getSubjectOption","subjectList","teachingAssignmentId","teachingAssignment","closeDelete","termList","color","ConfirmDelete","editTeachingAssignment","validate","SpecialistAssignment","specialistAssignmentList","getSpecialistTeamOption","specialistTeamList","specialistTeamName","specialistAssignment","specialistAssignmentId","SchoolYear","showInfo","cursor","Table","striped","bordered","hover","validateData","as","StudentAssignment","studentAssignmentId","TransferClass","checkboxList","fill","check","uncheck","checkAll","uncheckAll","loadingModal","newClassId","newSchoolYearId","checked","indexOf","Page404","Class","searchValue","str","test","toLowerCase","Subject","subject","SpecialistTeam","specialistTeam","Student","removeAscent","isName","isVNPhoneMobile","isEmail","File","withIcon","buttonText","pic","imgExtension","maxFileSize","singleImage","withPreview","Teacher","Account","accountList","account","onSuggestionsFetchRequested","clearTimeout","setTimeout","req","lastReq","suggestions","onSuggestionsClearRequested","onChangeSearch","newValue","getSuggestionValue","suggestion","onSuggestionSelected","suggestionValue","suggestionIndex","sectionIndex","renderSuggestion","theme","input","suggestionsContainer","suggestionsList","suggestionFocused","suggestionHighlighted","inputProps","MyTeachingAssignment","getTermOptions","inputScore","viewScore","SearchHomeroomClassInfo","SearchScore","StudentPLL","App","Provider","path","exact","component","SearchTeacher","SearchStudent","SearchHomroomTeacherAssignment","SearchTeachingAssignment","MyTeachingAssignmentEdit","PrivateRouter","checkLogin","rest","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qxDAIeA,EAFIC,IAAMC,gB,+BCyBVC,E,4JAvBX,WACI,OACI,wBAAQC,UAAU,yBAAlB,SACI,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,cAAC,IAAD,IADJ,kCAIJ,sBAAKA,UAAU,OAAf,UACI,sBAAKA,UAAU,iBAAf,oBACW,mBAAGC,KAAK,uBAAR,8BAEX,sBAAKD,UAAU,gBAAf,oBACW,mBAAGC,KAAK,iBAAR,uC,GAfdJ,IAAMK,W,mDCOrBC,G,yDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAMVC,OAPmB,sBAOV,sBAAAC,EAAA,sDACL,IAEIC,aAAaC,WAAW,eACxB,EAAKC,QAAQC,QAAQ,MACvB,MAAOC,GACLC,QAAQC,IAAIF,GANX,2CALL,EAAKG,MAAQ,CACTC,SAAU,IAHC,E,0CAiBnB,WACI,OAAKC,KAAKP,QAAQQ,KAYa,IAA3BD,KAAKP,QAAQQ,KAAKC,KAEd,iCACI,eAACC,EAAA,EAAD,CAAQC,GAAG,UAAUC,OAAO,KAAKC,QAAQ,OAAzC,UACI,cAAC,IAAD,CAAMC,GAAG,IAAIvB,UAAU,eAAvB,SACI,cAAC,IAAD,CAAQwB,KAA4B,IAAtBR,KAAKF,MAAMC,aAE7B,cAACI,EAAA,EAAOM,OAAR,CAAeC,gBAAc,qBAC7B,eAACP,EAAA,EAAOQ,SAAR,CAAiBC,GAAG,mBAApB,UACI,cAACC,EAAA,EAAD,CAAK7B,UAAU,UAAf,SACI,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAUwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC/C,qBAAKA,UAAU,4BAAf,+BAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,iBAAiBvB,UAAU,gBAApC,yCAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,eAAevB,UAAU,gBAAlC,2DAKR,cAAC6B,EAAA,EAAD,UACKb,KAAKP,QAAQQ,MACV,eAACa,EAAA,EAAD,CACIG,YAAU,EACVF,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAcwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACnD,qBAAKA,UAAU,4BAAf,SACKgB,KAAKP,QAAQQ,MAAQD,KAAKP,QAAQQ,KAAKiB,mBAKxDN,GAAG,qBAZP,UAcI,cAAC,IAAD,CAAML,GAAG,gBAAgBvB,UAAU,gBAAnC,gDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,mBAAmBvB,UAAU,gBAAtC,8CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,qBAAKhC,UAAU,gBAAgBmC,QAASnB,KAAKX,OAA7C,mDAYD,IAA3BW,KAAKP,QAAQQ,KAAKC,KAEd,iCACI,eAACC,EAAA,EAAD,CAAQC,GAAG,UAAUC,OAAO,KAAKC,QAAQ,OAAzC,UACI,cAAC,IAAD,CAAMC,GAAG,IAAIvB,UAAU,eAAvB,SACI,cAAC,IAAD,CAAQwB,KAA4B,IAAtBR,KAAKF,MAAMC,aAE7B,cAACI,EAAA,EAAOM,OAAR,CAAeC,gBAAc,qBAC7B,eAACP,EAAA,EAAOQ,SAAR,CAAiBC,GAAG,mBAApB,UACI,eAACC,EAAA,EAAD,CAAK7B,UAAU,UAAf,UACI,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAQwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC7C,qBAAKA,UAAU,4BAAf,sCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,uBAAuBvB,UAAU,gBAA1C,wEAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,sBAAsBvB,UAAU,gBAAzC,iCAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,OAAOvB,UAAU,gBAA1B,mDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CACIT,GAAI,CACAa,SAAU,+BACVtB,MAAO,CAAEuB,KAAM,SAEnBrC,UAAU,gBALd,yCAUJ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAawB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAClD,qBAAKA,UAAU,4BAAf,mCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,2BAA2BvB,UAAU,gBAA9C,wDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,8BAA8BvB,UAAU,gBAAjD,mEAQJ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAUwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC/C,qBAAKA,UAAU,4BAAf,+BAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,8BAA8BvB,UAAU,gBAAjD,2DAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CACIT,GAAI,CACAa,SAAU,0BACVtB,MAAO,CAAEuB,KAAM,SAEnBrC,UAAU,gBALd,mFAWR,cAAC6B,EAAA,EAAD,UACKb,KAAKP,QAAQQ,MACV,eAACa,EAAA,EAAD,CACIG,YAAU,EACVF,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAcwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACnD,qBAAKA,UAAU,4BAAf,SACKgB,KAAKP,QAAQQ,MAAQD,KAAKP,QAAQQ,KAAKiB,mBAKxDN,GAAG,qBAZP,UAcI,cAAC,IAAD,CAAML,GAAG,gBAAgBvB,UAAU,gBAAnC,gDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,mBAAmBvB,UAAU,gBAAtC,8CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,qBAAKhC,UAAU,gBAAgBmC,QAASnB,KAAKX,OAA7C,mDAY5B,iCACI,eAACc,EAAA,EAAD,CAAQC,GAAG,UAAUC,OAAO,KAAKC,QAAQ,OAAzC,UACI,cAAC,IAAD,CAAMC,GAAG,IAAIvB,UAAU,eAAvB,SACI,cAAC,IAAD,CAAQwB,KAA4B,IAAtBR,KAAKF,MAAMC,aAE7B,cAACI,EAAA,EAAOM,OAAR,CAAeC,gBAAc,qBAC7B,eAACP,EAAA,EAAOQ,SAAR,CAAiBC,GAAG,mBAApB,UACI,eAACC,EAAA,EAAD,CAAK7B,UAAU,UAAf,UACI,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAcwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACnD,qBAAKA,UAAU,4BAAf,gCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,eAAevB,UAAU,gBAAlC,6DAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,SAASvB,UAAU,gBAA5B,6DAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,WAAWvB,UAAU,gBAA9B,2DAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,mBAAmBvB,UAAU,gBAAtC,oEAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,WAAWvB,UAAU,gBAA9B,yDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,WAAWvB,UAAU,gBAA9B,8DAIJ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAQwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC7C,qBAAKA,UAAU,4BAAf,sCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,uBAAuBvB,UAAU,gBAA1C,iDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,+BAA+BvB,UAAU,gBAAlD,kCAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,yBAAyBvB,UAAU,gBAA5C,sDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,sBAAsBvB,UAAU,gBAAzC,uEAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,kBAAkBvB,UAAU,gBAArC,2CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,WAAWvB,UAAU,gBAA9B,kDAIJ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAawB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAClD,qBAAKA,UAAU,4BAAf,mCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,kBAAkBvB,UAAU,gBAArC,wDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,qBAAqBvB,UAAU,gBAAxC,mEAQJ,cAAC,IAAD,CAAMuB,GAAG,cAAcvB,UAAU,WAAjC,SACI,qBAAKA,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAgBwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACrD,qBAAKA,UAAU,4BAAf,6DAMZ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAUwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC/C,qBAAKA,UAAU,4BAAf,+BAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,kBAAkBvB,UAAU,gBAArC,uDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,kBAAkBvB,UAAU,gBAArC,qDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,sCAAsCvB,UAAU,gBAAzD,+CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,8BAA8BvB,UAAU,gBAAjD,oEAKR,cAAC6B,EAAA,EAAD,UACKb,KAAKP,QAAQQ,MACV,eAACa,EAAA,EAAD,CACIG,YAAU,EACVF,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAcwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACnD,qBAAKA,UAAU,4BAAf,SACKgB,KAAKP,QAAQQ,MAAQD,KAAKP,QAAQQ,KAAKiB,mBAKxDN,GAAG,qBAZP,UAcI,cAAC,IAAD,CAAML,GAAG,gBAAgBvB,UAAU,gBAAnC,gDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,mBAAmBvB,UAAU,gBAAtC,8CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,qBAAKhC,UAAU,gBAAgBmC,QAASnB,KAAKX,OAA7C,mDA/XpB,iCACI,eAACc,EAAA,EAAD,CAAQC,GAAG,UAAUC,OAAO,KAAKC,QAAQ,OAAzC,UACI,cAAC,IAAD,CAAMC,GAAG,IAAIvB,UAAU,eAAvB,SACI,cAAC,IAAD,CAAQwB,KAA4B,IAAtBR,KAAKF,MAAMC,aAE7B,cAACI,EAAA,EAAOM,OAAR,CAAeC,gBAAc,8B,GA1BhC7B,IAAMK,YAia3BC,EAAOmC,YAAc1C,EAENO,Q,gDCxZAoC,G,mKAhBX,WACI,OACI,qBAAKvC,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,SAAzC,SACI,qBAAKzC,UAAU,gCAAf,SACI,sBAAKA,UAAU,SAAf,gFACiC,uBADjC,mE,GAPLE,c,0BCAbwC,EAAqE,MAA3DC,EAAYC,MAAMC,OAAOF,EAAYC,MAAME,OAAS,GAAaH,EAAYC,MAAMG,MAAM,GAAI,GAAKJ,EAAYC,MAExH3B,EAAO+B,IAAMC,OAAO,CAAEC,QAAS,MAC/BC,EAAQH,IAAMC,OAAO,CAAEC,QAAS,MAEtCC,EAAMC,SAASC,iBAAkB,EAEjCpC,EAAKqC,aAAaC,QAAQC,KAAI,SAAUC,GAEpC,IAAMC,EAAcnD,aAAaoD,QAAQ,eAIzC,OAHID,IACAD,EAAOG,QAAQ,kBAAoBF,GAEhCD,KACR,SAAUI,GACT,OAAOC,QAAQC,OAAOF,MAG1B5C,EAAKqC,aAAaU,SAASR,KAAI,SAAUQ,GACrC,OAAOA,IADX,uCAEG,WAAgBH,GAAhB,iBAAAvD,EAAA,0DACO2D,EAAkBJ,EAAMJ,QAETS,QAASL,EAAMG,UAAsC,MAA1BH,EAAMG,SAASG,OAHhE,iCAKSF,EAAgBC,OAAQ,EALjC,SAMyBE,EAAIC,eAN7B,cAMaC,EANb,OAOS/D,aAAagE,QAAQ,cAAeD,EAAIE,KAAKd,aAC7C9C,QAAQC,IAAI,0BARrB,kBASgBI,EAAKgD,IATrB,2DAWgBH,QAAQC,OAAOF,IAX/B,iCAcQC,QAAQC,OAAOF,IAdvB,0DAFH,uDAmBA,IAAMO,EAAM,CACRK,MAAO,SAACC,EAAUC,GACd,OAAOxB,EAAMyB,KAAN,UAAclC,EAAd,eAAoC,CAAEgC,SAAUA,EAAUC,SAAUA,KAE/EN,aAAc,WACV,OAAOlB,EAAMyB,KAAN,UAAclC,EAAd,yBAEXmC,UAAW,WACP,OAAO5D,EAAK6D,IAAL,UAAYpC,EAAZ,sBAEXqC,eAAgB,SAACnD,GACb,OAAOX,EAAK6D,IAAL,UAAYpC,EAAZ,uBAAkCd,KAE7CoD,cAAe,SAACpD,EAAI+C,GAChB,OAAO1D,EAAK2D,KAAL,UAAalC,EAAb,mCAA+Cd,GAAM,CACxD+C,SAAUA,KAGlBM,eAAgB,SAACrD,EAAIsD,EAAaC,GAC9B,OAAOlE,EAAKmE,IAAL,UAAY1C,EAAZ,oCAA+Cd,GAAM,CACxDyD,aAAcH,EACdI,aAAcH,KAGtBI,QAAS,SAACb,GACN,OAAOzD,EAAK2D,KAAL,UAAalC,EAAb,kBAAsC,CACzCgC,SAAUA,KAGlBc,SAAU,SAACC,EAAUC,GACjB,OAAOzE,EAAK2D,KAAL,UAAalC,EAAb,mBAAuC,CAC1C+C,SAAUA,EACVC,IAAKA,KAGbC,eAAgB,SAACjC,EAAayB,GAC1B,OAAOlE,EAAK2D,KAAL,UAAalC,EAAb,yBAA6C,CAChDgB,YAAaA,EACbyB,YAAaA,KAGrBS,kBAAmB,SAACC,EAAMC,GACtB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,kCAA6CmD,EAA7C,oBAA6DC,KAExEC,cAAe,SAACvB,GACZ,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,iBAAqC,CACxCsD,WAAYxB,EAAKwB,WACjBC,eAAgBzB,EAAK0B,mBACrBC,aAAc3B,EAAK4B,oBACnBC,eAAgB7B,EAAK8B,oBACrBC,aAAc/B,EAAKgC,qBACnBC,YAAajC,EAAKiC,eAG1BC,eAAgB,SAAClC,GACb,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,2BAAsC8B,EAAKmC,cAAgB,CAC9DX,WAAYxB,EAAKwB,WACjBC,eAAgBzB,EAAK0B,mBACrBC,aAAc3B,EAAK4B,oBACnBC,eAAgB7B,EAAK8B,oBACrBC,aAAc/B,EAAKgC,qBACnBC,YAAajC,EAAKiC,eAG1BG,iBAAkB,SAAChF,GACf,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,2BAAyCd,KAEpDkF,aAAc,SAACjB,EAAMC,GACjB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,4BAAuCmD,EAAvC,oBAAuDC,KAElEiB,kBAAmB,SAAClB,EAAMC,EAASkB,GAC/B,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,uBAAkCsE,EAAlC,iBAA+CnB,EAA/C,oBAA+DC,KAE1EmB,SAAU,SAACzC,GACP,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,WAA+B,CAClC1C,UAAWwE,EAAKxE,UAChBkH,UAAW1C,EAAK0C,UAChBT,YAAajC,EAAKiC,YAClBE,aAAc,KAGtBQ,UAAW,SAAC3C,GACR,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,qBAAgC8B,EAAK4C,SAAW,CACnDpH,UAAWwE,EAAKxE,UAChBkH,UAAW1C,EAAK0C,UAChBT,YAAajC,EAAKiC,YAClBE,aAAc,KAGtBU,YAAa,SAACzF,GACV,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,qBAAmCd,KAE9C0F,eAAgB,SAACzB,EAAMC,GACnB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,8BAAyCmD,EAAzC,oBAAyDC,KAEpEyB,oBAAqB,SAAC1B,EAAMC,EAASkB,GACjC,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoCsE,EAApC,iBAAiDnB,EAAjD,oBAAiEC,KAE5E0B,WAAY,SAAChD,GACT,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,aAAiC,CACpC+E,YAAajD,EAAKiD,YAClBC,YAAalD,EAAKkD,YAClBjB,YAAajC,EAAKiC,eAG1BkB,YAAa,SAACnD,GACV,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,uBAAkC8B,EAAKoD,WAAa,CACvDH,YAAajD,EAAKiD,YAClBC,YAAalD,EAAKkD,YAClBjB,YAAajC,EAAKiC,eAG1BoB,cAAe,SAACjG,GACZ,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,uBAAqCd,KAEhDkG,sBAAuB,SAACjC,EAAMC,GAC1B,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,sCAAiDmD,EAAjD,oBAAiEC,KAE5EiC,2BAA4B,SAAClC,EAAMC,EAASkB,GACxC,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,iCAA4CsE,EAA5C,iBAAyDnB,EAAzD,oBAAyEC,KAEpFkC,kBAAmB,SAACxD,GAChB,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,qBAAyC,CAC5CuF,eAAgBzD,EAAKyD,eACrBxB,YAAajC,EAAKiC,eAG1ByB,mBAAoB,SAAC1D,GACjB,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,+BAA0C8B,EAAK2D,kBAAoB,CACtEF,eAAgBzD,EAAKyD,eACrBxB,YAAajC,EAAKiC,eAG1B2B,qBAAsB,SAACxG,GACnB,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,+BAA6Cd,KAExDyG,eAAgB,SAACxC,EAAMC,GACnB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,8BAAyCmD,EAAzC,oBAAyDC,KAEpEwC,WAAY,SAAC1G,GACT,OAAOX,EAAK6D,IAAL,UAAYpC,EAAZ,uBAAkCd,KAE7C2G,iBAAkB,SAACC,GACf,OAAOvH,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoC8F,KAE/CC,oBAAqB,SAAC5C,EAAMC,EAASkB,GACjC,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoCsE,EAApC,iBAAiDnB,EAAjD,oBAAiEC,KAE5E4C,0BAA2B,SAAC7C,EAAMC,EAAS6C,GACvC,OAAO1H,EAAK6D,IAAL,UAAYpC,EAAZ,gCAA2CmD,EAA3C,oBAA2DC,EAA3D,kBAA4E6C,KAEvFC,WAAY,SAACpE,GACT,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,aAAiC,CACpCmG,YAAarE,EAAKqE,YAClBC,YAAatE,EAAKsE,YAClBC,QAASvE,EAAKuE,QACdC,mBAAoBxE,EAAKwE,mBACzBC,OAAQzE,EAAKyE,OACbC,IAAK1E,EAAK0E,IACVC,MAAO3E,EAAK2E,MACZC,YAAa5E,EAAK4E,YAClBC,MAAO7E,EAAK6E,MACZC,YAAa9E,EAAK8E,YAClBC,YAAa/E,EAAK+E,YAClBC,YAAahF,EAAKgF,YAClBtH,YAAasC,EAAKtC,YAClBuH,WAAYjF,EAAKiF,WACjBC,YAAalF,EAAKkF,YAClBC,WAAYnF,EAAKmF,WACjBC,WAAYpF,EAAKoF,WACjBC,YAAarF,EAAKqF,YAClBC,WAAYtF,EAAKsF,cAGzBC,YAAa,SAACvF,GACV,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,uBAAkC8B,EAAKwF,WAAa,CACvDnB,YAAarE,EAAKqE,YAClBC,YAAatE,EAAKsE,YAClBC,QAASvE,EAAKuE,QACdC,mBAAoBxE,EAAKwE,mBACzBC,OAAQzE,EAAKyE,OACbC,IAAK1E,EAAK0E,IACVC,MAAO3E,EAAK2E,MACZC,YAAa5E,EAAK4E,YAClBC,MAAO7E,EAAK6E,MACZC,YAAa9E,EAAK8E,YAClBC,YAAa/E,EAAK+E,YAClBC,YAAahF,EAAKgF,YAClBtH,YAAasC,EAAKtC,YAClBuH,WAAYjF,EAAKiF,WACjBC,YAAalF,EAAKkF,YAClBC,WAAYnF,EAAKmF,WACjBC,WAAYpF,EAAKoF,WACjBC,YAAarF,EAAKqF,YAClBC,WAAYtF,EAAKsF,cAGzBG,cAAe,SAACrI,GACZ,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,uBAAqCd,KAEhDsI,eAAgB,SAACrE,EAAMC,GACnB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,8BAAyCmD,EAAzC,oBAAyDC,KAEpEqE,WAAY,SAACvI,GACT,OAAOX,EAAK6D,IAAL,UAAYpC,EAAZ,uBAAkCd,KAE7CwI,iBAAkB,SAAC5B,GACf,OAAOvH,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoC8F,KAE/C6B,oBAAqB,SAACxE,EAAMC,EAASkB,GACjC,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoCsE,EAApC,iBAAiDnB,EAAjD,oBAAiEC,KAE5EwE,0BAA2B,SAACzE,EAAMC,EAAS6C,GACvC,OAAO1H,EAAK6D,IAAL,UAAYpC,EAAZ,gCAA2CmD,EAA3C,oBAA2DC,EAA3D,kBAA4E6C,KAEvF4B,WAAY,SAAC/F,GACT,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,aAAiC,CACpC8H,YAAahG,EAAKgG,YAClBC,YAAajG,EAAKiG,YAClB1B,QAASvE,EAAKuE,QACdC,mBAAoBxE,EAAKwE,mBACzBC,OAAQzE,EAAKyE,OACbC,IAAK1E,EAAK0E,IACVC,MAAO3E,EAAK2E,MACZC,YAAa5E,EAAK4E,YAClBC,MAAO7E,EAAK6E,MACZC,YAAa9E,EAAK8E,YAClBC,YAAa/E,EAAK+E,YAClBC,YAAahF,EAAKgF,YAClBkB,mBAAoBlG,EAAKkG,mBACzBC,MAAOnG,EAAKmG,SAGpBC,YAAa,SAACpG,GACV,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,uBAAkC8B,EAAKqG,WAAa,CACvDL,YAAahG,EAAKgG,YAClBC,YAAajG,EAAKiG,YAClB1B,QAASvE,EAAKuE,QACdC,mBAAoBxE,EAAKwE,mBACzBC,OAAQzE,EAAKyE,OACbC,IAAK1E,EAAK0E,IACVC,MAAO3E,EAAK2E,MACZC,YAAa5E,EAAK4E,YAClBC,MAAO7E,EAAK6E,MACZC,YAAa9E,EAAK8E,YAClBC,YAAa/E,EAAK+E,YAClBC,YAAahF,EAAKgF,YAClBkB,mBAAoBlG,EAAKkG,mBACzBC,MAAOnG,EAAKmG,SAGpBG,cAAe,SAAClJ,GACZ,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,uBAAqCd,KAEhDmJ,0BAA2B,SAAClF,EAAMC,GAC9B,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,0CAAqDmD,EAArD,oBAAqEC,KAEhFkF,yBAA0B,SAACnF,EAAMC,EAASmF,GACtC,IAAIC,EAAG,UAAMxI,EAAN,4CAAiDmD,EAAjD,oBAAiEC,GAMxE,OAJImF,EAAgBtE,eAAcuE,GAAG,wBAAqBD,EAAgBtE,eACtEsE,EAAgBJ,YAAWK,GAAG,qBAAkBD,EAAgBJ,YAChEI,EAAgB7D,UAAS8D,GAAG,mBAAgBD,EAAgB7D,UAC5D6D,EAAgBrD,YAAWsD,GAAG,qBAAkBD,EAAgBrD,YAC7D3G,EAAK6D,IAAIoG,IAEpBC,sBAAuB,SAAC3G,GACpB,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,yBAA6C,CAChDiE,aAAcnC,EAAKmC,aACnBkE,UAAWrG,EAAKqG,UAChBzD,QAAS5C,EAAK4C,QACdQ,UAAWpD,EAAKoD,aAGxBwD,yBAA0B,SAACxJ,GACvB,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,mCAAiDd,KAE5DyJ,iCAAkC,SAACxF,EAAMC,GACrC,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,kDAA6DmD,EAA7D,oBAA6EC,KAExFwF,gCAAiC,SAACzF,EAAMC,EAASmF,GAC7C,IAAIC,EAAG,UAAMxI,EAAN,oDAAyDmD,EAAzD,oBAAyEC,GAKhF,OAHImF,EAAgBtE,eAAcuE,GAAG,wBAAqBD,EAAgBtE,eACtEsE,EAAgBJ,YAAWK,GAAG,qBAAkBD,EAAgBJ,YAChEI,EAAgB7D,UAAS8D,GAAG,mBAAgBD,EAAgB7D,UACzDnG,EAAK6D,IAAIoG,IAEpBK,6BAA8B,SAAC/G,GAC3B,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,gCAAoD,CACvDiE,aAAcnC,EAAKmC,aACnBkE,UAAWrG,EAAKqG,UAChBzD,QAAS5C,EAAK4C,WAGtBoE,8BAA+B,SAAChH,GAC5B,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,2CAAsD8B,EAAKiH,6BAA+B,CAC7F9E,aAAcnC,EAAKmC,aACnBkE,UAAWrG,EAAKqG,UAChBzD,QAAS5C,EAAK4C,WAGtBsE,gCAAiC,SAAC9J,GAC9B,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,2CAAyDd,KAEpE+J,4BAA6B,SAAC9F,EAAMC,GAChC,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,4CAAuDmD,EAAvD,oBAAuEC,KAElF8F,2BAA4B,SAAC/F,EAAMC,EAASmF,GACxC,IAAIC,EAAG,UAAMxI,EAAN,8CAAmDmD,EAAnD,oBAAmEC,GAK1E,OAJAlF,QAAQC,IAAIoK,GACRA,EAAgBtE,eAAcuE,GAAG,wBAAqBD,EAAgBtE,eACtEsE,EAAgBJ,YAAWK,GAAG,qBAAkBD,EAAgBJ,YAChEI,EAAgB9C,mBAAkB+C,GAAG,4BAAyBD,EAAgB9C,mBAC3ElH,EAAK6D,IAAIoG,IAEpBW,wBAAyB,SAACrH,GACtB,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,0BAA8C,CACjDiE,aAAcnC,EAAKmC,aACnBkE,UAAWrG,EAAKqG,UAChB1C,iBAAkB3D,EAAK2D,oBAG/B2D,2BAA4B,SAAClK,GACzB,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,qCAAmDd,KAE9DmK,yBAA0B,SAAClG,EAAMC,GAC7B,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,yCAAoDmD,EAApD,oBAAoEC,KAE/EkG,wBAAyB,SAACnG,EAAMC,EAASmF,GACrC,IAAIC,EAAG,UAAMxI,EAAN,2CAAgDmD,EAAhD,oBAAgEC,GAKvE,OAJAlF,QAAQC,IAAIoK,GACRA,EAAgBtE,eAAcuE,GAAG,wBAAqBD,EAAgBtE,eACtEsE,EAAgBjB,YAAWkB,GAAG,qBAAkBD,EAAgBjB,YAChEiB,EAAgB7D,UAAS8D,GAAG,mBAAgBD,EAAgB7D,UACzDnG,EAAK6D,IAAIoG,IAEpBe,qBAAsB,SAACzH,GACnB,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,uBAA2C,CAC9CiE,aAAcnC,EAAKmC,aACnBqD,UAAWxF,EAAKwF,UAChB5C,QAAS5C,EAAK4C,WAGtB8E,wBAAyB,SAACtK,GACtB,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,kCAAgDd,KAE3DuK,aAAc,SAACC,GACX,OAAOnL,EAAK2D,KAAL,UAAalC,EAAb,uCAA2D,CAC9D8B,KAAM4H,KAGdC,eAAgB,SAACxG,EAAMC,GACnB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,8BAAyCmD,EAAzC,oBAAyDC,KAEpEwG,oBAAqB,SAACzG,EAAMC,EAASyG,GACjC,OAAOtL,EAAK6D,IAAL,UAAYpC,EAAZ,gCAA2CmD,EAA3C,oBAA2DC,EAA3D,qBAA+EyG,KAE1FC,WAAY,SAAChI,GACT,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,aAAiC,CACpCR,YAAasC,EAAKtC,YAClByC,SAAUH,EAAKG,SACf8H,SAAUjI,EAAKiI,SACfvL,KAAMsD,EAAKtD,QAGnBwL,YAAa,SAAClI,GACV,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,oBAA+B8B,EAAKmI,WAAa,CACpDzK,YAAasC,EAAKtC,YAClByC,SAAUH,EAAKG,SACf8H,SAAUjI,EAAKiI,SACfvL,KAAM0L,SAASpI,EAAKtD,SAG5B2L,cAAe,SAACjL,GACZ,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,oBAAkCd,KAE7CkL,iBAAkB,SAACjH,EAAMC,GACrB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,iCAA4CmD,EAA5C,oBAA4DC,KAEvEiH,aAAc,SAACvI,GACX,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,gBAAoC,CACvCiE,aAAcnC,EAAKmC,aACnBqG,KAAMxI,EAAKwI,KACXC,KAAMzI,EAAKyI,QAGnBC,cAAe,SAAC1I,GACZ,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,qBAAwC,CAC3CiE,aAAcnC,EAAKmC,aACnBqG,KAAMxI,EAAKwI,QAGnBG,gBAAiB,SAAC3I,GACd,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,uBAA0C,CAC7CiE,aAAcnC,EAAKmC,aACnBqG,KAAMxI,EAAKwI,QAGnBI,gBAAiB,SAACxL,GACd,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,0BAAwCd,KAEnDyL,UAAW,SAAC1G,EAAcqG,GACtB,OAAO/L,EAAK6D,IAAL,UAAYpC,EAAZ,0CAAqDiE,EAArD,iBAA0EqG,KAErFM,gBAAiB,SAACtD,EAAWpC,EAAWjB,EAAcqG,GAClD,OAAO/L,EAAK6D,IAAL,UAAYpC,EAAZ,mDAA8DsH,EAA9D,sBAAqFpC,EAArF,yBAA+GjB,EAA/G,iBAAoIqG,KAE/IO,gBAAiB,SAACvD,EAAWrD,EAAcqG,GACvC,OAAO/L,EAAK6D,IAAL,UAAYpC,EAAZ,2CAAsDsH,EAAtD,yBAAgFrD,EAAhF,iBAAqGqG,KAEhHQ,UAAW,SAAChJ,GACR,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,WAA8B8B,IAEzCiJ,gBAAiB,SAACxC,GACd,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,oCAA+CuI,EAAgBJ,UAA/D,yBAAyFI,EAAgBtE,aAAzG,iBAA8HsE,EAAgB+B,QAEzJU,kBAAmB,SAACzC,GAChB,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,sCAAiDuI,EAAgBjB,UAAjE,yBAA2FiB,EAAgBtE,aAA3G,iBAAgIsE,EAAgB+B,QAE3JW,cAAe,SAACnJ,GACZ,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,YAAgC,CACnCsH,UAAWxF,EAAKwF,UAChB5C,QAAS5C,EAAK4C,QACdyD,UAAWrG,EAAKqG,UAChBlE,aAAcnC,EAAKmC,aACnBiH,QAASpJ,EAAKoJ,QACdZ,KAAMxI,EAAKwI,KACXa,KAAMrJ,EAAKqJ,QAGnBC,cAAe,SAACjI,EAAMC,EAASmF,GAC3B,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,mCAA8CmD,EAA9C,oBAA8DC,EAA9D,yBAAsFmF,EAAgBtE,aAAtG,oBAA8HsE,EAAgB7D,QAA9I,iBAA8J6D,EAAgB+B,QAEzLe,iBAAkB,SAAClI,EAAMC,EAASmF,GAC9B,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,sCAAiDmD,EAAjD,oBAAiEC,EAAjE,yBAAyFmF,EAAgBtE,aAAzG,oBAAiIsE,EAAgB7D,QAAjJ,iBAAiK6D,EAAgB+B,QAE5LgB,uBAAwB,SAAC/C,GACrB,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,kDAA6DuI,EAAgBjB,UAA7E,yBAAuGiB,EAAgBtE,gBAElIsH,qBAAsB,SAACpD,GACnB,OAAO5J,EAAK6D,IAAL,UAAYpC,EAAZ,+BAA0CmI,KAErDqD,mBAAoB,SAACjD,GACjB,IAAIkD,EAAgB,SAACC,GACjB,IAAIC,EAAI,IAAIC,KAAKF,GACbG,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GAFfJ,EAAEM,cAGC,IAAMF,EAAK,IAAMF,GAEnC,OAAOtN,EAAK6D,IAAL,UAAYpC,EAAZ,6CAAwDuI,EAAgB7D,QAAxE,yBAAgG6D,EAAgBtE,aAAhH,uBAA2IwH,EAAclD,EAAgB2D,WAAzK,qBAAgMT,EAAclD,EAAgB4D,YAEzOC,iBAAkB,SAACtK,GACf,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,eAAkC8B,IAE7CuK,OAAQ,SAAC9D,GAEL,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,0BAAqCuI,EAAgBjB,UAArD,yBAA+EiB,EAAgBtE,gBAE1GqI,YAAa,SAAC7F,GACV,IAAI3E,EAAO,IAAIyK,SAEf,OADAzK,EAAK0K,OAAO,SAAU/F,GACflI,EAAK2D,KAAL,UAAalC,EAAb,0BAA8C8B,EAAM,CACvDZ,QAAS,CACL,eAAgB,2BAMjBQ,I,kBCzeA+K,E,kDApBX,WAAY/O,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,GAFE,E,0CAKnB,WACI,OACI,cAACsO,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAAvC,SACI,cAACF,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,6CAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,oC,GAZNH,IAAMK,W,gBCKtBsP,E,kDACF,WAAYpP,GAAQ,IAAD,8BACf,cAAMA,IAaVqP,cAAgB,SAACC,GACb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBC,EAAW,EAAK/O,MAAM+O,SAC1BA,EAAS7I,GAAQ4I,EACjB,EAAKE,SAAS,CAAE,SAAYD,KAnBb,EAsBnBE,cAtBmB,uCAsBH,WAAOL,GAAP,qBAAApP,EAAA,6DACRkE,EAAO,EAAK1D,MAAM+O,SACtBH,EAAEM,iBAFU,SAMR,EAAKF,SAAS,CAAEG,SAAS,IANjB,SAOQ7L,EAAIK,MAAMD,EAAKE,SAAUF,EAAKG,UAPtC,OAOJL,EAPI,OASR/D,aAAagE,QAAQ,cAAeD,EAAIE,KAAKd,aACzCzC,EAAOiP,YAAI5L,EAAIE,KAAKd,aAExB,EAAKjD,QAAQC,QAAQO,GAErBkP,QAAMC,gBAAgB,CAClBrO,MAAO,4CACPsO,QAAQ,eAAD,OAAcpP,EAAKiB,aAC1BoO,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAIrCC,EAAO,EAAKxQ,MAAMyQ,SAAS/P,OAAS,EAAKV,MAAMyQ,SAAS/P,MAAM8P,KAClE,EAAKd,SAAS,CAAEG,SAAS,IACzB,EAAK7P,MAAM0Q,QAAQC,KAAKH,GAAQ,KA9BxB,qDAgCRhQ,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAlCzB,wBAmCJgM,QAAMC,gBAAgB,CAClBrO,MAAO,8CACPsO,QAAS,0EACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA7CrC,2BAiDRR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3DjC,0DAtBG,sDAEf,EAAK7P,MAAQ,CACT+O,SAAU,GACVI,SAAS,GAJE,E,qDAQnB,WACQjP,KAAKP,QAAQQ,MACbD,KAAKZ,MAAM0Q,QAAQC,KAAK,O,oBA6EhC,WAAU,IAAD,OACL,OACI,sBAAK/Q,UAAU,YAAf,UACI,cAAC,EAAD,CAASqP,KAAMrO,KAAKF,MAAMmP,UAC1B,qBAAKjQ,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,sBAAKzC,UAAU,qBAAf,UACI,oGACA,0FAGR,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEyO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,SAASC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAxD,UACI,sBAAK1P,UAAU,aAAf,UACI,8DACA,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAe4B,GAAG,WAC3CoF,KAAK,WACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,sBAAKrR,UAAU,aAAf,UACI,wDACA,uBAAOsQ,KAAK,WAAWtQ,UAAU,eAAe4B,GAAG,MAC/CoF,KAAK,WACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,wBAAQf,KAAK,SAAStQ,UAAU,kBAAkBwC,MAAO,CAAE8O,YAAa,QAAxE,sCACA,cAAC,IAAD,CAAM/P,GAAG,kBAAT,sD,GAtHRrB,aA+HpBsP,EAAMlN,YAAc1C,EAEL2R,kBAAW/B,GCjIpBgC,G,yDAEF,WAAYpR,GAAQ,IAAD,8BACf,cAAMA,IA2BVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA7BJ,EAgCnBC,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAjCb,EAAK7N,MAAQ,CACT8Q,YAAa,IAHF,E,4FAOnB,4BAAAtR,EAAA,yDACIU,KAAK8O,SAAS,CAAEG,SAAS,IAD7B,SAKuC,IAA3BjP,KAAKP,QAAQQ,KAAKC,KAL9B,gCAMwBkD,EAAImE,iBAAiBvH,KAAKP,QAAQQ,KAAKwL,UAN/D,OAMYnI,EANZ,+CAQwBF,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,UAR/D,QAQYnI,EARZ,eAUQ1D,QAAQC,IAAIyD,GACZtD,KAAK8O,SAAS,CACVG,SAAS,EACT2B,YAAatN,EAAIE,KAAKqN,SAblC,kDAiBQjR,QAAQC,IAAR,MAjBR,0D,0EAkCA,WACI,IAAM+Q,EAAgB5Q,KAAKF,MAArB8Q,YACN,OACI,sBAAK5R,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,iDAKR,uBACA,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,sCAAf,SACI,qBAAK8R,IAAKnP,EAAYC,MAAQ,KAAO5B,KAAKF,MAAM8Q,YAAYzI,MAAO4I,IAAI,SAASvP,MAAO,CAAEwP,MAAO,OAAQC,OAAQ,YAEpH,sBAAKjS,UAAU,2BAAf,UACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,gDAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKP,QAAQQ,KAAKiB,mBAG9D,sBAAKlC,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,+BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKF,MAAM8Q,YAAY9I,aAAe9H,KAAKF,MAAM8Q,YAAYnH,mBAGzG,sBAAKzK,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,SAA0CgB,KAAKP,QAAQQ,KAAKC,KAAO,wBAAiB,2BAExF,qBAAKlB,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKP,QAAQQ,KAAKwL,gBAG9D,sBAAKzM,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,6BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKF,MAAM8Q,YAAYxI,aAAepI,KAAK2Q,WAAW,IAAIrD,KAAKtN,KAAKF,MAAM8Q,YAAYxI,qBAGlI,sBAAKpJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,kCAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAY3I,OAAS,MAAQ,iBAGzE,sBAAKjJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,6BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAY1I,WAGxD,sBAAKlJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,0DAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAY5I,0BAGxD,sBAAKhJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,8CAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAY7I,eAGxD,sBAAK/I,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,4CAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYpI,aAAexI,KAAK2Q,WAAW,IAAIrD,KAAKsD,EAAYpI,qBAG5G,sBAAKxJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,8CAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYrI,aAAevI,KAAK2Q,WAAW,IAAIrD,KAAKsD,EAAYrI,qBAG5G,sBAAKvJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,0CAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYtI,mBAGxD,sBAAKtJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,sBAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYvI,aAG5B,IAA3BrI,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,uCAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYnI,kBAIhC,IAA3BzI,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,kDAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYlI,mBAIhC,IAA3B1I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,8BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYjI,kBAIhC,IAA3B3I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,uCAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYhI,kBAIhC,IAA3B5I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,kDAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAY/H,mBAIhC,IAA3B7I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,8BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAY9H,kBAIhC,IAA3B9I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,oDAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYlH,0BAIhC,IAA3B1J,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,iCAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC4R,EAAYjH,0B,GA3O1DzK,cAsP1BsR,EAAYlP,YAAc1C,EAEX2R,kBAAWC,G,QCnNXU,E,kDAzCX,WAAY9R,GAAQ,IAAD,8BACf,cAAMA,IAKVqP,cAAgB,SAACC,GACb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB9I,EAAO4I,KATT,EAWnBG,cAAgB,SAACL,GACb,IAAMhL,EAAa,EAAK5D,MAAlB4D,SACNgL,EAAEM,iBACF,EAAK5P,MAAM+R,kBAAkBzN,IAZ7B,EAAK5D,MAAQ,CACT4D,SAAU,IAHC,E,0CAgBnB,WAAU,IAAD,OACL,OAEI,qBAAK1E,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEyO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAK1P,UAAU,aAAf,UACI,8DACA,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAe4B,GAAG,WAC3CoF,KAAK,WACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,SAG1C,wBAAQY,KAAK,SAAStQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,SAASiB,MAAO,CAAEyO,OAAQ,QAAnC,sC,GAhCA/Q,aC6CbkS,E,kDA5CX,WAAYhS,GAAQ,IAAD,8BACf,cAAMA,IAKVqP,cAAgB,SAACC,GACb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB9I,EAAO4I,KATT,EAWnBG,cAAgB,SAACL,GACb,IAAMhK,EAAQ,EAAK5E,MAAb4E,IACNgK,EAAEM,iBACF,EAAK5P,MAAMiS,aAAa3M,IAZxB,EAAK5E,MAAQ,CACT4E,IAAK,IAHM,E,0CAgBnB,WAAU,IAAD,OACL,OAEI,qBAAK1F,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEyO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAK1P,UAAU,aAAf,UACI,4JAGA,+CACA,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAe4B,GAAG,MAC3CoF,KAAK,MACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,SAG1C,wBAAQY,KAAK,SAAStQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,SAASiB,MAAO,CAAEyO,OAAQ,QAAnC,sC,GAnCL/Q,aCkDRoS,E,kDAjDX,WAAYlS,GAAQ,IAAD,8BACf,cAAMA,IAMVqP,cAAgB,SAACC,GACb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB9I,EAAO4I,KAVT,EAYnBG,cAAgB,SAACL,GACb,MAA+B,EAAK5O,MAA9ByR,EAAN,EAAMA,UAAWC,EAAjB,EAAiBA,UACjB9C,EAAEM,iBACF,EAAK5P,MAAMqS,kBAAkBF,EAAWC,IAbxC,EAAK1R,MAAQ,CACTyR,UAAW,GACXC,UAAW,IAJA,E,0CAiBnB,WAAU,IAAD,OACL,OAEI,qBAAKxS,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEyO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAK1P,UAAU,aAAf,UACI,iEACA,uBAAOsQ,KAAK,WAAWtQ,UAAU,eAC7BgH,KAAK,YACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,SAG1C,sBAAK1P,UAAU,aAAf,UACI,oFACA,uBAAOsQ,KAAK,WAAWtQ,UAAU,eAC7BgH,KAAK,YACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,SAG1C,wBAAQY,KAAK,SAAStQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,SAASiB,MAAO,CAAEyO,OAAQ,QAAnC,sC,GAxCA/Q,aCMtBwS,G,kDACF,WAAYtS,GAAQ,IAAD,8BACf,cAAMA,IAaVuS,YAdmB,uCAcL,WAAOjO,GAAP,eAAApE,EAAA,6DAEV,EAAKwP,SAAS,CACVpL,SAAUA,EACVuL,SAAS,IAJH,kBAOU7L,EAAImB,QAAQb,GAPtB,OAOFJ,EAPE,OAQN,EAAKwL,SAAS,CACVrK,SAAUnB,EAAIE,KAAKiB,SACnBmN,wBAAwB,EACxBC,mBAAmB,EACnBC,wBAAwB,EACxB7C,SAAS,IAEbrP,QAAQC,IAAIyD,GAfN,mDAiBN1D,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAnB3B,wBAoBFgM,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,gFACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA9BvC,2BAkCNR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5CnC,yDAdK,wDA+DnBoC,OA/DmB,uCA+DV,WAAOrN,GAAP,eAAApF,EAAA,6DACLM,QAAQC,IAAI6E,GACZ,EAAKoK,SAAS,CACVpK,IAAKA,EACLuK,SAAS,IAJR,kBAOe7L,EAAIoB,SAAS,EAAK1E,MAAM2E,SAAUC,GAPjD,OAOGpB,EAPH,OAQD1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACVG,SAAS,EACTvM,YAAaY,EAAIE,KAAKd,YACtBkP,wBAAwB,EACxBC,mBAAmB,EACnBC,wBAAwB,IAd3B,qDAiBDlS,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAnBhC,wBAoBGgM,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,kEACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA9B5C,2BAkCDR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5CxC,0DA/DU,wDAkHnBqC,YAlHmB,uCAkHL,WAAOT,EAAWC,GAAlB,qBAAAlS,EAAA,yDACV,EAAKwP,SAAS,CACVyC,UAAWA,EACXC,UAAWA,IAEXS,EAAUV,EAAUW,QAAQ,UAAW,IAAIpQ,OAAS,EAAI,EAAI,EAC5DqQ,EAAWZ,EAAUW,QAAQ,aAAc,IAAIpQ,OAAS,EAAI,EAAI,EAChEsQ,EAAiBb,EAAUzP,OAASyP,EAAUW,QAAQ,+BAAgC,IAAIpQ,OAAU,EAAI,EAAI,IAC5GyP,EAAUzP,OAAS,GAAMmQ,EAAUE,EAAWC,EAAgB,GARxD,uBASNjD,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,sNACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAnBnC,6BAuBN4B,IAAcC,EAvBR,wBAwBNrC,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAS,4DACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAlCnC,kCAsCV,EAAKb,SAAS,CACVG,SAAS,IAvCH,oBA2CU7L,EAAIuB,eAAe,EAAK7E,MAAM4C,YAAa6O,GA3CrD,QA2CFjO,EA3CE,OA4CN1D,QAAQC,IAAIyD,GACZ6L,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAS,oDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CACVG,SAAS,EACTvM,YAAaY,EAAIE,KAAKd,YACtBkP,wBAAwB,EACxBC,mBAAmB,EACnBC,wBAAwB,IAE5B,EAAK1S,MAAM0Q,QAAQC,KAAK,UAhElB,mDAkENnQ,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9EnC,2DAlHK,wDAEf,EAAK7P,MAAQ,CACT8R,wBAAwB,EACxBC,mBAAmB,EACnBC,wBAAwB,EACxBpO,SAAU,GACVgB,IAAK,GACL6M,UAAW,GACXC,UAAW,GACXvC,SAAS,EACToD,SAAU,IAXC,E,0CAqMnB,WACI,MAE+BrS,KAAKF,MAF9B8R,EAAN,EAAMA,uBACFC,EADJ,EACIA,kBACAC,EAFJ,EAEIA,uBACJ,OACI,sBAAK9S,UAAU,YAAf,UACI,cAAC,EAAD,CAASqP,KAAMrO,KAAKF,MAAMmP,UACxB2C,EAAyB,cAAC,EAAD,CAAeT,kBAAmBnR,KAAK2R,cAAkB,GAClFE,EAAoB,cAAC,EAAD,CAAUR,aAAcrR,KAAK+R,SAAa,GAC9DD,EAAyB,cAAC,EAAD,CAAeL,kBAAmBzR,KAAKgS,cAAkB,U,GA/MvE9S,aAqNdqR,eAAWmB,IChLXY,G,kDA1CX,WAAYlT,GAAQ,IAAD,8BACf,cAAMA,IAKVqP,cAAgB,SAACC,GACb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB9I,EAAO4I,KATT,EAWnBG,cAAgB,SAACL,GACb,IAAMxK,EAAgB,EAAKpE,MAArBoE,YACNwK,EAAEM,iBACF,EAAK5P,MAAMmT,qBAAqBrO,IAZhC,EAAKpE,MAAQ,CACToE,YAAa,IAHF,E,0CAgBnB,WAAU,IAAD,OACL,OAEI,qBAAKlF,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEyO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAK1P,UAAU,aAAf,UACI,0EACA,uBAAOsQ,KAAK,WAAWtQ,UAAU,eAAe4B,GAAG,cAC/CoF,KAAK,cACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,wBAAQf,KAAK,SAAStQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,IAAIiB,MAAO,CAAEyO,OAAQ,QAA9B,sC,GAjCG/Q,aCmDhBoS,G,kDAlDX,WAAYlS,GAAQ,IAAD,8BACf,cAAMA,IAMVqP,cAAgB,SAACC,GACb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB9I,EAAO4I,KAVT,EAYnBG,cAAgB,SAACL,GACb,MAA+B,EAAK5O,MAA9ByR,EAAN,EAAMA,UAAWC,EAAjB,EAAiBA,UACjB9C,EAAEM,iBACF,EAAK5P,MAAMqS,kBAAkBF,EAAWC,IAbxC,EAAK1R,MAAQ,CACTyR,UAAW,GACXC,UAAW,IAJA,E,0CAiBnB,WAAU,IAAD,OACL,OACI,qBAAKxS,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEyO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAK1P,UAAU,aAAf,UACI,iEACA,uBAAOsQ,KAAK,WAAWtQ,UAAU,eAC7BgH,KAAK,YACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,sBAAKrR,UAAU,aAAf,UACI,oFACA,uBAAOsQ,KAAK,WAAWtQ,UAAU,eAC7BgH,KAAK,YACLoK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,wBAAQf,KAAK,SAAStQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,IAAIiB,MAAO,CAAEyO,OAAQ,QAA9B,sC,GAzCA/Q,aCKtBsT,G,kDACF,WAAYpT,GAAQ,IAAD,8BACf,cAAMA,IAWVqT,eAZmB,uCAYF,WAAOvO,GAAP,SAAA5E,EAAA,6DACbM,QAAQC,IAAIqE,GACZ,EAAK4K,SAAS,CACV5K,YAAaA,EACb+K,SAAS,IAJA,kBAQH7L,EAAIY,cAAc,EAAKvE,QAAQQ,KAAK0L,UAAWzH,GAR5C,OAST,EAAK4K,SAAS,CACVG,SAAS,EACTyD,2BAA2B,EAC3BZ,wBAAwB,IAZnB,mDAeTlS,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAjBxB,wBAkBLgM,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,iFACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA5BpC,2BAgCTR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1ChC,yDAZE,wDA0DnBoC,OAAS,SAACrN,GACN9E,QAAQC,IAAI6E,GACZ,EAAKoK,SAAS,CACVpK,IAAKA,KA7DM,EAgEnBsN,YAhEmB,uCAgEL,WAAOT,EAAWC,GAAlB,mBAAAlS,EAAA,yDAEN2S,EAAUV,EAAUW,QAAQ,UAAU,IAAIpQ,OAAS,EAAI,EAAI,EAC3DqQ,EAAWZ,EAAUW,QAAQ,aAAc,IAAIpQ,OAAS,EAAI,EAAI,EAChEsQ,EAAiBb,EAAUzP,OAASyP,EAAUW,QAAQ,+BAA+B,IAAIpQ,OAAU,EAAI,EAAI,IAC5GyP,EAAUzP,OAAS,GAAMmQ,EAAQE,EAASC,EAAgB,GALnD,uBAMNjD,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,sNACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAhBnC,6BAoBN4B,IAAcC,EApBR,uBAqBNrC,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,8DACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA/BnC,iCAmCV,EAAKb,SAAS,CACVyC,UAAWA,EACXC,UAAWA,EACXvC,SAAS,IAtCH,oBAyCA7L,EAAIa,eAAe,EAAKxE,QAAQQ,KAAK0L,UAAW,EAAK7L,MAAMoE,YAAaqN,GAzCxE,QA0CNpC,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,IACzB,EAAK7P,MAAM0Q,QAAQC,KAAK,KAvDlB,mDA0DNnQ,QAAQC,IAAR,MACAsP,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArEnC,2DAhEK,wDAEf,EAAK7P,MAAQ,CACT4S,2BAA2B,EAC3BZ,wBAAwB,EACxB5N,YAAa,GACbqN,UAAW,GACXC,UAAW,GACXvC,SAAS,GARE,E,0CAyInB,WACI,MAC+BjP,KAAKF,MAD9B4S,EAAN,EAAMA,0BACFZ,EADJ,EACIA,uBACJ,OACI,sBAAK9S,UAAU,YAAf,UACI,cAAC,EAAD,CAASqP,KAAMrO,KAAKF,MAAMmP,UACxByD,EAA4B,cAAC,GAAD,CAAeH,qBAAsBvS,KAAKyS,iBAAqB,GAC3FX,EAAyB,cAAC,GAAD,CAAeL,kBAAmBzR,KAAKgS,cAAkB,U,GAjJvE9S,aAuJ7BsT,GAAelR,YAAc1C,EAEd2R,mBAAWiC,I,sCCxJpBG,G,kDACF,WAAYvT,GAAQ,IAAD,8BACf,cAAMA,IAgEVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAlEJ,EAqEnBkC,QArEmB,uCAqET,WAAO3I,GAAP,qBAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGmCnM,QAAQ+P,IAAI,CAC7CzP,EAAI4J,uBAAuB/C,GAAmB,EAAKnK,MAAMmK,iBACzD7G,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,mBALxE,oCAGG3G,EAHH,KAGQwP,EAHR,KAOFlT,QAAQC,IAAIyD,EAAKwP,GACjB,EAAKhE,SAAS,CACViE,UAAWzP,EAAIE,KAAKA,KACpBsP,kBAAmBA,EAAkBtP,KAAKqN,OAAOrN,KAAK,IAAM,GAC5DyL,SAAS,IAXX,qDAcFrP,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAhB/B,wBAiBEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3B3C,2BA+BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzCvC,0DArES,wDAmHnBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GA7HQ,EAgInBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,IACjC,EAAK2I,QAAQ3I,IArIE,EAsLnB0G,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAvLb,EAAK7N,MAAQ,CACTmT,eAAgB,GAChBlT,SAAU,OACVkK,gBAAiB,GACjBoJ,QAAS,GACTN,UAAW,GACXD,kBAAmB,IARR,E,4FAYnB,oCAAAxT,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK8CnM,QAAQ+P,IAAI,CAC9CzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAImE,iBAAiBvH,KAAKP,QAAQQ,KAAKwL,YAPnD,2CAKawH,EALb,KAK6BI,EAL7B,KASYpJ,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FqD,UAAWqK,EAAQ7P,KAAKqN,OAAO7H,WAEnChJ,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3C6P,QAASA,EAAQ7P,KAAKqN,OACtB5G,gBAAiBA,EACjBgF,SAAS,IAjBrB,UAmBcjP,KAAK4S,UAnBnB,6DAqBQhT,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFA4HA,WAGI,IAFA,IAAIoD,EAAY/S,KAAKF,MAAMiT,UACvBO,EAAM,GACDH,EAAI,EAAGA,EAAIJ,EAAUjR,OAAQqR,IAAK,CACvC,MAA0EJ,EAAUI,GAA9E1M,EAAN,EAAMA,YAAa8M,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,OAAQC,EAAnC,EAAmCA,UAAWC,EAA9C,EAA8CA,UAAWC,EAAzD,EAAyDA,aACzDL,EAAIvD,KACA,qBAAI/Q,UAAU,cAAd,UACI,6BAAKmU,EAAI,IACT,6BAAK1M,IACL,6BAAK8M,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,IACL,6BAAKC,IACL,6BAAKC,MAjCwBR,IAqCzC,OAAOG,I,oBAYX,WAAU,IAAD,OACL,OAAItT,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,8CAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,QAAf,SACI,sBAAKA,UAAU,cAAf,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,eAM9E,uBACA,sBAAKlV,UAAU,MAAf,UACI,qBAAKA,UAAU,kDAAf,SACI,gCACI,gDADJ,IACuBgB,KAAKF,MAAMuT,QAAQvL,iBAG9C,qBAAK9I,UAAU,kDAAf,SACI,gCACI,+CADJ,IACwBgB,KAAK2Q,WAAW,IAAIrD,KAAKtN,KAAKF,MAAMuT,QAAQjL,mBAGxE,qBAAKpJ,UAAU,kDAAf,SACI,gCACI,2CADJ,IACkBgB,KAAKF,MAAMgT,mBAAqB9S,KAAKF,MAAMgT,kBAAkB9T,eAGnF,qBAAKA,UAAU,kDAAf,SACI,gCACI,oDADJ,IACsBgB,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,mBAIjO,qBAAKhG,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,6CAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIoV,QAAQ,IAAZ,iBACA,oBAAIA,QAAQ,IAAIpV,UAAU,UAA1B,6BACA,oBAAIqV,QAAQ,KAAZ,gCACA,oBAAIA,QAAQ,KAAZ,gCACA,oBAAID,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,4BAEJ,+BACI,oBAAIC,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,qCACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,2CAGR,gCACKrU,KAAKsU,kC,GA1RXpV,aAoS3ByT,GAAarR,YAAc1C,EAEZ2R,mBAAWoC,I,6BCtSpB4B,GAAM1V,IAAM2V,YACZC,G,kDACF,WAAYrV,GAAQ,IAAD,8BACf,cAAMA,IA+EVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAjFJ,EAoFnBkC,QApFmB,uCAoFT,WAAO3I,GAAP,qBAAA3K,EAAA,yDACN,EAAKwP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK5U,MAAMmK,gBAAgB7D,QAH9B,uBAIE+I,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CACVG,SAAS,EACTyF,YAAY,IAlBlB,6BAsBG,EAAK5U,MAAMmK,gBAAgBjB,UAtB9B,wBAuBEmG,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,uCACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAOyF,YAAY,IAnC9C,4CAsCuB5R,QAAQ+P,IAAI,CACjCzP,EAAI2K,OAAO9D,GAAmB,EAAKnK,MAAMmK,iBACzC7G,EAAI4J,uBAAuB/C,GAAmB,EAAKnK,MAAMmK,mBAxC3D,qCAsCG3G,EAtCH,KAsCQqR,EAtCR,KA0CF/U,QAAQC,IAAIyD,EAAKqR,GACjB,EAAK7F,SAAS,CACViE,UAAW4B,EAAMnR,KAAKA,KACtBiR,IAAKnR,EAAIE,KACTkR,YAAY,EACZzF,SAAS,IA/CX,kDAkDFrP,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9DvC,0DApFS,wDAuJnBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAjKQ,EAoKnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GA9KQ,EAiLnB4B,iBAAmB,WAGf,IAFA,IAAI1J,EAAO,EAAKtL,MAAMiV,YAClB7B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8C/H,EAAK+H,GAA7CnK,EAAN,EAAMA,UAAWlB,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BqL,EAAQnD,KAAK,CACT/J,KAAM8B,EAAc,MAAQD,EAC5B+G,MAAO5F,IAGf,OAAOkK,GA3LQ,EA8LnBE,sBA9LmB,uCA8LK,WAAOpN,EAAM4I,GAAb,mBAAAtP,EAAA,0DAEhB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ4I,EACX,iBAAT5I,EAJgB,wBAKhB,EAAK8I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CzK,EAAgB7D,aAAU4O,EAC1B/K,EAAgBjB,eAAYgM,EAPZ,kBASU5R,EAAIkH,gCAAgC,EAAG,IAASL,GAT1D,YASR4K,EATQ,QAWErR,KAAKqN,OAAOrN,KAAK1B,OAXnB,wBAYRmI,EAAgB7D,QAAUyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,QAZhD,UAaYhD,EAAI4H,wBAAwB,EAAG,IAASf,GAbpD,SAaR8K,EAbQ,QAcQvR,KAAKqN,OAAOrN,KAAK1B,OAC7BmI,EAAgBjB,UAAY+L,EAAYvR,KAAKqN,OAAOrN,KAAK,GAAGwF,UAE5DmG,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,uCACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3BrC,wBA+BRR,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzCjC,QA4CZ,EAAKb,SAAS,CACVG,SAAS,EACT4F,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCuR,YAAaA,EAAYvR,KAAKqN,OAAOrN,KACrCyG,gBAAiBA,IAhDT,kDAmDZ,EAAK6E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACXE,YAAa,GACb9K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAzDY,0DA9LL,0DA4PnB8Q,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eA7Pb,EAAK7N,MAAQ,CACTmT,eAAgB,GAChBlT,SAAU,OACVkK,gBAAiB,GACjB8K,YAAa,GACbF,UAAW,GACX5F,SAAS,EACTyF,YAAY,EACZ3B,UAAW,GACX0B,IAAK,GACLrH,KAAM,IAAIE,MAZC,E,4FAgBnB,wCAAAhO,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK8CnM,QAAQ+P,IAAI,CAC9CzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,YAPnD,2CAKawH,EALb,KAK6BgC,EAL7B,KASYhL,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWoL,EAAQzR,KAAKqN,OAAOhH,WAX3C,UAakCzG,EAAIkH,gCAAgC,EAAG,IAASL,GAblF,aAaYiL,EAbZ,QAe0B1R,KAAKqN,OAAOrN,KAAK1B,OAf3C,wBAgBYmI,EAAgB7D,QAAU8O,EAAc1R,KAAKqN,OAAOrN,KAAK,GAAG4C,QAhBxE,UAiBgChD,EAAI4H,wBAAwB,EAAG,IAASf,GAjBxE,SAiBY8K,EAjBZ,QAkB4BvR,KAAKqN,OAAOrN,KAAK1B,SAC7BmI,EAAgBjB,UAAY+L,EAAYvR,KAAKqN,OAAOrN,KAAK,GAAGwF,WAnB5E,QAsBQpJ,QAAQC,IAAIoK,GACZjK,KAAK8O,SAAS,CACV+F,UAAWK,EAAc1R,KAAKqN,OAAOrN,KACrCyP,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CuR,YAAaA,EAAcA,EAAYvR,KAAKqN,OAAOrN,KAAO,GAC1DyG,gBAAiBA,EACjBgF,SAAS,EACTkG,gBAAiBF,EAAQzR,KAAKqN,SA7B1C,qDAgCQjR,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAlCzC,wBAmCYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA7CrD,2BAiDQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3DjD,0D,mFAqPA,WAGI,IAFA,IAAIoD,EAAY/S,KAAKF,MAAMiT,UACvBO,EAAM,GACDH,EAAI,EAAGA,EAAIJ,EAAUjR,OAAQqR,IAAK,CACvC,MAA0EJ,EAAUI,GAA9E1M,EAAN,EAAMA,YAAa8M,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,OAAQC,EAAnC,EAAmCA,UAAWC,EAA9C,EAA8CA,UAAWC,EAAzD,EAAyDA,aACzDL,EAAIvD,KACA,qBAAI/Q,UAAU,cAAd,UACI,6BAAKmU,EAAI,IACT,6BAAK1M,IACL,6BAAK8M,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,IACL,6BAAKC,IACL,6BAAKC,MAjCwBR,IAqCzC,OAAOG,I,oBAGX,WAAU,IAAD,OACL,GAAItT,KAAKF,MAAMmP,QACX,OACI,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOpB,IAAMyV,EAAQzU,KAAKF,MAAb2U,IACFpB,EAAUrT,KAAKF,MAAMiV,YAAYZ,MAAK,SAAAzF,GAAC,OAAIA,EAAE1F,YAAc,EAAKlJ,MAAMmK,gBAAgBjB,aACtFoM,EAASpV,KAAKF,MAAM+U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEtI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,WACrF,OACI,sBAAKpH,UAAU,kBAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,wDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAKA,UAAU,cAAf,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDmB,UAAU,MAGlB,uBAAOrW,UAAU,OAAjB,4BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK8U,mBACdjB,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBjB,UAClCoH,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,wBAAQ/S,QAAS,kBAAM,EAAKyR,WAAWtD,KAAK,SAAStQ,UAAU,0BAA/D,6CAECgB,KAAKF,MAAM4U,YACR,qBAAK1V,UAAU,QAAf,SACI,cAAC,KAAD,CAAKsW,UAAWf,GAAKgB,SAAS,qBAAqBC,MAAO,IAAMC,EAAG,EAAnE,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAAStQ,UAAU,uBAAuBmC,QAASuU,EAAhE,oEAQxC,uBACC1V,KAAKF,MAAM4U,YACR,qBAAKH,IAAKA,GAAKvV,UAAU,SAASwC,MAAO,CAAEmU,SAAU,QAArD,SACI,sBAAKnU,MAAO,CAAEwP,MAAO,SAAWhS,UAAU,kBAA1C,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,+BAAf,SACI,gCACI,mFAA6B,uBADjC,6DAMR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,kDAAf,SACI,gCACI,gDAAkBqU,EAAQvL,iBAGlC,qBAAK9I,UAAU,kDAAf,SACI,gCACI,+CAAmBgB,KAAK2Q,WAAW,IAAIrD,KAAK+F,EAAQjL,mBAG5D,qBAAKpJ,UAAU,kDAAf,SACI,gCACI,2CADJ,QACsBoW,EAAOpW,eAGjC,qBAAKA,UAAU,kDAAf,SACI,gCACI,oDAAiBoW,EAAOpQ,mBAIpC,qBAAKhG,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,6CAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIoV,QAAQ,IAAZ,iBACA,oBAAIA,QAAQ,IAAIpV,UAAU,UAA1B,6BACA,oBAAIqV,QAAQ,KAAZ,gCACA,oBAAIA,QAAQ,KAAZ,gCACA,oBAAID,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,4BAEJ,+BACI,oBAAIC,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,qCACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,2CAGR,gCACKrU,KAAKsU,2BAKtB,qBAAKtV,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oDACA,8DACA,mDACA,qDACA,oDACA,gDACA,yDACA,iEAGR,kCACI,qBAAIA,UAAU,cAAd,UACI,oDACA,6BAAKyV,EAAImB,QAAQC,WACjB,6BAAKpB,EAAImB,QAAQE,aACjB,6BAAKrB,EAAImB,QAAQG,eACjB,6BAAKtB,EAAImB,QAAQI,OACjB,6BAAKvB,EAAImB,QAAQ7U,QACjB,6BAAK0T,EAAImB,QAAQK,cACjB,6BAAKxB,EAAImB,QAAQM,iBAErB,qBAAIlX,UAAU,cAAd,UACI,oDACA,6BAAKyV,EAAI0B,QAAQN,WACjB,6BAAKpB,EAAI0B,QAAQL,aACjB,6BAAKrB,EAAI0B,QAAQJ,eACjB,6BAAKtB,EAAI0B,QAAQH,OACjB,6BAAKvB,EAAI0B,QAAQpV,QACjB,6BAAK0T,EAAI0B,QAAQF,cACjB,6BAAKxB,EAAI0B,QAAQD,iBAErB,qBAAIlX,UAAU,cAAd,UACI,kDACA,6BAAKyV,EAAI2B,QAAQP,WACjB,6BAAKpB,EAAI2B,QAAQN,aACjB,6BAAKrB,EAAI2B,QAAQL,eACjB,6BAAKtB,EAAI2B,QAAQJ,OACjB,6BAAKvB,EAAI2B,QAAQrV,QACjB,6BAAK0T,EAAI2B,QAAQH,cACjB,6BAAKxB,EAAI2B,QAAQF,2BAMrC,qBAAKlX,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oBAAIqV,QAAQ,IAAZ,iCACA,oBAAIA,QAAQ,IAAZ,iCACA,oBAAIA,QAAQ,IAAZ,uDAGR,kCACI,qBAAIrV,UAAU,YAAd,UACI,oBAAIqV,QAAQ,MACZ,qBAAIA,QAAQ,IAAZ,UACKI,EAAImB,QAAQ/I,KADjB,IACwB,KADxB,IAC+B4H,EAAI0B,QAAQtJ,QAE3C,qBAAIwH,QAAQ,IAAZ,iDACiB,uBAAOI,EAAI2B,QAAQC,UADpC,6BAKJ,qBAAIrX,UAAU,cAAd,UACI,oBAAIqV,QAAQ,IAAZ,SACI,6DAEJ,qBAAIA,QAAQ,IAAZ,qCACkBrU,KAAKF,MAAMsN,KAAKI,UAAY,GAAK,IAAMxN,KAAKF,MAAMsN,KAAKI,UAAYxN,KAAKF,MAAMsN,KAAKI,UADrG,aACuHxN,KAAKF,MAAMsN,KAAKM,WAAa,EAAI,KAAO1N,KAAKF,MAAMsN,KAAKM,WAAa,GAAK1N,KAAKF,MAAMsN,KAAKM,WAAa,EAD9N,aACsO1N,KAAKF,MAAMsN,KAAKO,cAAc,uBADpQ,sCAEL,uBACS,uBACA,uBACA,uBACA,uBACC3N,KAAKF,MAAMqV,gBAAgB1L,wC,GAvhB9DvK,aAsiBlBuV,GAAInT,YAAc1C,EAEH2R,mBAAWkE,I,6BCziBpBF,GAAM1V,IAAM2V,YACZ8B,G,kDACF,WAAYlX,GAAQ,IAAD,8BACf,cAAMA,IAkEVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UApEJ,EAuEnBkC,QAvEmB,uCAuET,WAAO3I,GAAP,eAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,kBAGctR,EAAI0J,cAAc,EAAG,IAAS7C,GAAmB,EAAKnK,MAAMmK,iBAH1E,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACV4F,YAAY,EACZzF,SAAS,EACT8F,YAAazR,EAAIE,KAAKA,KACtB2R,gBAAiB7R,EAAIE,KAAK2R,kBAT5B,mDAYFvV,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAvES,wDAmHnBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GA7HQ,EAgInB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GA1IQ,EA6InBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KA/IjC,EAAKnK,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX5K,gBAAiB,GACjBlK,SAAU,OACVoV,gBAAiB,GACjBJ,YAAa,GACb3H,KAAM,IAAIE,MATC,E,4FAanB,oCAAAhO,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAKgDnM,QAAQ+P,IAAI,CAChDzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,OAPhC,oCAKamN,EALb,KAK6B4B,EAL7B,KASY5K,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FS,QAASyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,QACvC4F,KAAM,GAEVpM,QAAQC,IAAIoK,GACZjK,KAAK8O,SAAS,CACV+F,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCyP,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CyG,gBAAiBA,EACjBgF,SAAS,IAnBrB,qDAsBQrP,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAxBzC,wBAyBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCrD,2BAuCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjDjD,0D,mFAuIA,WAEI,OAAO3P,KAAKF,MAAMiV,YAAYwB,KAAI,SAAC/S,EAAMgT,GACrC,IAAQ1O,EAAgEtE,EAAhEsE,YAAaG,EAAmDzE,EAAnDyE,OAAQF,EAA2CvE,EAA3CuE,QAAS8N,EAAkCrS,EAAlCqS,SAAUY,EAAwBjT,EAAxBiT,WAAY7J,EAAYpJ,EAAZoJ,QAC5D,OACI,+BACI,6BALE,EAKa4J,IACf,6BAAK1O,IACL,6BAAgB,IAAXG,EAAe,MAAQ,YAC5B,6BAAK4N,IACL,6BAAKjJ,IACL,6BAAK6J,IACL,6BAAK1O,MAPAyO,Q,oBAarB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,+DAKR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAK1P,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOlV,UAAU,OAAjB,+BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAElN,KAAM,mBAAU4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,IACrFiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB+B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,QAG1D,wBAAQ5E,KAAK,SAAStQ,UAAU,uBAAuBmC,QAAS,SAACuN,GAAQA,EAAEM,iBAAkB,EAAK4D,WAAlG,wCAGP5S,KAAKF,MAAM4U,YACR,sBAAK1V,UAAU,QAAf,UACI,cAAC,KAAD,CAAKsW,UAAWf,GAAKgB,SAAS,kBAAkBC,MAAO,GAAKC,EAAG,EAA/D,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAAStQ,UAAU,uBAAuBmC,QAASuU,EAAhE,+BAEpB,cAAC,KAAD,CACIgB,QAAS,WAEL,OAAO,wBAAQpH,KAAK,SAAStQ,UAAU,uBAAhC,kCAEX2X,QAAU,kBAAM,EAAKC,sBAKrC,uBACC5W,KAAKF,MAAM4U,YACR,qBAAKH,IAAKA,GAAK/S,MAAO,CAAEmU,SAAU,QAAlC,SACI,sBAAK/U,GAAG,SAAS2T,IAAK,SAAAsC,GAAE,OAAK,EAAKD,aAAeC,GAAK7X,UAAU,kBAAkBwC,MAAO,CAAEwP,MAAO,SAAlG,UACI,qBAAKhS,UAAU,MAAf,SACI,qBAAKA,UAAU,qCAAf,SACI,gCACI,mFAAuC,uBAD3C,6DAOR,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,2CADJ,IACkBgB,KAAKF,MAAM+U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEtI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,YAAYpG,KAAKF,MAAM+U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEtI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,WAASpH,aAEvL,uBAAMA,UAAU,YAAhB,UACI,mDADJ,IACyD,IAApCgB,KAAKF,MAAMmK,gBAAgB+B,KAAa,mBAAWhM,KAAKF,MAAMmK,gBAAgB+B,QAEnG,uBAAMhN,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMqV,wBAKrD,qBAAKnW,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oDACA,gDACA,mDACA,8DACA,qDACA,mDACA,qDAGR,gCACKgB,KAAKsU,2BAMtB,qBAAKtV,UAAU,oCAAf,SACI,sBAAKA,UAAU,kDAAf,qCACkBgB,KAAKF,MAAMsN,KAAKI,UADlC,aACoDxN,KAAKF,MAAMsN,KAAKM,WAAa,EADjF,aACyF1N,KAAKF,MAAMsN,KAAKO,cAAc,uBADvH,sCAEW,uBACP,uBACA,uBACA,uBACC3N,KAAKF,MAAMqV,iC,GAlTpBjW,aA6TbqR,eAAW+F,IC9TpB/B,I,OAAM1V,IAAM2V,aACZsC,G,kDACF,WAAY1X,GAAQ,IAAD,8BACf,cAAMA,IAkEVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UApEJ,EAuEnBkC,QAvEmB,uCAuET,WAAO3I,GAAP,eAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,kBAGctR,EAAI2J,iBAAiB,EAAG,IAAS9C,GAAmB,EAAKnK,MAAMmK,iBAH7E,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACViE,UAAWzP,EAAIE,KAAKA,KACpB2R,gBAAiB7R,EAAIE,KAAK2R,gBAC1BlG,SAAS,EACTyF,YAAY,IATd,mDAYF9U,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAvES,wDAmHnBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GA7HQ,EAgInB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GA1IQ,EA6InBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KA/IjC,EAAKnK,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX9U,SAAU,OACVkK,gBAAiB,GACjBkL,gBAAiB,GACjB/H,KAAM,IAAIE,KACVyF,UAAW,IATA,E,4FAanB,oCAAAzT,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAKgDnM,QAAQ+P,IAAI,CAChDzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,OAPhC,oCAKamN,EALb,KAK6B4B,EAL7B,KASY5K,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FS,QAASyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,QACvC4F,KAAM,GAGVhM,KAAK8O,SAAS,CACV+F,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCyP,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CyG,gBAAiBA,EACjBgF,SAAS,IAnBrB,qDAsBQrP,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAxBzC,wBAyBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCrD,2BAuCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjDjD,0D,mFAuIA,WAGI,IAFA,IAAI2D,EAAM,GACNlI,EAAOpL,KAAKF,MAAMiT,UACbI,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8K/H,EAAK+H,GAA3K4D,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,QAASC,EAApC,EAAoCA,OAAQC,EAA5C,EAA4CA,OAAQC,EAApD,EAAoDA,MAAOC,EAA3D,EAA2DA,OAAQC,EAAnE,EAAmEA,IAAKC,EAAxE,EAAwEA,KAAM/Q,EAA9E,EAA8EA,YAAagR,EAA3F,EAA2FA,OAAQC,EAAnG,EAAmGA,MAAOC,EAA1G,EAA0GA,MAAOC,EAAjH,EAAiHA,SAAUC,EAA3H,EAA2HA,QAASC,EAApI,EAAoIA,QAASC,EAA7I,EAA6IA,OAAQC,EAArJ,EAAqJA,QAASC,EAA9J,EAA8JA,KAAMC,EAApK,EAAoKA,MACpK5E,EAAIvD,KACA,qBAAI/Q,UAAU,cAAd,UACI,oBAAIoV,QAAQ,IAAIpV,UAAU,eAA1B,SAA0CyH,IAC1C,yCACA,6BAAKyQ,IACL,6BAAKU,IACL,6BAAKR,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKb,IACL,6BAAKU,MAZwB1E,IAerCG,EAAIvD,KACA,qBAAI/Q,UAAU,cAAd,UACI,oCACA,6BAAK+X,IACL,6BAAKU,IACL,6BAAKR,IACL,6BAAKU,IACL,6BAAKJ,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKlB,IACL,6BAAKU,MAXwB,KAAOvE,IAehD,OAAOG,I,oBAIX,WAAU,IAAD,OACL,OAAItT,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,qEAKR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOlV,UAAU,OAAjB,+BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAElN,KAAM,mBAAU4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,IACrFiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB+B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,QAG1D,wBAAQ5E,KAAK,SAAStQ,UAAU,uBAAuBmC,QAAS,SAACuN,GAAQA,EAAEM,iBAAkB,EAAK4D,WAAlG,wCAGP5S,KAAKF,MAAM4U,YACR,sBAAK1V,UAAU,QAAf,UACI,cAAC,KAAD,CAAKsW,UAAWf,GAAKgB,SAAS,qBAAqBC,MAAO,GAAKC,EAAG,EAAlE,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAAStQ,UAAU,uBAAuBmC,QAASuU,EAAhE,+BAEpB,cAAC,KAAD,CACIyC,YAAY,EACZzB,QAAS,WAEL,OAAO,wBAAQpH,KAAK,SAAStQ,UAAU,uBAAhC,kCAEX2X,QAAS,kBAAM,EAAKC,sBAKpC,uBACC5W,KAAKF,MAAM4U,YACR,qBAAKH,IAAKA,GAAK/S,MAAO,CAAEmU,SAAU,QAAlC,SACI,sBAAKpB,IAAK,SAAAsC,GAAE,OAAK,EAAKD,aAAeC,GAAK7X,UAAU,8BAA8B4B,GAAG,SAASY,MAAO,CAAEwP,MAAO,SAA9G,UACI,qBAAKhS,UAAU,MAAf,SACI,qBAAKA,UAAU,qCAAf,SACI,gCACI,uGAAsCgB,KAAKF,MAAM+U,UAAU7U,KAAKF,MAAMsY,UAAW,uBADrF,6DAOR,qBAAKpZ,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,mDADJ,IACyD,IAApCgB,KAAKF,MAAMmK,gBAAgB+B,KAAa,mBAAWhM,KAAKF,MAAMmK,gBAAgB+B,QAEnG,uBAAMhN,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMqV,wBAKrD,qBAAKnW,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,qCAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIoV,QAAQ,IAAIC,QAAQ,MACxB,oBAAIA,QAAQ,IAAZ,uBACA,oBAAIA,QAAQ,IAAZ,oBACA,oBAAIA,QAAQ,IAAZ,2BACA,oBAAIA,QAAQ,IAAZ,sBACA,oBAAIA,QAAQ,IAAZ,uBAEJ,+BACI,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,0CAGR,gCACKrU,KAAKsU,2BAMtB,sBAAKtV,UAAU,iBAAf,UACI,qBAAKA,UAAU,sCAAf,eACA,sBAAKA,UAAU,0DAAf,qCACkBgB,KAAKF,MAAMsN,KAAKI,UADlC,aACoDxN,KAAKF,MAAMsN,KAAKM,WAAa,EADjF,aACyF1N,KAAKF,MAAMsN,KAAKO,cAAc,uBADvH,sCAEW,uBACP,uBACA,uBACA,uBACC3N,KAAKF,MAAMqV,kC,GAnVjBjW,aA8VhBqR,eAAWuG,I,gDC7VpBuB,G,kDACF,WAAYjZ,GAAQ,IAAD,8BACf,cAAMA,IA4FVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA9FJ,EAuGnBkC,QAvGmB,sBAuGT,4CAAAtT,EAAA,6DACFgZ,EAAO,EAAKlZ,MAAMyQ,SAAS/P,MAC/B,EAAKgP,SAAS,CAAEG,SAAS,IAFnB,kBAIgC7L,EAAI4H,wBAAwB,EAAG,IAAS,CACtErF,aAAc2S,EAAK3S,aACnBS,QAASkS,EAAKlS,UANhB,OAWF,IAHAmS,GAJIA,EAJF,QAQ4C/U,KAAKqN,OAAOrN,KAEtDgV,EAAU,GACLrF,EAAI,EAAGA,EAAIoF,EAAsBzW,OAAQqR,IAC9CqF,EAAQzI,KACJ3M,EAAIkJ,gBAAgBiM,EAAsBpF,GAAGnK,UAAWsP,EAAK1R,UAAW0R,EAAK3S,aAAc2S,EAAKtM,OAbtG,iBAgBoBlJ,QAAQ+P,IAAI2F,GAhBhC,QAgBEzF,EAhBF,OAkBE3H,EAAO,GACF+H,EAAI,EAnBX,aAmBcA,EAAIJ,EAAUjR,QAnB5B,iBAoBEsJ,EAAK2E,KAAL,2BACOwI,EAAsBpF,IAD7B,IAEIsF,WAAY,GACZC,QAAS,GACTC,QAAS,GACTC,UAAW,MAEXC,EAAS9F,EAAUI,GAAG3P,KAAKqV,OACtBC,EAAI,EA5Bf,aA4BkBA,EAAID,EAAO/W,QA5B7B,sBA6Bc+W,EAAOC,GAAGzX,KA7BxB,OA8Be,IA9Bf,QAgCe,IAhCf,QAkCe,IAlCf,QAoCe,IApCf,gCA8BkB+J,EAAK+H,GAAGsF,WAAW1I,KAAK8I,EAAOC,IA9BjD,oCAgCkB1N,EAAK+H,GAAGuF,QAAQ3I,KAAK8I,EAAOC,IAhC9C,oCAkCkB1N,EAAK+H,GAAGwF,QAAQ5I,KAAK8I,EAAOC,IAlC9C,oCAoCkB1N,EAAK+H,GAAGyF,UAAYC,EAAOC,GApC7C,6BA4BqCA,IA5BrC,wBAyCE,KAAO1N,EAAK+H,GAAGsF,WAAW3W,OAAS,GAC/BsJ,EAAK+H,GAAGsF,WAAW1I,KAAK,CACpB1O,KAAM,EACNsE,aAAc2S,EAAK3S,aACnBgP,MAAO,GACP3L,UAAWuP,EAAsBpF,GAAGnK,UACpCpC,UAAW0R,EAAK1R,UAChBiD,UAAWyO,EAAKzO,UAChBmC,KAAMsM,EAAKtM,OAGnB,KAAOZ,EAAK+H,GAAGuF,QAAQ5W,OAAS,GAC5BsJ,EAAK+H,GAAGuF,QAAQ3I,KAAK,CACjB1O,KAAM,EACNsE,aAAc2S,EAAK3S,aACnBgP,MAAO,GACP3L,UAAWuP,EAAsBpF,GAAGnK,UACpCpC,UAAW0R,EAAK1R,UAChBiD,UAAWyO,EAAKzO,UAChBmC,KAAMsM,EAAKtM,OAGnB,KAAOZ,EAAK+H,GAAGwF,QAAQ7W,OAAS,GAC5BsJ,EAAK+H,GAAGwF,QAAQ5I,KAAK,CACjB1O,KAAM,EACNsE,aAAc2S,EAAK3S,aACnBgP,MAAO,GACP3L,UAAWuP,EAAsBpF,GAAGnK,UACpCpC,UAAW0R,EAAK1R,UAChBiD,UAAWyO,EAAKzO,UAChBmC,KAAMsM,EAAKtM,OAGdZ,EAAK+H,GAAGyF,UAAUG,UACnB3N,EAAK+H,GAAGyF,UAAY,CAChBvX,KAAM,EACNsE,aAAc2S,EAAK3S,aACnBgP,MAAO,GACP3L,UAAWuP,EAAsBpF,GAAGnK,UACpCpC,UAAW0R,EAAK1R,UAChBiD,UAAWyO,EAAKzO,UAChBmC,KAAMsM,EAAKtM,OAlFrB,QAmBoCmH,IAnBpC,wBAsFFvT,QAAQC,IAAIuL,GACZ,EAAK0D,SAAS,CACVG,SAAS,EACT8D,UAAW3H,IAzFb,qDA4FFxL,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA9F/B,wBA+FEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzG3C,2BA6GFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvHvC,0DAvGS,EA6QnBqJ,YAAc,SAACxC,EAAOnV,EAAM4X,EAAKC,GAC7B,IAAItK,EAAQsK,EAAMvK,OAAOC,MACrBmE,EAAY,EAAKjT,MAAMiT,UAC3B,OAAQ1R,GACJ,KAAK,EAAG0R,EAAUyD,GAAOiC,WAAWQ,GAAKtE,MAAQ/F,EAAOmE,EAAUyD,GAAOiC,WAAWQ,GAAKE,QAAS,EAAM,MACxG,KAAK,EAAGpG,EAAUyD,GAAOkC,QAAQO,GAAKtE,MAAQ/F,EAAOmE,EAAUyD,GAAOkC,QAAQO,GAAKE,QAAS,EAAM,MAClG,KAAK,EAAGpG,EAAUyD,GAAOmC,QAAQM,GAAKtE,MAAQ/F,EAAOmE,EAAUyD,GAAOmC,QAAQM,GAAKE,QAAS,EAAM,MAClG,KAAK,EAAGpG,EAAUyD,GAAOoC,UAAUjE,MAAQ/F,EAAOmE,EAAUyD,GAAOoC,UAAUO,QAAS,EAG1F,EAAKrK,SAAS,CACVqK,QAAQ,EACRpG,UAAWA,KAzRA,EA6RnBqG,cAAgB,SAACzE,GACb,MAAc,KAAVA,IAGA0E,MAAM1E,IACNxF,QAAMC,gBAAgB,CAClBrO,MAAO,YACPsO,QAAS,mDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,wBAElC,KAGP2J,WAAW3E,GAAS,GAAK2E,WAAW3E,GAAS,MAC7CxF,QAAMC,gBAAgB,CAClBrO,MAAO,YACPsO,QAAS,sDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,wBAElC,KA9TI,EAoUnB4J,OApUmB,sBAoUV,gDAAAja,EAAA,yDACA,EAAKQ,MAAMqZ,OADX,iDAIL,EAAKrK,SAAS,CACV0K,eAAe,IALd,SAQGpO,EAAO,GACP2H,EAAY,EAAKjT,MAAMiT,UAClBI,EAAI,EAVZ,YAUeA,EAAIJ,EAAUjR,QAV7B,iBAWO+W,EAAS,GACJC,EAAI,EAZhB,aAYmBA,EAAI/F,EAAUI,GAAGsF,WAAW3W,QAZ/C,qBAaW6S,EAAQ5B,EAAUI,GAAGsF,WAAWK,IACzBK,OAdlB,2DAkBY,EAAKC,cAAczE,EAAMA,OAlBrC,sDAsBYA,EAAMoE,QAtBlB,oBAuB+B,KAAhBpE,EAAMA,MAvBrB,+DA0BWkE,EAAO9I,KAAP,aACI0J,OAAQ,OACL9E,IA5BlB,mCAiC2B,KAAhBA,EAAMA,MAjCjB,wBAkCWkE,EAAO9I,KAAP,aACI0J,OAAQ,UACL9E,IApClB,gCAyCOkE,EAAO9I,KAAP,aACI0J,OAAQ,QACL9E,IA3Cd,QAYuDmE,IAZvD,wBA+CYA,EAAI,EA/ChB,aA+CmBA,EAAI/F,EAAUI,GAAGuF,QAAQ5W,QA/C5C,qBAgDW6S,EAAQ5B,EAAUI,GAAGuF,QAAQI,IACtBK,OAjDlB,2DAoDY,EAAKC,cAAczE,EAAMA,OApDrC,sDAuDYA,EAAMoE,QAvDlB,oBAwD+B,KAAhBpE,EAAMA,MAxDrB,+DA2DWkE,EAAO9I,KAAP,aACI0J,OAAQ,OACL9E,IA7DlB,mCAkE2B,KAAhBA,EAAMA,MAlEjB,wBAmEWkE,EAAO9I,KAAP,aACI0J,OAAQ,UACL9E,IArElB,gCA0EOkE,EAAO9I,KAAP,aACI0J,OAAQ,QACL9E,IA5Ed,QA+CoDmE,IA/CpD,wBAgFYA,EAAI,EAhFhB,aAgFmBA,EAAI/F,EAAUI,GAAGwF,QAAQ7W,QAhF5C,qBAiFW6S,EAAQ5B,EAAUI,GAAGwF,QAAQG,IACtBK,OAlFlB,2DAqFY,EAAKC,cAAczE,EAAMA,OArFrC,sDAwFYA,EAAMoE,QAxFlB,oBAyF+B,KAAhBpE,EAAMA,MAzFrB,+DA6FWkE,EAAO9I,KAAP,aACI0J,OAAQ,OACL9E,IA/FlB,mCAoG2B,KAAhBA,EAAMA,MApGjB,wBAqGWkE,EAAO9I,KAAP,aACI0J,OAAQ,UACL9E,IAvGlB,gCA4GOkE,EAAO9I,KAAP,aACI0J,OAAQ,QACL9E,IA9Gd,QAgFoDmE,IAhFpD,6BAkHOnE,EAAQ5B,EAAUI,GAAGyF,WACfO,OAnHb,oBAoHY,EAAKC,cAAczE,EAAMA,OApHrC,mDAuHYA,EAAMoE,QAMa,KAAhBpE,EAAMA,MACNkE,EAAO9I,KAAP,aACI0J,OAAQ,UACL9E,IAGPkE,EAAO9I,KAAP,aACI0J,OAAQ,QACL9E,IAbXkE,EAAO9I,KAAP,aACI0J,OAAQ,OACL9E,IA1HlB,QA0IGvJ,EAAK2E,KAAK,CACN/G,UAAW+J,EAAUI,GAAGnK,UACxB6P,OAAQA,IA5If,QAUqC1F,IAVrC,wCA+IK/P,EAAIoJ,UAAU,CAAEkN,SAAUtO,IA/I/B,yBAgJK,EAAKwH,UAhJV,QAiJDzD,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,qDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAE0K,eAAe,EAAOL,QAAQ,IA7J7C,qDA+JDvZ,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAE0K,eAAe,MAC3B,KAAIxW,UAAY,KAAIA,SAASQ,KAAK6L,SAAW,KAAIrM,SAASQ,KAAK6L,QAAQsK,SAAS,WAjKnF,wBAkKGxK,QAAMC,gBAAgB,CAClBrO,MAAO,+CACPsO,QAAS,0MACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5K5C,2BAiLDR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3LxC,0DApUU,EAogBnBiK,aAAe,WACX,EAAK9K,SAAS,CAAE+K,aAAa,KArgBd,EAwgBnBC,WAAa,WACT,IAAItW,EAAO,GACXA,EAAKuM,KAAK,CAAC,MAAO,OAAQ,iBAAU,aAAS,GAAI,GAAI,GAAI,GAAI,aAAW,GAAI,GAAI,GAAI,GAAI,cAAU,GAAI,GAAI,QAC1F,EAAKjQ,MAAMiT,UACjBgH,SAAQ,SAACpF,EAAO6B,GACtB,IAAIlD,EAAM,CAACkD,EAAQ,EAAG7B,EAAM9M,YAAa8M,EAAM7M,aAC3C2Q,EAAa9D,EAAM8D,WAAWlC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SAC/CrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASmF,IACZ,IAAIC,EAAU/D,EAAM+D,QAAQnC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SACzCrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASoF,IACZ,IAAIC,EAAUhE,EAAMgE,QAAQpC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SACzCrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASqF,IACZrF,EAAIvD,KAAK4E,EAAMiE,UAAUjE,OACzBnR,EAAKuM,KAAKuD,MAEd,IAAI0G,EAAKC,KAAKC,MAAMC,aAAa3W,GACjCwW,EAAG,WAAa,CACZ,CACII,EAAG,CAAEC,EAAG,EAAGC,EAAG,GACd5L,EAAG,CAAE2L,EAAG,EAAGC,EAAG,IAElB,CACIF,EAAG,CAAEC,EAAG,EAAGC,EAAG,GACd5L,EAAG,CAAE2L,EAAG,EAAGC,EAAG,KAElB,CACIF,EAAG,CAAEC,EAAG,EAAGC,EAAG,IACd5L,EAAG,CAAE2L,EAAG,EAAGC,EAAG,MAGtB,IAAMC,EAAKN,KAAKC,MAAMM,WACtBP,KAAKC,MAAMO,kBAAkBF,EAAIP,EAAI,SAErCC,KAAKS,UAAUH,EAAI,eAziBJ,EA4iBnBI,UAAY,CACR,OAAQ,OAAQ,OAAQ,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,MAAO,OAAQ,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,OAC7IpE,KAAI,SAAAqE,GAAC,iBAAQA,MAAKC,KAAK,KA9iBN,EAgjBnBC,WAAa,SAACpM,GACV,IAAMqM,EAAQrM,EAAEC,OAAOoM,MACvB,GAAKA,GAAUA,EAAM,GAArB,CAGA,IAAMC,EAAOD,EAAM,GACbE,EAAS,IAAIC,WACbC,IAASF,EAAOG,mBACtBH,EAAOI,OAAS,SAAC3M,GACb,IAAM4M,EAAO5M,EAAEC,OAAOkC,OAChB0J,EAAKN,KAAKsB,KAAKD,EAAM,CAAEhM,KAAM6L,EAAO,SAAW,UAE/CK,EAASjB,EAAGkB,WAAW,GACvBzB,EAAKO,EAAGmB,OAAOF,GAEfhY,EAAOyW,KAAKC,MAAMyB,cAAc3B,EAAI,CAAE4B,OAAQ,IAChD7I,EAAY,EAAKjT,MAAMiT,UAC3BnT,QAAQC,IAAIkT,EAAWvP,GACvB,IACI,IAAK,IAAI2P,EAAI,EAAGA,EAAI3P,EAAK1B,OAAQqR,IAAK,CAClC,IAAI0I,EAAWrY,EAAK2P,GAChB2I,EAAW/I,EAAUI,EAAI,GAE7B,GADAvT,QAAQC,IAAIgc,EAAUC,GAClBA,EAASjU,cAAgBgU,EAAS,GAclC,OAbA1M,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,gEACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,4BAEzC,EAAKiD,UAGT,IAAK,IAAIkG,EAAI,EAAGA,GAAK,EAAGA,IAChBgD,EAASrD,WAAWK,EAAI,GAAGnE,QAAUkH,EAAS/C,KAC9CgD,EAASrD,WAAWK,EAAI,GAAGK,QAAS,EAC/B0C,EAAS/C,GAGVgD,EAASrD,WAAWK,EAAI,GAAGnE,MAAQkH,EAAS/C,GAF5CgD,EAASrD,WAAWK,EAAI,GAAGnE,MAAQ,IAM/C,IAAK,IAAIxB,EAAI,EAAGA,GAAK,GAAIA,IACjB2I,EAASpD,QAAQvF,EAAI,GAAGwB,QAAUkH,EAAS1I,KAC3C2I,EAASpD,QAAQvF,EAAI,GAAGgG,QAAS,EAC5B0C,EAAS1I,GAGV2I,EAASpD,QAAQvF,EAAI,GAAGwB,MAAQkH,EAAS1I,GAFzC2I,EAASpD,QAAQvF,EAAI,GAAGwB,MAAQ,IAM5C,IAAK,IAAIxB,EAAI,GAAIA,GAAK,GAAIA,IAClB2I,EAASnD,QAAQxF,EAAI,IAAIwB,QAAUkH,EAAS1I,KAC5C2I,EAASnD,QAAQxF,EAAI,IAAIgG,QAAS,EAC7B0C,EAAS1I,GAGV2I,EAASnD,QAAQxF,EAAI,IAAIwB,MAAQkH,EAAS1I,GAF1C2I,EAASnD,QAAQxF,EAAI,IAAIwB,MAAQ,IAMzCmH,EAASlD,UAAUjE,QAAUkH,EAAS,MACtCC,EAASlD,UAAUO,QAAS,EACvB0C,EAAS,IAGVC,EAASlD,UAAUjE,MAAQkH,EAAS,IAFpCC,EAASlD,UAAUjE,MAAQ,IAMvC,EAAK7F,SAAS,CACViE,UAAWA,EACXoG,QAAQ,IAEZhK,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,qKACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAG3C,MAAOhQ,GACLC,QAAQC,IAAIF,GACZwP,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,gEACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiD,YAGTuI,EAAMF,EAAOG,mBAAmBJ,GAAYC,EAAOc,kBAAkBf,KA9pBzE,EAAKlb,MAAQ,CACTmP,SAAS,EACTqJ,KAAM,GACNvF,UAAW,GACXoG,QAAQ,EACRK,eAAe,EACfK,aAAa,GARF,E,4FAYnB,qCAAAva,EAAA,yDACIU,KAAK8O,SAAS,CACVG,SAAS,IAGRjP,KAAKZ,MAAMyQ,SAAS/P,MAL7B,uBAMQE,KAAKZ,MAAM0Q,QAAQC,KAAK,0BAA2B,CAC/C1O,KAAM,SAPlB,iCAYIrB,KAAKgc,QAAUhc,KAAKZ,MAAM0Q,QAAQmM,OAAM,SAAAC,GACpC,OAAK,EAAKpc,MAAMqZ,QAIZ,EAAKrK,SAAS,CACV+K,aAAa,KAEV,IANP,EAAKmC,WACE,MAQX1D,EAAOtY,KAAKZ,MAAMyQ,SAAS/P,MAC/BE,KAAK8O,SAAS,CAAEwJ,KAAMA,IAxB1B,mBA0B8BlV,EAAIiJ,UAAUiM,EAAK3S,aAAc2S,EAAKtM,MA1BpE,WA0BYK,EA1BZ,OA2BQzM,QAAQC,IAAIwM,IACRA,EAAU7I,KAAKqN,OAAO5E,KA5BlC,wBA6BYkD,QAAMC,gBAAgB,CAClBrO,MAAO,6CACPsO,QAAS,0MACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC3P,KAAKZ,MAAM0Q,QAAQC,KAAK,0BAA2B,CAC/C1O,KAAM,SA1CtB,4CA8CcrB,KAAK4S,UA9CnB,QA+CQ5S,KAAK8O,SAAS,CAAEG,SAAS,IA/CjC,qDAiDQrP,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAnDzC,wBAoDYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9DrD,2BAkEQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5EjD,0D,wFAqFA,WACQ3P,KAAKgc,SACLhc,KAAKgc,Y,6BAgIb,WAAmB,IAAD,OAEd,OAAOhc,KAAKF,MAAMiT,UAAUwD,KAAI,SAAC/S,EAAMgT,GAGnC,IAFA,IAAQ3O,EAAsErE,EAAtEqE,YAAaC,EAAyDtE,EAAzDsE,YAAa2Q,EAA4CjV,EAA5CiV,WAAYC,EAAgClV,EAAhCkV,QAASC,EAAuBnV,EAAvBmV,QAASC,EAAcpV,EAAdoV,UAC5DxN,EAAO,GAFkC,WAGpC+H,GACL/H,EAAK2E,KACD,oBAAI/Q,UAAU,WAAd,SACI,uBAAOA,UAAU,2BAA2BsQ,KAAK,OAAOV,MAAO6J,EAAWtF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OADzG,QAAUyE,KAFvCA,EAAI,EAAGA,EAAIsF,EAAW3W,OAAQqR,IAAM,EAApCA,GAOT,IAV6C,eAUpCA,GACL/H,EAAK2E,KACD,oBAAI/Q,UAAU,WAAd,SACI,uBAAOA,UAAU,2BAA2BsQ,KAAK,OAAOV,MAAO8J,EAAQvF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OADtG,UAAYyE,KAFzCA,EAAI,EAAGA,EAAIuF,EAAQ5W,OAAQqR,IAAM,EAAjCA,GAOT,IAjB6C,eAiBpCA,GACL/H,EAAK2E,KACD,oBAAI/Q,UAAU,WAAd,SACI,uBAAOA,UAAU,2BAA2BsQ,KAAK,OAAOV,MAAO+J,EAAQxF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OADtG,UAAYyE,KAFzCA,EAAI,EAAGA,EAAIwF,EAAQ7W,OAAQqR,IAAM,EAAjCA,GAYT,OALA/H,EAAK2E,KACD,oBAAI/Q,UAAU,WAAd,SACI,uBAAOA,UAAU,2BAA2BsQ,KAAK,OAAOV,MAAOgK,EAAUjE,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAG,EAAG9H,OADrG,eAK9B,+BACI,6BAhCE,EAgCa8H,IACf,6BAAK3O,IACL,6BAAKC,IACJsD,IAJIoL,Q,oBAgarB,WAAU,IAAD,OAEL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAQhB,sBAAKA,UAAU,kBAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAM+Z,YACjBsC,MAAOnc,KAAK4Z,aACZoC,QAAShc,KAAKgc,QACdtL,OAAQ1Q,KAAKyQ,OAEjB,cAAC,EAAD,CAASpC,KAAMrO,KAAKF,MAAM0Z,gBAC1B,qBAAKxa,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,2CAKR,sBAAKA,UAAU,WAAf,UACI,sBAAKA,UAAU,aAAf,UACI,uBAAMA,UAAU,oBAAhB,UACI,oDAAiBgB,KAAKF,MAAMwY,KAAKtT,cAErC,uBAAMhG,UAAU,oBAAhB,UACI,2CAAagB,KAAKF,MAAMwY,KAAKtZ,aAEjC,uBAAMA,UAAU,oBAAhB,UACI,mDAAgBgB,KAAKF,MAAMwY,KAAKtM,QAGpC,uBAAMhN,UAAU,eAAhB,UACI,yCAAagB,KAAKF,MAAMwY,KAAK7R,kBAGrC,sBAAKzH,UAAU,QAAf,UACI,uBACIsQ,KAAK,OACLiF,IAAK,SAAAsC,GAAE,OAAI,EAAKuF,SAAWvF,GAC3BzG,SAAUpQ,KAAK8a,WACftZ,MAAO,CAAE6a,QAAS,QAClBC,OAAQtc,KAAK2a,YAEjB,wBAAQrL,KAAK,SAAStQ,UAAU,uBAAuBmC,QAAS,WAAQ,EAAKib,SAASG,SAAtF,yDACA,wBAAQjN,KAAK,SAAStQ,UAAU,kBAAkBmC,QAAS,kBAAM,EAAK2Y,cAAtE,iDAGR,uBACA,qBAAK9a,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,sBAAMA,UAAU,cAAhB,SACI,wBAAO4B,GAAG,cAAc5B,UAAU,qCAAlC,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,sCACA,gDACA,oBAAIqV,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,0CAGR,gCACKrU,KAAKsU,yBAIlB,wBAAQtV,UAAU,kBAAkBmC,QAAS,WAAQ,EAAKoY,SAAU,EAAKzK,SAAS,CAAE0K,eAAe,KAAnG,kC,GAtvBSta,aA8vB3Bsd,G,kDACF,WAAYpd,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,CACTmP,SAAS,GAHE,E,0CAMnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,0CAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACK,iIAGT,eAACoP,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAAS,WAAQ,EAAK/B,MAAM4c,UAAW,EAAK5c,MAAMsR,UAA3E,4BAGR,cAAC,EAAD,CAASrC,KAAMrO,KAAKF,MAAMmP,iB,GAxBpBpQ,IAAMK,WA+BbqR,eAAW8H,I,UC5xBpBuE,I,yDACF,WAAYxd,GAAQ,IAAD,8BACf,cAAMA,IA0EVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA5EJ,EA+EnBkC,QA/EmB,uCA+ET,WAAO3I,GAAP,eAAA3K,EAAA,6DACN2K,EAAkBA,GAAmB,EAAKnK,MAAMmK,gBAEhD,EAAK6E,SAAS,CAAEG,SAAS,IAHnB,2BAAA3P,EAAA,kDAAAA,EAAA,sEAKiB8D,EAAIkH,gCAAgC,EAAG,IAASL,GAAmB,EAAKnK,MAAMmK,iBAL/F,UAMqC,KADnCmL,EALF,QAMS5R,KAAKqN,OAAOrN,KAAK1B,OAN1B,uBAOEqN,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAS,oFACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAO4N,UAAU,IAnB5C,4CAuBF5S,EAAe,QAAcmL,EAAO5R,KAAKqN,OAAOrN,KAAK,GAAG4C,QAvBtD,UAyB6BtD,QAAQ+P,IAAI,CACvCzP,EAAIqJ,gBAAgBxC,GAAmB,EAAKnK,MAAMmK,iBAClD7G,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,mBA3BxE,QAgCF,IAhCE,6BAyBG3G,EAzBH,KAyBQyR,EAzBR,KA6BFnV,QAAQC,IAAIyD,EAAKyR,GACb+H,EAAWxZ,EAAIE,KAAKqN,OACpBkM,EAAchI,EAAYvR,KAAKqN,OAAOrN,KA/BxC,WAgCO2P,GACL,IAAIvG,EAAUkQ,EAAS3I,MAAK,SAAAzF,GAAC,OAAIA,EAAE1F,YAAc+T,EAAY5J,GAAGnK,aAE5D+T,EAAY5J,GADZvG,EACA,2BACOmQ,EAAY5J,IADnB,IAEIvG,QAASA,EAAQA,QACjBC,KAAMD,EAAQC,KACdhD,UAAW+C,EAAQ/C,UACnBmC,KAAM/B,EAAgB+B,OAG1B,2BACO+Q,EAAY5J,IADnB,IAEIvG,QAAS,EACTC,KAAM,GACNhD,UAAW,EAAK/J,MAAMmV,QAAQpL,UAC9BmC,KAAM,EAAKlM,MAAMmK,gBAAgB+B,QAhBpCmH,EAAI,EAAGA,EAAI4J,EAAYjb,OAAQqR,IAAM,EAArCA,GAoBTvT,QAAQC,IAAIkd,GAEZ,EAAKjO,SAAS,CACVsJ,MAAOhD,EAAO5R,KAAKqN,OAAOrN,KAAK,GAC/ByL,SAAS,EACT8N,YAAaA,EACbF,UAAU,EACV5S,gBAAiB,EAAKnK,MAAMmK,kBA3D9B,iMA8DFrK,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAhE/B,wBAiEEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3E3C,2BA+EFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzFvC,yDA/ES,wDA6KnBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAvLQ,EA0LnBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EAC9B3E,EAAgB7D,QAAU,KACpB,EAAK0I,SAAS,CAAE7E,gBAAiBA,IACjC,EAAK2I,QAAQ3I,IAhME,EAmMnB0G,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAtME,EA4MnBqP,YAAc,CAAC,WAAO,SAAO,gBAAc,YA5MxB,EAsOnBC,YAAc,SAACzG,GACX,IAAI5J,EAAU,EAAK9M,MAAMid,YAAYvG,GACrC,EAAK1H,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACH1Q,MA9OI,EAmPnB2Q,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KAlP3B,EAAKpd,MAAQ,CACTmT,eAAgB,GAChB8J,YAAa,GACb/Q,KAAM,EACNjM,SAAU,OACVkK,gBAAiB,GACjBgL,QAAS,GACTmD,MAAO,GACPnJ,SAAS,EACTqO,UAAW,GAGXJ,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACbR,UAAU,GAlBC,E,4FAsBnB,oCAAAvd,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK8CnM,QAAQ+P,IAAI,CAC9CzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,YAPnD,2CAKawH,EALb,KAK6BgC,EAL7B,KASYhL,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FqG,KAAM,EACNnC,UAAWoL,EAAQzR,KAAKqN,OAAOhH,WAEnC7J,KAAK8O,SAAS,CACVmG,QAASA,EAAQzR,KAAKqN,OACtBoC,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CyG,gBAAiBA,IAjB7B,UAmBcjK,KAAK4S,QAAQ3I,GAnB3B,6DAqBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFAwLA,WAAmB,IAAD,OAEd,OAAO3P,KAAKF,MAAMid,YAAYxG,KAAI,SAAC/S,EAAMgT,GACrC,IAAQ3O,EAA0ErE,EAA1EqE,YAAaC,EAA6DtE,EAA7DsE,YAAaM,EAAgD5E,EAAhD4E,YAAaL,EAAmCvE,EAAnCuE,QAASE,EAA0BzE,EAA1ByE,OAAQ2E,EAAkBpJ,EAAlBoJ,QAASC,EAASrJ,EAATqJ,KACzE,OACI,+BACI,6BALE,EAKa2J,IACf,6BAAK3O,IACL,6BAAKC,IACL,6BAAK,EAAK6I,WAAW,IAAIrD,KAAKlF,MAC9B,6BAAKH,EAAS,MAAQ,YACtB,6BAAKF,IACL,6BAAK,EAAKiV,YAAYpQ,KACtB,6BAAKC,IACL,6BACI,wBAAQyC,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,kBAAM,EAAK8b,YAAYzG,IAAzF,SACI,cAAC,IAAD,CAAQhW,KAAM,EAAKV,MAAMC,iBAX5ByW,Q,oBAoCrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,kBAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,6EAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,+BACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAElN,KAAM,IAAK4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,IACvDiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB+B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,eAMtE,uBACClU,KAAKF,MAAM+c,UACR,qBAAK7d,UAAU,MAAf,SACI,qBAAKA,UAAU,mCAAf,SACI,gCACI,mFAA+B,uBADnC,6DAOXgB,KAAKF,MAAM+c,UACR,qBAAK7d,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,OAAhB,UACI,oDAAiBgB,KAAKF,MAAMsY,MAAMpT,cAEtC,uBAAMhG,UAAU,OAAhB,UACI,mDAAgBgB,KAAKF,MAAMmK,gBAAgB+B,QAE/C,uBAAMhN,UAAU,OAAhB,UACI,2CAAagB,KAAKF,MAAMsY,MAAMpZ,aAElC,uBAAMA,UAAU,OAAhB,UACI,kDADJ,IACoBgB,KAAKF,MAAMid,YAAYjb,UAE3C,uBAAM9C,UAAU,OAAhB,UACI,sEAA6BgB,KAAKF,MAAMmV,QAAQxL,oBAK/DzJ,KAAKF,MAAM+c,UACR,qBAAK7d,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,wBAAOA,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,sCACA,gDACA,8CACA,mDACA,+CACA,qDACA,gEACA,4BAGR,gCACKgB,KAAKsU,kC,GA1WVpV,cAqX1Bue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,8BAEa,SAApB,EAAKjC,MAAMiC,KACJ,yCAEJ,oCAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKyc,WAAtB,qBAEa,SAApB,EAAKxe,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK8b,YAAtB,gCAEJ,MA1BQ,EA6BnBA,YA7BmB,sBA6BL,sBAAA3d,EAAA,6DACV,EAAKwP,SAAS,CAAEG,SAAS,IADf,kBAGA7L,EAAIuJ,cAAc,EAAKvN,MAAMoE,MAH7B,OAKN,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,0DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UAnBL,kDAqBNhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCnC,0DA7BK,EAmEnBwM,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SAzEA,EA6EnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA/EI,EAkFnB1N,cAAgB,SAACC,GAEb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAxFJ,EA2FnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KA3FjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CAiGnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,qBAAKjQ,UAAU,kBAAf,SACI,eAACif,GAAA,EAAD,WACI,eAACA,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,kCACA,cAACvK,GAAA,EAAD,CACIV,QAAS,CAAC,CAAElN,KAAM,WAAO4I,MAAO,GAAK,CAAE5I,KAAM,SAAO4I,MAAO,GAAK,CAAE5I,KAAM,gBAAc4I,MAAO,GAAK,CAAE5I,KAAM,WAAO4I,MAAO,IACxHiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKZ,MAAMoE,KAAKoJ,QACvBwD,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,UAAW4I,MAAOsF,WAGhF,eAAC+J,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,6CACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,yCACZjO,KAAK,OACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKqJ,KACvBuD,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,kBAO7C,eAAC+M,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GApKrBpQ,IAAMK,WA0K3B0d,GAAkBtb,YAAc1C,EAEjB2R,mBAAWqM,I,6BCjiBpB0B,G,kDACF,WAAYlf,GAAQ,IAAD,8BACf,cAAMA,IA6EVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA/EJ,EAkFnBkC,QAlFmB,uCAkFT,WAAO3I,GAAP,qBAAA3K,EAAA,yDACN,EAAKwP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK5U,MAAMmK,gBAAgB7D,QAH9B,uBAIE+I,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAO8F,YAAa,KAhB/C,0CAmB6BjS,QAAQ+P,IAAI,CACvCzP,EAAI8J,mBAAmBjD,GAAmB,EAAKnK,MAAMmK,iBACrD7G,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,mBArBxE,oCAmBG3G,EAnBH,KAmBQyR,EAnBR,KAuBFA,EAAc,EAAKwJ,YAAYxJ,EAAYvR,KAAKqN,OAAOrN,KAAMF,EAAIE,KAAKqN,QACtEjR,QAAQC,IAAIyD,EAAKyR,GACjB,EAAKjG,SAAS,CACVG,SAAS,EACT8F,YAAaA,EACbL,YAAY,EACZ8J,eAAgBlb,EAAIE,KAAKqN,SA7B3B,qDAgCFjR,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAlC/B,wBAmCEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA7C3C,2BAiDFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3DvC,0DAlFS,wDAkJnBxC,cAAgB,SAACC,GACb,IAAIC,EAAI,IAAIC,KAAKF,GACbG,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GAFfJ,EAAEM,cAGC,IAAMF,EAAK,IAAMF,GAzJhB,EA4JnBgR,YAAc,SAACxJ,EAAayJ,GAExB,IADA,IAAIC,EAAc,GACTtL,EAAI,EAAGA,EAAIqL,EAAe1c,OAAQqR,IAAK,CAC5C,IAAIuL,EAAaF,EAAerL,GAC3BsL,EAAYC,EAAW1V,aACxByV,EAAYC,EAAW1V,WAAa,IAExCyV,EAAYC,EAAW1V,WAAW,EAAKmE,cAAcuR,EAAWtR,OAASsR,EAE7E,IAAK,IAAIvL,EAAI,EAAGA,EAAI4B,EAAYjT,OAAQqR,IAAK,CACzC,IAAIuL,EAAaD,EAAY1J,EAAY5B,GAAGnK,YAAc,GAC1D+L,EAAY5B,GAAZ,aACIuL,cACG3J,EAAY5B,IAGvB,OAAO4B,GA5KQ,EA+KnB/B,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAzLQ,EA4LnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GAtMQ,EAyMnBE,sBAzMmB,uCAyMK,WAAOpN,EAAM4I,GAAb,iBAAAtP,EAAA,0DAChB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ4I,EACX,cAAT5I,IACAiE,EAAgB4D,QAAW,IAAIP,KAAKsB,GAAQ+P,QAAQ/P,EAAMpB,UAAY,IAE7D,YAATxH,IACAiE,EAAgB2D,UAAa,IAAIN,KAAKsB,GAAQ+P,QAAQ/P,EAAMpB,UAAY,IAE/D,iBAATxH,EATgB,wBAUhB,EAAK8I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CzK,EAAgB7D,aAAU4O,EAXV,mBAaU5R,EAAIkH,gCAAgC,EAAG,IAASL,GAb1D,eAaR4K,EAbQ,QAcErR,KAAKqN,OAAOrN,KAAK1B,OAC3BmI,EAAgB7D,QAAUyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,QAExD+I,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAG7C,EAAKb,SAAS,CACVG,SAAS,EACTmJ,MAAOvD,EAAUrR,KAAKqN,OAAOrN,KAAK1B,OAAS+S,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAK,GAC3EqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCyG,gBAAiBA,IAlCT,qDAsCZ,EAAK6E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACX5K,gBAAiBA,IAErBrK,QAAQC,IAAR,MA3CY,QA8CpB,EAAKiP,SAAS,CAAE7E,gBAAiBA,EAAiByK,YAAY,IA9C1C,0DAzML,0DA0PnBkK,kBAAoB,WAChB,IAAIC,EAAS,GACbA,EAAO9O,KAAK,oCAAQ,QACpB8O,EAAO9O,KAAK,yCAAQ,SACpB8O,EAAO9O,KAAK,+CAAQ,SAEpB,IADA,IAAIoD,EAAI,IAAI7F,KAAK,EAAKxN,MAAMmK,gBAAgB2D,WACrCuF,GAAK,EAAKrT,MAAMmK,gBAAgB4D,SACnCgR,EAAO9O,KACH,6BAAwBoD,EAAE3F,UAAY,KAAO2F,EAAEzF,WAAa,IAAnDyF,EAAE2L,aAEf3L,EAAEwL,QAAQxL,EAAE3F,UAAY,GAE5B,OACI,6BACKqR,KAxQM,EA6QnBvK,gBAAkB,WAGd,IAFA,IAAIS,EAAc,EAAKjV,MAAMiV,YACzBgK,EAAS,GAFO,WAGX5L,GACL,IAAI0L,EAAS,GACTxL,EAAU0B,EAAY5B,GAC1B0L,EAAO9O,KAAK,6BAAqBoD,EAAI,GAAhB,MAAQA,IAC7B0L,EAAO9O,KAAK,6BAAsBsD,EAAQxL,aAArB,OAASsL,IAC9B0L,EAAO9O,KAAK,6BAAsBsD,EAAQvL,aAArB,OAASqL,IAI9B,IAHA,IAAI/F,EAAO,IAAIE,KAAK,EAAKxN,MAAMmK,gBAAgB2D,WAC3C8Q,EAAarL,EAAQqL,WACrB1Z,EAAa,EAAKlF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAXnF,aAaZ,IAAI4F,EAAM,EAAK4B,cAAcC,GACxBsR,EAAWnT,KACZmT,EAAWnT,GAAO,CACd5F,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCkE,UAAW,EAAK/J,MAAMmK,gBAAgBJ,UACtCuD,KAAM7B,EACNmT,WAAY,EACZ1S,KAAMoB,GAAQpI,EAAWG,aAAe,EAAI,IAGpD0Z,EAAO9O,KACH,6BACI,yBACI/Q,UAAU,kBACVoR,SAAU,SAAA1B,GAAC,OAAI,EAAKsQ,iBAAiBN,EAAWnT,GAAMmD,EAAEC,OAAOC,QAC/DA,MAAO8P,EAAWnT,GAAKmT,WAH3B,UAKI,wBAAQ9P,MAAM,MACd,wBAAQA,MAAM,IAAd,gBACA,wBAAQA,MAAM,IAAd,mBARCxB,EAAK0R,WAAa3L,IAY/B/F,EAAKuR,QAAQvR,EAAKI,UAAY,IAxB3BJ,GAAQ,EAAKtN,MAAMmK,gBAAgB4D,SAAU,IA0BpDkR,EAAOhP,KACH,6BACK8O,GADI1L,KApCRA,EAAI,EAAGA,EAAI4B,EAAYjT,OAAQqR,IAAM,EAArCA,GAyCT,OAAO4L,GAzTQ,EA4TnBC,iBAAmB,SAACN,EAAY9P,GAC5B8P,EAAWA,WAAa9S,SAASgD,GACjC8P,EAAWvF,QAAS,EACpB,EAAKrK,SAAS,CAAEqK,QAAQ,KA/TT,EAkUnBI,OAlUmB,sBAkUV,sCAAAja,EAAA,sDACL,EAAKwP,SAAS,CAAEmQ,aAAa,IACzB7T,EAAO,GACP2J,EAAc,EAAKjV,MAAMiV,YACpB5B,EAAI,EAJR,YAIWA,EAAI4B,EAAYjT,QAJ3B,iBAKGod,EAAU,CACVlW,UAAW+L,EAAY5B,GAAGnK,UAC1B5C,QAAS,EAAKtG,MAAMmK,gBAAgB7D,QACpCqY,YAAa,IAEbC,EAAa3J,EAAY5B,GAAGuL,WAV/B,OAAApf,EAAA,KAWgBof,GAXhB,iDAWQtR,EAXR,YAYOsR,EAAWtR,GAAM+L,OAZxB,oBAaYuF,EAAWtR,GAAM+R,aAb7B,oBAc+C,IAAhCT,EAAWtR,GAAMsR,WAdhC,iBAeeQ,EAAQT,YAAY1O,KAApB,2BACO2O,EAAWtR,IADlB,IAEIqM,OAAQ,SAjB3B,sFAuB+C,IAAhCiF,EAAWtR,GAAMsR,WACjBQ,EAAQT,YAAY1O,KAApB,2BACO2O,EAAWtR,IADlB,IAEIqM,OAAQ,UAGZyF,EAAQT,YAAY1O,KAApB,2BACO2O,EAAWtR,IADlB,IAEIqM,OAAQ,SACRiF,WAAY,KAhC/B,+BAsCDtT,EAAK2E,KAAKmP,GAtCT,QAImC/L,IAJnC,qCAyCG,EAAKrT,MAAMqZ,OAzCd,kCA0CS/V,EAAI0K,iBAAiB,CAAE4L,SAAUtO,IA1C1C,eA6CD+D,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAS,0DACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEmQ,aAAa,EAAO9F,QAAQ,IAzD3C,UA0DK,EAAKvG,UA1DV,2DA4DD,EAAK9D,SAAS,CAAEmQ,aAAa,IAC7Brf,QAAQC,IAAR,MACAsP,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxExC,2DAlUU,EA+YnBiK,aAAe,WACX,EAAK9K,SAAS,CAAE+K,aAAa,KA9Y7B,EAAK/Z,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACXE,YAAa,GACb9K,gBAAiB,CACb2D,UAAW,IAAIN,KACfO,QAAS,IAAIP,MAEjBvN,SAAU,OACVoZ,QAAQ,EACRzE,YAAY,EACZuK,aAAa,GAbF,E,4FAiBnB,+CAAA3f,EAAA,6DACIU,KAAKgc,QAAUhc,KAAKZ,MAAM0Q,QAAQmM,OAAM,SAAAC,GACpC,OAAK,EAAKpc,MAAMqZ,QAIZ,EAAKrK,SAAS,CACV+K,aAAa,KAEV,IANP,EAAKmC,WACE,MAQfhc,KAAK8O,SAAS,CAAEG,SAAS,IAZ7B,kBAc8CnM,QAAQ+P,IAAI,CAC9CzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,YAhBnD,2CAcawH,EAdb,KAc6BgC,EAd7B,KAkBYmK,EAAM,IAAI9R,KACVrD,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWoL,EAAQzR,KAAKqN,OAAOhH,UAC/B+D,WAAY,IAAIN,MAAQqR,QAAQS,EAAI5R,UAAY,GAChDK,SAAU,IAAIP,MAAQqR,QAAQS,EAAI5R,UAAY,IAvB1D,UAyBkCpK,EAAIkH,gCAAgC,EAAG,IAASL,GAzBlF,eAyBYiL,EAzBZ,QA0B0B1R,KAAKqN,OAAOrN,KAAK1B,SAC/BmI,EAAgB7D,QAAU8O,EAAc1R,KAAKqN,OAAOrN,KAAK,GAAG4C,SAEhEpG,KAAK8O,SAAS,CACV+F,UAAWK,EAAc1R,KAAKqN,OAAOrN,KACrCyP,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3C2R,gBAAiBF,EAAQzR,KAAKqN,OAC9B5G,gBAAiBA,EACjBmO,MAAOlD,EAAc1R,KAAKqN,OAAOrN,KAAK1B,OAASoT,EAAc1R,KAAKqN,OAAOrN,KAAK,GAAK,GACnFyL,SAAS,IAnCrB,UAqCcjP,KAAK4S,QAAQ3I,GArC3B,0DAuCQrK,QAAQC,IAAR,MACAsP,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDjD,0D,wFAuDA,WACQ3P,KAAKgc,SACLhc,KAAKgc,Y,oBA2Ub,WAAU,IAAD,OAEL,OAAIhc,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAQhB,sBAAKA,UAAU,YAAf,UACI,cAAC,EAAD,CAASqP,KAAMrO,KAAKF,MAAMmf,cAC1B,cAAC,GAAD,CACI5Q,KAAMrO,KAAKF,MAAM+Z,YACjBsC,MAAOnc,KAAK4Z,aACZoC,QAAShc,KAAKgc,QACdtL,OAAQ1Q,KAAKyQ,OAEjB,qBAAKzR,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,sCAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAK1P,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDmB,UAAU,MAGlB,uBAAOrW,UAAU,OAAjB,8BACA,qBAAKwC,MAAO,CAAEwP,MAAO,SAAWhS,UAAU,OAA1C,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKF,MAAMmK,gBAAgB2D,UACrCwC,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,IACvDoL,WAAW,aACXtgB,UAAU,iCACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,SAG7B,uBAAOrC,UAAU,OAAjB,oCACA,qBAAKwC,MAAO,CAAEwP,MAAO,SAAWhS,UAAU,OAA1C,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKF,MAAMmK,gBAAgB4D,QACrCuC,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDoL,WAAW,aACXtgB,UAAU,iCACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,SAG7B,wBAAQiO,KAAK,SAAStQ,UAAU,0BAA0BmC,QAAS,SAAAuN,GAAOA,EAAEM,iBAAkB,EAAK4D,WAAnG,0CAIZ,uBACC5S,KAAKF,MAAM4U,YACR,qBAAK1V,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,wBAAOA,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACKgB,KAAK4e,sBAEV,gCACK5e,KAAKsU,uBAGd,wBAAQhF,KAAK,SAAStQ,UAAU,kBAAkBmC,QAAS,kBAAM,EAAKoY,UAAtE,kC,GAvfIra,aAkgB1Bsd,G,kDACF,WAAYpd,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,CACTmP,SAAS,GAHE,E,0CAMnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,0CAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACK,iIAGT,eAACoP,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAAS,WAAQ,EAAK/B,MAAM4c,UAAW,EAAK5c,MAAMsR,UAA3E,4BAGR,cAAC,EAAD,CAASrC,KAAMrO,KAAKF,MAAMmP,iB,GAxBpBpQ,IAAMK,WA+B5Bof,GAAkBhd,YAAc1C,EAEjB2R,mBAAW+N,ICxaXiB,I,gEA9HX,WAAYngB,GAAQ,IAAD,8BACf,cAAMA,IAMVogB,UAAY,WACR,OAA0C,IAAtC,EAAKpgB,MAAMqgB,WAAWC,YAElB,oBAAI1gB,UAAU,YAAYmC,QAAS,kBAAM,EAAK/B,MAAMugB,WAAW,IAA/D,SACI,qBAAK3gB,UAAU,YAAf,SACI,cAAC,IAAD,QAMZ,oBAAIA,UAAU,qBAAd,SACI,qBAAKA,UAAU,YAAf,SACI,cAAC,IAAD,SApBG,EA0BnB4gB,QAAU,WACN,OAA0C,IAAtC,EAAKxgB,MAAMqgB,WAAWC,YAElB,oBAAI1gB,UAAU,YAAYmC,QAAS,kBAAM,EAAK/B,MAAMugB,WAAW,EAAKvgB,MAAMqgB,WAAWC,YAAc,IAAnG,SACI,qBAAK1gB,UAAU,aAAf,SACI,cAAC,IAAD,QAMZ,oBAAIA,UAAU,qBAAd,SACI,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,SAvCG,EA6CnB6gB,SAAW,WACP,OAAI,EAAKzgB,MAAMqgB,WAAWC,cAAgB,EAAKtgB,MAAMqgB,WAAWK,SAExD,oBAAI9gB,UAAU,YAAYmC,QAAS,kBAAM,EAAK/B,MAAMugB,WAAW,EAAKvgB,MAAMqgB,WAAWC,YAAc,IAAnG,SACI,qBAAK1gB,UAAU,YAAf,SACI,cAAC,IAAD,QAMZ,oBAAIA,UAAU,qBAAd,SACI,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,SA1DG,EAgEnB8gB,SAAW,WACP,OAAI,EAAK1gB,MAAMqgB,WAAWC,cAAgB,EAAKtgB,MAAMqgB,WAAWK,SAExD,oBAAI9gB,UAAU,YAAYmC,QAAS,kBAAM,EAAK/B,MAAMugB,WAAW,EAAKvgB,MAAMqgB,WAAWK,WAArF,SACI,qBAAK9gB,UAAU,YAAf,SACI,cAAC,IAAD,QAMZ,oBAAIA,UAAU,qBAAd,SACI,qBAAKA,UAAU,YAAf,SACI,cAAC,IAAD,SA7EG,EAmFnB+gB,SAAW,WAIP,IAHA,IAAIC,EAAQ,EAAK5gB,MAAMqgB,WAAWC,YAAc,EAAI,EAAKtgB,MAAMqgB,WAAWC,YAAc,EAAI,EACxFO,EAAM,EAAK7gB,MAAMqgB,WAAWC,YAAc,EAAKtgB,MAAMqgB,WAAWK,SAAW,EAAI,EAAK1gB,MAAMqgB,WAAWC,YAAc,EAAI,EAAKtgB,MAAMqgB,WAAWK,SAC7I1U,EAAO,GAHE,WAIJ+H,GACL,GAAIA,IAAM,EAAK/T,MAAMqgB,WAAWC,YAM5B,OALAtU,EAAK2E,KACD,oBAAI/Q,UAAU,qBAAd,SACI,qBAAKA,UAAU,yBAAf,SAAyCmU,KADLA,IAI5C,WAEJ/H,EAAK2E,KACD,oBAAI/Q,UAAU,YAAoBmC,QAAS,kBAAM,EAAK/B,MAAMugB,WAAWxM,IAAvE,SACI,qBAAKnU,UAAU,yBAAf,SAAyCmU,KADdA,KAV9BA,EAAI6M,EAAO7M,GAAK8M,EAAK9M,IAAK,EAA1BA,GAeT,OAAO/H,GApGP,EAAKtL,MAAQ,GAFE,E,0CAyGnB,WAKI,OAJuC,IAAnCE,KAAKZ,MAAMqgB,WAAWK,WACtB9f,KAAKZ,MAAMqgB,WAAWK,SAAW,GAIjC,8BACI,qBAAKI,aAAW,aAAhB,SACI,qBAAIlhB,UAAU,aAAd,UACKgB,KAAKwf,YACLxf,KAAK4f,UACL5f,KAAK+f,WACL/f,KAAK6f,WACL7f,KAAK8f,sB,GAvHLjhB,IAAMK,YCGzBihB,G,kDACF,WAAY/gB,GAAQ,IAAD,8BACf,cAAMA,IAmDVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UArDJ,EAwDnBkC,QAxDmB,uCAwDT,WAAO/N,EAAMC,GAAb,eAAAxF,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAI0I,iBAAiBjH,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAHpG,OAGExB,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CAAEG,SAAS,EAAOmR,cAAe9c,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAL/F,mDAOF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAT/B,wBAUEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApB3C,2BAwBFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCvC,yDAxDS,0DA+FnB0Q,cA/FmB,uCA+FH,WAAO3R,GAAP,SAAApP,EAAA,6DACZ,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CA/FG,wDAoGnB+Q,WApGmB,uCAoGN,WAAO9a,GAAP,SAAAvF,EAAA,sEACH,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SAD3B,2CApGM,wDAwGnBwP,gBAAkB,WACd,IAAIgM,EAAU,EAAKxgB,MAAMgF,SAAW,EAAKhF,MAAM2f,WAAWC,YAAc,GAAK,EACzEzM,EAAiB,EAAKnT,MAAMmT,eAChC,OAAO,EAAKnT,MAAMsgB,cAAc7J,KAAI,SAAC/S,EAAMgT,GACvC,IAAQ7Q,EAA6BnC,EAA7BmC,aAAcqG,EAAexI,EAAfwI,KAAMC,EAASzI,EAATyI,KAC5B,OACI,+BACI,oBAAIjN,UAAU,cAAd,SAA6BshB,EAAU9J,IACvC,oBAAIxX,UAAU,cAAd,SAA6BiU,EAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiBA,KAAcX,aACvF,oBAAIhG,UAAU,cAAd,SAA6BgN,IAC7B,oBAAIhN,UAAU,cAAd,SAA6BiN,EAAO,UAAS,YAC7C,oBAAIjN,UAAU,cAAd,SACI,wBAAQsQ,KAAK,SAAStQ,UAAU,mBAAmBmC,QAAS,kBAAM8K,EAAO,EAAKsU,OAAO/J,GAAS,EAAKvK,KAAKuK,IAAxG,SAAkHvK,EAAO,UAAO,gBAN/HuK,OA9GF,EA2HnBvK,KAAO,SAACuK,GACJ,IAAIgK,EAAY,EAAK1gB,MAAMsgB,cAAc5J,GACzC,EAAK1H,SAAS,CACV+K,aAAa,EACbyD,UAAU,aACN7D,OAAQ,OACRzU,WAAY,EAAKlF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB6a,EAAU7a,gBAAcX,YACxFwb,MAlII,EAuInBD,OAAS,SAAC/J,GACN,IAAIgK,EAAY,EAAK1gB,MAAMsgB,cAAc5J,GACzC,EAAK1H,SAAS,CACV+K,aAAa,EACbyD,UAAU,aACN7D,OAAQ,SACRzU,WAAY,EAAKlF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB6a,EAAU7a,gBAAcX,YACxFwb,MA9II,EAmJnB5G,aAAe,WACX,EAAK9K,SAAS,CAAE+K,aAAa,KAlJ7B,EAAK/Z,MAAQ,CACTsgB,cAAe,GACfnN,eAAgB,GAChBhE,SAAS,EACT4K,aAAa,EACbyD,UAAW,GACXxY,QAAS,GACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,IAXH,E,4FAgBnB,iCAAAxgB,EAAA,6DACIU,KAAK8O,SAAS,CAAEG,SAAS,IAD7B,2BAAA3P,EAAA,8CAAAA,EAAA,sEAGoDwD,QAAQ+P,IAAI,CACpDzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0I,iBAAiB,EAAG,OALpC,OAWQ,IAXR,6BAGamH,EAHb,KAG6BmN,EAH7B,KAOQnN,EAAiBA,EAAezP,KAAKqN,OAAOrN,KAC5C4c,EAAgBA,EAAc5c,KAAKqN,OAAOrN,KAEtCid,EAAU,GAVtB,WAWiBtN,IACoF,IAArFiN,EAAcM,WAAU,SAAAhS,GAAC,OAAIA,EAAE/I,eAAiBsN,EAAeE,GAAGxN,iBAClE8a,EAAQ1Q,KACJ3M,EAAI2I,aAAa,CACbpG,aAAcsN,EAAeE,GAAGxN,aAChCqG,KAAM,EACNC,KAAM,IAEV7I,EAAI2I,aAAa,CACbpG,aAAcsN,EAAeE,GAAGxN,aAChCqG,KAAM,EACNC,KAAM,MAXbkH,EAAI,EAAGA,EAAIF,EAAenR,OAAQqR,IAAM,EAAxCA,GAXjB,OA2BQ,EAAKrE,SAAS,CAAEmE,eAAgBA,IA3BxC,UA4BcnQ,QAAQ+P,IAAI4N,GA5B1B,yBA6Bc,EAAK7N,QAAQ,EAAG,EAAK9S,MAAMgF,SA7BzC,QA8BQ,EAAKgK,SAAS,CAAEG,SAAS,IA9BjC,2GAgCQjP,KAAK8O,SAAS,CAAEG,SAAS,IAhCjC,wD,0EAuIA,WAAU,IAAD,OACL,OAAIjP,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAM+Z,YACjBsC,MAAOnc,KAAK4Z,aACZpW,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,2DAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKyR,WAA/E,UACI,cAAC,IAAD,CAAWpS,KAAMR,KAAKF,MAAMC,WADhC,6BAGA,uBAAOf,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAahB,uBACA,sBAAK5P,UAAU,MAAf,UACI,qBAAKA,UAAU,0CAAf,SACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,mDACA,gDACA,oDACA,4BAGR,gCACKgB,KAAKsU,2BAKtB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,uB,GArO5DzgB,aA4OlBsd,G,kDACF,WAAYpd,GAAQ,IAAD,8BACf,cAAMA,IAMVma,OAPmB,sBAOV,sBAAAja,EAAA,yDACL,EAAKwP,SAAS,CAAEG,SAAS,IADpB,SAG0B,SAA3B,EAAK7P,MAAMoE,KAAKiW,OAHf,gCAGyCrW,EAAI8I,cAAc,EAAK9M,MAAMoE,MAHtE,6CAGoFJ,EAAI+I,gBAAgB,EAAK/M,MAAMoE,MAHnH,OAKD,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAoC,SAA3B,EAAKjQ,MAAMoE,KAAKiW,OAAoB,2BAAoB,2BACjEnK,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBV,kDAqBDhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK7P,MAAQ,CACTmP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,sBAAKvP,UAAU,YAAf,UACK,0CADL,IACwD,SAA3BgB,KAAKZ,MAAMoE,KAAKiW,OAAoB,mCAAmB,mCADpF,IACqG,mBADrG,IACiH,kCAAKzZ,KAAKZ,MAAMoE,KAAKwI,KAArB,OADjH,IACkJ,sBADlJ,IAC+J,kCAAKhM,KAAKZ,MAAMoE,KAAKwB,WAArB,OAD/J,IACsM,UAG1M,eAACoJ,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAKuZ,OAAvC,SAA2E,SAA3BvZ,KAAKZ,MAAMoE,KAAKiW,OAAoB,UAAS,kBAGrG,cAAC,EAAD,CAASpL,KAAMrO,KAAKF,MAAMmP,iB,GAhEpBpQ,IAAMK,WAsEbqR,eAAW4P,IC/SpBS,I,8DACF,WAAYxhB,GAAQ,IAAD,8BACf,cAAMA,IAsFVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAxFJ,EA2FnBkC,QA3FmB,uCA2FT,WAAO/N,EAAMC,EAASmF,GAAtB,2BAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAIkH,gCAAgCzF,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAH1J,OAMF,GAHI3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACRE,EAAOF,EAAIE,KAAKqN,OAAOrN,MACrB,EAAK1D,MAAMmK,gBAAgB7D,UAAW,EAAKtG,MAAMmK,gBAAgBJ,UAAY,CAE/E,IADIgX,EAAO,GACF1N,EAAI,EAAGA,EAAI3P,EAAK1B,OAAQqR,IAC7B0N,EAAKrd,EAAK2P,GAAG/M,SAAW,EAI5B,IAFIyO,EAAY,EAAK/U,MAAM+U,UACvB7P,EAAa,EAAKlF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAC1FwN,EAAI,EAAGA,EAAI0B,EAAU/S,OAAQqR,IAC7B0N,EAAKhM,EAAU1B,GAAG/M,UACnB5C,EAAKuM,KAAL,2BACO8E,EAAU1B,IACVnO,IAKnB,EAAK8J,SAAS,CACVG,SAAS,EACT6R,8BAA+Btd,EAC/Bic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAzB9B,qDA4BF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DA3FS,4DAuJnByD,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KA3JlB,EA8JnBsT,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KA/JZ,EAgMnB6D,iBAAmB,WAGf,IAFA,IAAI3V,EAAO,EAAKtL,MAAMkhB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8C/H,EAAK+H,GAA7CtJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9B0J,EAAQnD,KAAK,CACT/J,KAAMyD,EAAc,MAAQD,EAC5BoF,MAAO/E,IAGf,OAAOqJ,GA1MQ,EA6MnBF,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAvNQ,EA0NnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GApOQ,EAuOnB1I,8BAAgC,SAACgM,GAC7B,IAAIyK,EAA4B,EAAKnhB,MAAMghB,8BAA8BtK,GACzE,EAAK1H,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACH2D,MA7OX,EAAKnhB,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACXmM,YAAa,GACbF,8BAA+B,GAC/B/gB,SAAU,OACVkK,gBAAiB,GAEjBnF,QAAS,IACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTqO,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACd6D,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgB,4BAA6B,GAEjCyS,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb6D,YAAY,GA9BD,E,4FAkCnB,sCAAA5hB,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK6DnM,QAAQ+P,IAAI,CAC7DzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,OARlC,2CAKa+J,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAUY/W,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCwd,YAAaA,EAAYxd,KAAKqN,OAAOrN,KACrCyG,gBAAiBA,IAjB7B,UAmBcjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,GAnBlD,6DAqBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFAgIA,WAAmB,IAAD,OACV2Q,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMghB,8BAA8BvK,KAAI,SAAC4K,EAAM3K,GACvD,IAAQhN,EAAoD2X,EAApD3X,YAAaC,EAAuC0X,EAAvC1X,YAAazK,EAA0BmiB,EAA1BniB,UAAWgG,EAAemc,EAAfnc,WAC7C,OACI,+BACI,6BAAKsb,EAAU9J,IACf,6BAAKxX,IACL,6BAAKwK,IACL,6BAAKC,GAA4B,8BACjC,6BAAKzE,IACL,oBAAIhG,UAAU,cAAd,SACI,wBAAQsQ,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,kBAAM,EAAKqJ,8BAA8BgM,IAA3G,SACI,cAAC,IAAD,CAAQhW,KAAM,EAAKV,MAAMC,iBAR5ByW,Q,0BAerB,WACI,IAAIvM,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK8O,SAAS,CACV7E,gBAAiBA,IAErBjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,K,oBAuDxC,WAAU,IAAD,OACL,OAAIjK,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,QACdI,oBAAqBhT,KAAKgT,oBAC1B+N,iBAAkB/gB,KAAK+gB,iBACvBnM,eAAgB5U,KAAK4U,iBAEzB,qBAAK5V,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,sFAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,SACI,yBAAQY,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKigB,gBAA/E,UACI,cAAC,IAAD,CAAW5gB,KAAMR,KAAKF,MAAMC,WADhC,mCAMZ,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAK1P,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAIlE,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK+gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBJ,UAClCuG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAK/D,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAI7D,yBAAQ5E,KAAK,SAAStQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKyR,WAArF,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,0CACA,+DACA,gDACA,mDACA,4BAGR,gCACKgB,KAAKsU,oC,GApWFpV,cA+WlCue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,8DAEa,SAApB,EAAKjC,MAAMiC,KACJ,yEAEJ,oEAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKoJ,6BAAtB,qBAEa,SAApB,EAAKnL,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKqJ,8BAAtB,gCAEJ,MA1BQ,EA6BnBA,8BA7BmB,sBA6Ba,sBAAAlL,EAAA,yDAC5B,EAAKwP,SAAS,CAAEG,SAAS,IADG,UAGpB,EAAK7P,MAAMoE,KAAKqG,UAHI,qBAIhB,EAAKzK,MAAMoE,KAAKiH,4BAJA,gCAKVrH,EAAIoH,8BAA8B,EAAKpL,MAAMoE,MALnC,+CAOVJ,EAAImH,6BAA6B,EAAKnL,MAAMoE,MAPlC,oCAUhB,EAAKpE,MAAMoE,KAAKiH,4BAVA,kCAWVrH,EAAIsH,gCAAgC,EAAKtL,MAAMoE,KAAKiH,6BAX1C,QAgBxB,EAAKqE,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,0EACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UA9Ba,qDAgCxBhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAlCtB,wBAmCpB2H,QAAMC,gBAAgB,CAClBrO,MAAO,wCACPsO,QAAS,6HACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA7CrB,2BAiDxBR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3DjB,0DA7Bb,EA6FnBwM,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SAnGA,EAuGnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SAzGI,EA4GnB1N,cAAgB,SAACC,GACb9O,QAAQC,IAAI6O,GACZ,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAlHJ,EAqHnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KArHjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CA2HnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,sBAAKjQ,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM4T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,eAAgB4I,MAAOsF,MAC7EtF,MAAO5O,KAAKZ,MAAMoE,KAAKmC,aACvB0P,UAAU,SAItB,sBAAKrW,UAAU,aAAf,UACI,oDACA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,SAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM2hB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAOsF,MAC1EtF,MAAO5O,KAAKZ,MAAMoE,KAAKqG,cAG/B,qBAAK7K,UAAU,aAAf,SACI,cAAC,IAAD,CAASA,UAAU,oBAAoBmC,QAAS,kBAAM,EAAKsN,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAO,mBAK3H,sBAAK5P,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAMwV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,UAAW4I,MAAOsF,MACxEtF,MAAO5O,KAAKZ,MAAMoE,KAAK4C,QACvBiP,UAAU,eAOlC,eAACjH,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GAxNrBpQ,IAAMK,WA+NZqR,eAAWqQ,I,SC/kBpBS,G,kDACF,WAAYjiB,GAAQ,IAAD,8BACf,cAAMA,IA6FVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA/FJ,EAkGnBkC,QAlGmB,uCAkGT,WAAO/N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAI4G,yBAAyBnF,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHnJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACVG,SAAS,EACTqS,uBAAwBhe,EAAIE,KAAKqN,OAAOrN,KACxCic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAR9B,mDAYF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAlGS,4DAwJnB0Q,cAxJmB,uCAwJH,WAAO3R,GAAP,SAAApP,EAAA,6DACZ,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CAxJG,wDA4JnB+Q,WA5JmB,uCA4JN,WAAO9a,GAAP,SAAAvF,EAAA,sEACH,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SAD3B,2CA5JM,wDAgKnBic,iBAAmB,WAGf,IAFA,IAAI3V,EAAO,EAAKtL,MAAMkhB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8C/H,EAAK+H,GAA7CtJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9B0J,EAAQnD,KAAK,CACT/J,KAAMyD,EAAc,MAAQD,EAC5BoF,MAAO/E,IAGf,OAAOqJ,GA1KQ,EA6KnBF,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAvLQ,EA0LnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GApMQ,EAuMnBqO,iBAAmB,WAGf,IAFA,IAAInW,EAAO,EAAKtL,MAAM0hB,YAClBtO,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAiC/H,EAAK+H,GAAhCvM,EAAN,EAAMA,UAAWH,EAAjB,EAAiBA,YACjByM,EAAQnD,KAAK,CACT/J,KAAMS,EACNmI,MAAOhI,IAGf,OAAOsM,GAjNQ,EAoNnBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KAxNlB,EA6OnBE,sBAAwB,WACpB,EAAK2E,SAAS,CACVoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgY,qBAAsB,MA7Pf,EAkQnBrX,yBAA2B,SAACoM,GACxB,IAAIkL,EAAqB,EAAK5hB,MAAMwhB,uBAAuB9K,GAC3D,EAAK1H,SAAS,CACVoS,YAAY,EACZ5D,UAAU,eACHoE,MAvQI,EA4QnBC,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KA7Qb,EAgRnB3D,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KA/Q3B,EAAKpd,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVZ,YAAa,GACbQ,YAAa,GACbF,uBAAwB,GACxBvhB,SAAU,OACVkK,gBAAiB,GAGjBnF,QAAS,GACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTqO,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACdiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgY,qBAAsB,GAE1BvE,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb6D,YAAY,GAnCD,E,4FAuCnB,wCAAA5hB,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK0EnM,QAAQ+P,IAAI,CAC1EzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,KACtB9F,EAAIkD,eAAe,EAAG,OATlC,2CAKa2M,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAKqDQ,EALrD,KAWYvX,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCwd,YAAaA,EAAYxd,KAAKqN,OAAOrN,KACrCge,YAAaA,EAAYhe,KAAKqN,OAAOrN,KACrCyG,gBAAiBA,IAnB7B,UAqBcjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,GArBlD,6DAuBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAzBzC,wBA0BYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApCrD,2BAwCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDjD,0D,gFAuGA,WACI,IAAI1F,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK8O,SAAS,CACV7E,gBAAiBA,IAErBjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,K,6BAsExC,WAAmB,IAAD,OACVqW,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMwhB,uBAAuB/K,KAAI,SAAC4K,EAAM3K,GAChD,IAAQhN,EAAiE2X,EAAjE3X,YAAaC,EAAoD0X,EAApD1X,YAAahD,EAAuC0a,EAAvC1a,YAAazH,EAA0BmiB,EAA1BniB,UAAWgG,EAAemc,EAAfnc,WAC1D,OACI,+BACI,6BAAKsb,EAAU9J,IACf,6BAAKhN,IACL,6BAAKC,IACL,6BAAKhD,IACL,6BAAKzH,IACL,6BAAKgG,IACL,oBAAIhG,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKiJ,yBAAyBoM,UAP7EA,Q,oBAoDrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,QACdI,oBAAqBhT,KAAKgT,oBAC1B+N,iBAAkB/gB,KAAK+gB,iBACvBnM,eAAgB5U,KAAK4U,eACrB2M,iBAAkBvhB,KAAKuhB,mBAE3B,cAAC,GAAD,CACIlT,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,sEAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKigB,gBAA/E,UACI,cAAC,IAAD,CAAW5gB,KAAMR,KAAKF,MAAMC,WADhC,6BAIA,yBAAQuP,KAAK,SAAStQ,UAAU,8BAA8BmC,QAASnB,KAAKmK,sBAA5E,UACI,cAAC,KAAD,CAAU3J,KAAMR,KAAKF,MAAMC,SAAU8hB,MAAM,KAD/C,6BAGA,uBAAO7iB,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAKhB,qBAAK5P,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK+gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBJ,UAClCuG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAI/D,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKuhB,mBACd1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBrD,UAClCwJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAAStQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKyR,WAArF,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,+DACA,gDACA,iDACA,0CACA,mDACA,6BACI,cAAC,IAAD,WAIZ,gCACKgB,KAAKsU,yBAIlB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,yB,GAzavDzgB,aAib3B4iB,G,kDACF,WAAY1iB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKwP,SAAS,CAAEG,SAAS,IADpB,kBAGK7L,EAAIgH,yBAAyB,EAAKhL,MAAMoE,KAAKie,sBAHlD,OAKD,EAAK3S,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,8DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBV,kDAqBDhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IAEzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCxC,0DALL,EAAK7P,MAAQ,CACTmP,SAAS,GAHE,E,0CA+CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,wCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,sBAAKvP,UAAU,YAAf,UACK,0FADL,IACwD,kCAAKgB,KAAKZ,MAAMoE,KAAKiG,YAArB,OADxD,IACgG,UAGpG,eAAC2E,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GAjEdpQ,IAAMK,WAwE5Bue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,8CAEa,SAApB,EAAKjC,MAAMiC,KACJ,+CAEJ,oDAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKgJ,sBAAtB,qBAEa,SAApB,EAAK/K,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK4gB,uBAAtB,sBAEJ,MA1BQ,EA6BnBC,SAAW,WACP,OAAK,EAAK5iB,MAAMoE,KAAKqG,UAgBhB,EAAKzK,MAAMoE,KAAK4C,UAgBhB,EAAKhH,MAAMoE,KAAKoD,YACjBuI,QAAMC,gBAAgB,CAClBrO,MAAO,yCACPsO,QAAS,uEACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,wBAElC,IA5BPR,QAAMC,gBAAgB,CAClBrO,MAAO,yCACPsO,QAAS,yEACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,wBAElC,IA5BPR,QAAMC,gBAAgB,CAClBrO,MAAO,yCACPsO,QAAS,uEACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,wBAElC,IA3CI,EAgFnBxF,sBAhFmB,sBAgFK,sBAAA7K,EAAA,yDACf,EAAK0iB,WADU,wDAIpB,EAAKlT,SAAS,CAAEG,SAAS,IAJL,kBAMV7L,EAAI+G,sBAAsB,EAAK/K,MAAMoE,MAN3B,OAQhB,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,+DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBK,qDAwBhBhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA1B9B,wBA2BZ2H,QAAMC,gBAAgB,CAClBrO,MAAO,6CACPsO,QAAS,iHACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArC7B,2BAyChBR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnDzB,0DAhFL,EAwInBwM,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SA9IA,EAkJnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SApJI,EAuJnB1N,cAAgB,SAACC,GACb9O,QAAQC,IAAI6O,GACZ,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IA7JJ,EAgKnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KAhKjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CAsKnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,sBAAKjQ,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM4T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,eAAgB4I,MAAOsF,MAC7EtF,MAAO5O,KAAKZ,MAAMoE,KAAKmC,oBAInC,sBAAK3G,UAAU,aAAf,UACI,oDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM2hB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAOsF,MAC1EtF,MAAO5O,KAAKZ,MAAMoE,KAAKqG,iBAInC,sBAAK7K,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAMwV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,UAAW4I,MAAOsF,MACxEtF,MAAO5O,KAAKZ,MAAMoE,KAAK4C,eAInC,sBAAKpH,UAAU,aAAf,UACI,uBAAOA,UAAU,GAAjB,6BACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAMmiB,mBACpB1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAOsF,MAC1EtF,MAAO5O,KAAKZ,MAAMoE,KAAKoD,uBAO/C,eAACwH,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GAzQrBpQ,IAAMK,WA+QZqR,eAAW8Q,ICtwBpBY,I,yDACF,WAAY7iB,GAAQ,IAAD,8BACf,cAAMA,IA6FVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA/FJ,EAkGnBkC,QAlGmB,uCAkGT,WAAO/N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAIwH,2BAA2B/F,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHrJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACVG,SAAS,EACTiT,yBAA0B5e,EAAIE,KAAKqN,OAAOrN,KAC1Cic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAR9B,mDAYF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAlGS,4DAwJnB0Q,cAxJmB,uCAwJH,WAAO3R,GAAP,SAAApP,EAAA,6DACZ,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CAxJG,wDA4JnB+Q,WA5JmB,uCA4JN,WAAO9a,GAAP,SAAAvF,EAAA,sEACH,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SAD3B,2CA5JM,wDAgKnBic,iBAAmB,WAGf,IAFA,IAAI3V,EAAO,EAAKtL,MAAMkhB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8C/H,EAAK+H,GAA7CtJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9B0J,EAAQnD,KAAK,CACT/J,KAAMyD,EAAc,MAAQD,EAC5BoF,MAAO/E,IAGf,OAAOqJ,GA1KQ,EA6KnBF,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAvLQ,EA0LnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GApMQ,EAuMnBiP,wBAA0B,WAGtB,IAFA,IAAI/W,EAAO,EAAKtL,MAAMsiB,mBAClBlP,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA2C/H,EAAK+H,GAA1ChM,EAAN,EAAMA,iBAAkBF,EAAxB,EAAwBA,eACxBiM,EAAQnD,KAAK,CACT/J,KAAMiB,EACN2H,MAAOzH,IAGf,OAAO+L,GAjNQ,EAoNnBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KAxNlB,EA4OnBY,wBAA0B,WACtB,EAAKiE,SAAS,CACVoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCwB,iBAAkB,EAAKrH,MAAMmK,gBAAgB9C,iBAC7Ckb,mBAAoB,GACpB7Y,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgY,qBAAsB,MA5Pf,EAiQnB3W,2BAA6B,SAAC0L,GAC1B,IAAI8L,EAAuB,EAAKxiB,MAAMoiB,yBAAyB1L,GAC/D,EAAK1H,SAAS,CACVoS,YAAY,EACZ5D,UAAU,eACHgF,MAtQI,EA2QnBX,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KA5Qb,EA+QnB3D,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KA9Q3B,EAAKpd,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVZ,YAAa,GACboB,mBAAoB,GACpBF,yBAA0B,GAC1BniB,SAAU,OACVkK,gBAAiB,GAGjBnF,QAAS,GACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTqO,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACdiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgY,qBAAsB,GAE1BvE,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb6D,YAAY,GAnCD,E,4FAuCnB,wCAAA5hB,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAKiFnM,QAAQ+P,IAAI,CACjFzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,KACtB9F,EAAI0D,sBAAsB,EAAG,OATzC,2CAKamM,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAKqDoB,EALrD,KAWYnY,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCwd,YAAaA,EAAYxd,KAAKqN,OAAOrN,KACrC4e,mBAAoBA,EAAmB5e,KAAKqN,OAAOrN,KACnDyG,gBAAiBA,IAnB7B,UAqBcjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,GArBlD,6DAuBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAzBzC,wBA0BYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApCrD,2BAwCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDjD,0D,gFAuGA,WACI,IAAI1F,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK8O,SAAS,CACV7E,gBAAiBA,IAErBjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,K,6BAsExC,WAAmB,IAAD,OACVqW,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMoiB,yBAAyB3L,KAAI,SAAC/S,EAAMgT,GAClD,IAAQhN,EAAyDhG,EAAzDgG,YAAaC,EAA4CjG,EAA5CiG,YAAaxC,EAA+BzD,EAA/ByD,eAAgBjC,EAAexB,EAAfwB,WAClD,OACI,+BACI,6BAAKsb,EAAU9J,IACf,6BAAKhN,IACL,6BAAKC,IACL,6BAAKxC,IACL,6BAAKjC,IACL,oBAAIhG,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK2J,2BAA2B0L,UAN/EA,Q,oBAsDrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,QACdI,oBAAqBhT,KAAKgT,oBAC1B+N,iBAAkB/gB,KAAK+gB,iBACvBnM,eAAgB5U,KAAK4U,eACrBuN,wBAAyBniB,KAAKmiB,0BAElC,cAAC,GAAD,CACI9T,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,2EAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKigB,gBAA/E,UACI,cAAC,IAAD,CAAW5gB,KAAMR,KAAKF,MAAMC,WADhC,6BAGA,yBAAQuP,KAAK,SAAStQ,UAAU,8BAA8BmC,QAASnB,KAAK6K,wBAA5E,UACI,cAAC,KAAD,CAAUrK,KAAMR,KAAKF,MAAMC,SAAU8hB,MAAM,KAD/C,6BAGA,uBAAO7iB,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAKhB,qBAAK5P,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAK1P,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK+gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBJ,UAClCuG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,uBAAOlV,UAAU,OAAjB,sBACA,qBAAKA,UAAU,8BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKmiB,0BACdtO,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB9C,iBAClCiJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,mBAAoBc,QAGtE,yBAAQ5E,KAAK,SAAStQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKyR,WAArF,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,+DACA,gDACA,yCACA,mDACA,6BACI,cAAC,IAAD,WAIZ,gCACKgB,KAAKsU,yBAIlB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,yB,GA5ZrDzgB,cAoa7B4iB,G,kDACF,WAAY1iB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKwP,SAAS,CAAEG,SAAS,IADpB,kBAGK7L,EAAI0H,2BAA2B,EAAK1L,MAAMoE,KAAK+e,wBAHpD,OAKD,EAAKzT,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,mEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBV,kDAqBDhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK7P,MAAQ,CACTmP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,wCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,sBAAKvP,UAAU,YAAf,UACK,mFADL,IACoD,kCAAKgB,KAAKZ,MAAMoE,KAAKiG,YAArB,OADpD,IAC4F,UAGhG,eAAC2E,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GAhEdpQ,IAAMK,WAuE5Bue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,mDAEa,SAApB,EAAKjC,MAAMiC,KACJ,oDAEJ,yDAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK0J,wBAAtB,qBAEa,SAApB,EAAKzL,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK4gB,uBAAtB,sBAEJ,MA1BQ,EA6BnBlX,wBA7BmB,sBA6BO,sBAAAvL,EAAA,6DACtB,EAAKwP,SAAS,CAAEG,SAAS,IADH,kBAGZ7L,EAAIyH,wBAAwB,EAAKzL,MAAMoE,MAH3B,OAKlB,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,oEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UAnBO,qDAqBlBhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAxB5B,wBAyBd2H,QAAMC,gBAAgB,CAClBrO,MAAO,6BACPsO,QAAS,8EACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnC3B,2BAwClBR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDvB,0DA7BP,EAoFnBwM,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SA1FA,EA8FnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SAhGI,EAmGnB1N,cAAgB,SAACC,GACb9O,QAAQC,IAAI6O,GACZ,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAzGJ,EA4GnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KA5GjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CAkHnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,sBAAKjQ,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM4T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,eAAgB4I,MAAOsF,MAC7EtF,MAAO5O,KAAKZ,MAAMoE,KAAKmC,oBAInC,sBAAK3G,UAAU,aAAf,UACI,oDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM2hB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAOsF,MAC1EtF,MAAO5O,KAAKZ,MAAMoE,KAAKqG,iBAInC,sBAAK7K,UAAU,aAAf,UACI,uBAAOA,UAAU,GAAjB,sCACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM+iB,0BACpBtO,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,mBAAoB4I,MAAOsF,MACjFtF,MAAO5O,KAAKZ,MAAMoE,KAAK2D,8BAO/C,eAACiH,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GAvMrBpQ,IAAMK,WA6MZqR,eAAW0R,I,2BCnrBpBO,I,yDACJ,WAAYpjB,GAAQ,IAAD,8BACjB,cAAMA,IA+BRqR,KAAO,WACL,EAAKrR,MAAM0Q,QAAQY,UAjCF,EAoCnBkC,QApCmB,uCAoCT,WAAO/N,EAAMC,GAAb,eAAAxF,EAAA,6DACR,EAAKwP,SAAS,CAAEG,SAAS,IADjB,kBAGU7L,EAAIwB,kBAAkBC,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAHjG,OAGFxB,EAHE,OAIN,EAAKwL,SAAS,CAAEG,SAAS,EAAOgE,eAAgB3P,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAJ5F,mDAON7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAT3B,wBAUJgM,QAAMC,gBAAgB,CACpBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApBnC,2BAwBNR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCjC,yDApCS,0DA2EnB0Q,cA3EmB,uCA2EH,WAAO3R,GAAP,SAAApP,EAAA,6DACd,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA3EG,wDA+EnB+Q,WA/EmB,uCA+EN,WAAO9a,GAAP,SAAAvF,EAAA,sEACL,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SADzB,2CA/EM,wDA+GnBC,cAAgB,WACd,EAAK+J,SAAS,CACZoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTpY,mBAAoB,IAAIoI,KACxBlI,oBAAqB,IAAIkI,KACzBhI,oBAAqB,IAAIgI,KACzB9H,qBAAsB,IAAI8H,KAC1BtI,WAAY,GACZS,YAAa,GACbE,aAAc,MA5HD,EAiInBD,eAjImB,uCAiIF,WAAO8Q,GAAP,eAAAlX,EAAA,sDACX0F,EAAa,EAAKlF,MAAMmT,eAAeuD,GAC3C,EAAK1H,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACT3X,aAAcX,EAAWW,aACzBT,mBAAoB,IAAIoI,KAAKtI,EAAWC,gBACxCG,oBAAqB,IAAIkI,KAAKtI,EAAWG,cACzCG,oBAAqB,IAAIgI,KAAKtI,EAAWK,gBACzCG,qBAAsB,IAAI8H,KAAKtI,EAAWO,cAC1CP,WAAYA,EAAWA,WACvBS,YAAaT,EAAWS,eAdb,2CAjIE,wDAoJnBG,iBAAmB,SAAC4Q,GAClB,IAAIxR,EAAa,EAAKlF,MAAMmT,eAAeuD,GAC3C,EAAK1H,SAAS,CACZoS,YAAY,EACZ5D,UAAW,CACT3X,aAAcX,EAAWW,aACzBT,mBAAoB,IAAIoI,KAAKtI,EAAWC,gBACxCG,oBAAqB,IAAIkI,KAAKtI,EAAWG,cACzCG,oBAAqB,IAAIgI,KAAKtI,EAAWK,gBACzCG,qBAAsB,IAAI8H,KAAKtI,EAAWO,cAC1CP,WAAYA,EAAWA,WACvBS,YAAaT,EAAWS,gBA/JX,EAoKnBgd,SAAW,SAACjM,GACV,IAAIxR,EAAa,EAAKlF,MAAMmT,eAAeuD,GAC3C,EAAK1H,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACT3X,aAAcX,EAAWW,aACzBT,mBAAoB,IAAIoI,KAAKtI,EAAWC,gBACxCG,oBAAqB,IAAIkI,KAAKtI,EAAWG,cACzCG,oBAAqB,IAAIgI,KAAKtI,EAAWK,gBACzCG,qBAAsB,IAAI8H,KAAKtI,EAAWO,cAC1CP,WAAYA,EAAWA,WACvBS,YAAaT,EAAWS,gBAlLX,EAuLnBkc,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KAxLX,EA2LnB3D,WAAa,WACX,EAAKzO,SAAS,CAAEoO,WAAW,KA1L3B,EAAKpd,MAAQ,CAEXmT,eAAgB,GAChBnO,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZxC,UAAW,CACT3X,aAAc,EACdT,mBAAoB,IAAIoI,KACxBlI,oBAAqB,IAAIkI,KACzBhI,oBAAqB,IAAIgI,KACzB9H,qBAAsB,IAAI8H,KAC1BtI,WAAY,GACZS,YAAa,IAEfyX,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,GAvBE,E,4FA2BnB,sBAAA/d,EAAA,6DACEU,KAAK8O,SAAS,CAAEG,SAAS,IAD3B,SAEQjP,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SAFnC,gD,qFAwDA,WACE,OACE,+BACE,qCACA,mDACA,+CACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKlC,WAAmB,IAAD,OACZshB,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMmT,eAAesD,KAAI,SAAC4K,EAAM3K,GAC1C,IAAQxR,EAA4Bmc,EAA5Bnc,WAAYS,EAAgB0b,EAAhB1b,YACpB,OACE,+BACE,6BAAK6a,EAAU9J,IACf,6BAAI,sBAAMxX,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmGxR,MACvG,6BAAKS,IACL,oBAAIzG,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKyE,iBAAiB4Q,QAC1E,oBAAIxX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKuE,eAAe8Q,UALrEA,Q,oBA2Ff,WAAU,IAAD,OACP,OAAIxW,KAAKF,MAAMmP,QAEX,qBAAKjQ,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAEhB,cAAC,GAAD,CACEvE,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAEhB,qBAAK5T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE5C,qBAAKzR,UAAU,4BAAf,kEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKyR,WAApE,SACE,sBAAK5T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAASnB,KAAK+E,cAA9D,SACE,sBAAK/F,UAAU,SAAf,UACE,4DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,4BAKR,uBACA,qBAAKpN,MAAO,CAAEmf,UAAW,SAAzB,SACE,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO9jB,UAAU,eAAjB,SACGgB,KAAK4e,sBAER,gCAAQ5e,KAAKsU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,oB,GA7R/C9gB,IAAMK,YAmSzB4iB,G,kDACJ,WAAY1iB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKwP,SAAS,CAAEG,SAAS,IADlB,kBAGC7L,EAAIwC,iBAAiB,EAAKxG,MAAMoE,KAAKmC,cAHtC,OAKL,EAAKmJ,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBN,qDAqBLhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAvBzC,wBAwBH2H,QAAMC,gBAAgB,CACpBrO,MAAO,2BACPsO,QAAS,sLACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK7P,MAAQ,CACXmP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,wCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,sBAAKvP,UAAU,YAAf,UACG,mEADH,KACuC,4BAAIgB,KAAKZ,MAAMoE,KAAKwB,aAD3D,KAC6E,UAG/E,eAACoJ,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GA/ENpQ,IAAMK,WAsF5Bue,G,kDACJ,WAAYre,GAAQ,IAAD,8BACjB,cAAMA,IAQRse,SAAW,WACT,MAAwB,QAApB,EAAKte,MAAMiC,KACN,4BAEe,SAApB,EAAKjC,MAAMiC,KACN,6BAEF,kCAhBU,EAmBnBsc,UAAY,WACV,MAAwB,QAApB,EAAKve,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK4D,cAAtB,qBAEe,SAApB,EAAK3F,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKuE,eAAtB,sBAEF,MA1BU,EA4BnBqd,aAAe,WACb,OAAI,EAAK3jB,MAAMoE,KAAKwB,WAAWlD,OAAS,IACtCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,2FACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEiC,IAAtC,EAAKvQ,MAAMoE,KAAKwB,WAAWlD,QAC7BqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,4EACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEL,EAAKvQ,MAAMoE,KAAK4B,qBAAuB,EAAKhG,MAAMoE,KAAK0B,oBACzDiK,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,qHACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEL,EAAKvQ,MAAMoE,KAAK8B,qBAAuB,EAAKlG,MAAMoE,KAAK4B,qBACzD+J,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,qHACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,KAEL,EAAKvQ,MAAMoE,KAAKgC,sBAAwB,EAAKpG,MAAMoE,KAAK8B,uBAC1D6J,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,qHACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAtGQ,EA0GnB5K,cA1GmB,sBA0GH,sBAAAzF,EAAA,yDACT,EAAKyjB,eADI,wDAId,EAAKjU,SAAS,CAAEG,SAAS,IAJX,kBAMN7L,EAAI2B,cAAc,EAAK3F,MAAMoE,MANvB,OAQZ,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,6CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBC,qDAwBZhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA3BlC,wBA4BV2H,QAAMC,gBAAgB,CACpBrO,MAAO,6BACPsO,QAAS,iDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtC7B,2BA2CZR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArD3B,0DA1GG,EAoKnBjK,eApKmB,sBAoKF,sBAAApG,EAAA,yDACV,EAAKyjB,eADK,wDAIf,EAAKjU,SAAS,CAAEG,SAAS,IAJV,kBAMP7L,EAAIsC,eAAe,EAAKtG,MAAMoE,MANvB,OAQb,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,8CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBE,qDAwBbhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA3BjC,wBA4BX2H,QAAMC,gBAAgB,CACpBrO,MAAO,8BACPsO,QAAS,iDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtC5B,2BA2CbR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArD1B,0DApKE,EA8NnBwM,MAAQ,WACF,EAAK/c,MAAM+Z,OACb,EAAKrK,SAAS,CACZ+K,aAAa,IAGf,EAAKza,MAAM+c,SApOI,EAwOnB0B,SAAW,WACT,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA1OM,EA6OnB1N,cAAgB,SAACC,GAEf,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAnPF,EAsPnBoW,aAAe,WACb,EAAK9K,SAAS,CACZ+K,aAAa,KAtPf,EAAK/Z,MAAQ,CACX+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALM,E,0CA4PnB,WAAU,IAAD,OAEP,OACE,gCACE,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACE,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACE,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAErB,eAACtP,EAAA,EAAMG,KAAP,WACGvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACrB,qBAAKjS,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM6P,SACX,qBAAKjQ,UAAU,kBAAf,SACE,eAACif,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,8BACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKwB,WACvBoL,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,UAIzB,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,8DAGA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAK0B,mBAC1BkL,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,qBAAsB4I,MAAOA,MACrF0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,YAK3B,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDAGA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAK4B,oBAC1BgL,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,sBAAuB4I,MAAOA,MACtF0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,YAK3B,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,8DAGA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAK8B,oBAC1B8K,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,sBAAuB4I,MAAOA,MACtF0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,YAK3B,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDAGA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAKgC,qBAC1B4K,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,uBAAwB4I,MAAOA,MACvF0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,YAK3B,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BAGA,cAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,WACH/O,YAAY,0BACZrF,MAAO5O,KAAKZ,MAAMoE,KAAKiC,YACvBO,KAAK,cACLoK,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,kBAOjC,eAAC+M,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAIV,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,iCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,qBAAKvP,UAAU,YAAf,SACGgB,KAAKF,MAAMuP,YAGhB,eAACjB,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGJ,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GA9XbpQ,IAAMK,WAqYZqR,eAAWiS,ICnwBpBS,I,yDACF,WAAY7jB,GAAQ,IAAD,8BACf,cAAMA,IAwFVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA1FJ,EA6FnBkC,QA7FmB,uCA6FT,WAAO/N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAI4H,wBAAwBnG,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHlJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACVG,SAAS,EACTsJ,sBAAuBjV,EAAIE,KAAKqN,OAAOrN,KACvCic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAR9B,mDAYF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDA7FS,4DAoJnB0Q,cApJmB,uCAoJH,WAAO3R,GAAP,SAAApP,EAAA,6DACZ,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CApJG,wDAwJnB+Q,WAxJmB,uCAwJN,WAAO9a,GAAP,SAAAvF,EAAA,sEACH,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SAD3B,2CAxJM,wDA4JnBgQ,iBAAmB,WAGf,IAFA,IAAI1J,EAAO,EAAKtL,MAAMiV,YAClB7B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8C/H,EAAK+H,GAA7CnK,EAAN,EAAMA,UAAWlB,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BqL,EAAQnD,KAAK,CACT/J,KAAM8B,EAAc,MAAQD,EAC5B+G,MAAO5F,IAGf,OAAOkK,GAtKQ,EAyKnBF,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAnLQ,EAsLnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GAhMQ,EAmMnBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KAvMlB,EA0MnB0G,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eA7ME,EAqOnB1C,qBAAuB,WACnB,EAAK6D,SAAS,CACVoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACPlX,QAAS,EAAKtG,MAAMmK,gBAAgB7D,QACpCpH,UAAW,GACXgG,WAAY,GACZW,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCkC,YAAa,GACbmB,UAAW,KACXlB,YAAa,GACbob,oBAAqB,MAnPd,EAwPnBhY,wBAA0B,SAACsL,GACvB,IAAI1D,EAAoB,EAAKhT,MAAMyY,sBAAsB/B,GACzD,EAAK1H,SAAS,CACVoS,YAAY,EACZ5D,UAAU,eACHxK,MA7PI,EAkQnB6O,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KAnQb,EAsQnB3D,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KArQ3B,EAAKpd,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACXE,YAAa,GACbwD,sBAAuB,GACvBxY,SAAU,OACVkK,gBAAiB,GAGjBnF,QAAS,GACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTqO,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACdkC,YAAa,GACbmB,UAAW,KACXlB,YAAa,GACbob,oBAAqB,GAEzBhG,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb6D,YAAY,GA/BD,E,4FAmCnB,sCAAA5hB,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK6DnM,QAAQ+P,IAAI,CAC7DzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAIiE,eAAe,EAAG,OARlC,2CAKa4L,EALb,KAK6B4B,EAL7B,KAKwCE,EALxC,KAUY9K,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FS,QAASyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,SAE3CpG,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCuR,YAAaA,EAAYvR,KAAKqN,OAAOrN,KACrCyG,gBAAiBA,IAlB7B,UAoBcjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,GApBlD,6DAsBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAxBzC,wBAyBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCrD,2BAuCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjDjD,0D,gFAsGA,WACI,IAAI1F,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,aACzCS,QAASpG,KAAKF,MAAMmK,gBAAgB7D,SAExCpG,KAAK8O,SAAS,CACV7E,gBAAiBA,IAErBjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,K,6BAkExC,WAAmB,IAAD,OACVqW,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMyY,sBAAsBhC,KAAI,SAAC/S,EAAMgT,GAC/C,IAAQ3O,EAA2DrE,EAA3DqE,YAAaC,EAA8CtE,EAA9CsE,YAAaM,EAAiC5E,EAAjC4E,YAAaH,EAAoBzE,EAApByE,OAAQF,EAAYvE,EAAZuE,QACvD,OACI,+BACI,6BAAKuY,EAAU9J,IACf,6BAAK3O,IACL,6BAAKC,IACL,6BAAK,EAAK6I,WAAW,IAAIrD,KAAKlF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,IACL,oBAAI/I,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK+J,wBAAwBsL,UAP5EA,Q,oBAiDrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,QACdI,oBAAqBhT,KAAKgT,oBAC1B8B,iBAAkB9U,KAAK8U,iBACvBF,eAAgB5U,KAAK4U,iBAEzB,cAAC,GAAD,CACIvG,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,4EAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKigB,gBAA/E,UACI,cAAC,IAAD,CAAW5gB,KAAMR,KAAKF,MAAMC,WADhC,6BAGA,yBAAQuP,KAAK,SAAStQ,UAAU,8BAA8BmC,QAASnB,KAAKiL,qBAA5E,UACI,cAAC,KAAD,CAAUzK,KAAMR,KAAKF,MAAMC,WAD/B,2CAGA,uBAAOf,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAKhB,qBAAK5P,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOlV,UAAU,OAAjB,4BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK8U,mBACdjB,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBjB,UAClCoH,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAAStQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKyR,WAArF,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,6DACA,gDACA,8CACA,mDACA,wDACA,6BACI,cAAC,IAAD,WAIZ,gCACKgB,KAAKsU,yBAIlB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,yB,GA/YxDzgB,cAwZ1B4iB,G,kDACF,WAAY1iB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKwP,SAAS,CAAEG,SAAS,IADpB,kBAGK7L,EAAI8H,wBAAwB,EAAK9L,MAAMoE,KAAK0f,qBAHjD,OAKD,EAAKpU,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,mEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBV,kDAqBDhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK7P,MAAQ,CACTmP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,wCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,sBAAKvP,UAAU,YAAf,UACK,+DADL,IACyC,kCAAKgB,KAAKZ,MAAMoE,KAAKsE,YAArB,OADzC,IACiF,6BAGrF,eAACsG,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GAhEdpQ,IAAMK,WAuE5Bue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,wCAEa,SAApB,EAAKjC,MAAMiC,KACJ,yCAEJ,8CAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK8J,qBAAtB,qBAEa,SAApB,EAAK7L,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK4gB,uBAAtB,sBAEJ,MA1BQ,EA6BnB9W,qBA7BmB,sBA6BI,sBAAA3L,EAAA,6DACnB,EAAKwP,SAAS,CAAEG,SAAS,IADN,kBAGT7L,EAAI6H,qBAAqB,EAAK7L,MAAMoE,MAH3B,OAKf,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,iEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UAnBI,qDAqBfhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAvB/B,wBAwBX2H,QAAMC,gBAAgB,CAClBrO,MAAO,6BACPsO,QAAS,sHACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlC9B,2BAsCfR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhD1B,0DA7BJ,EAkFnBwM,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SAxFA,EA4FnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA9FI,EAiGnB1N,cAAgB,SAACC,GACb9O,QAAQC,IAAI6O,GACZ,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAvGJ,EA0GnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KA1GjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CAgHnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,sBAAKjQ,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM4T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,eAAgB4I,MAAOsF,MAC7EtF,MAAO5O,KAAKZ,MAAMoE,KAAKmC,oBAInC,sBAAK3G,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAMwV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,UAAW4I,MAAOsF,MACxEtF,MAAO5O,KAAKZ,MAAMoE,KAAK4C,eAInC,sBAAKpH,UAAU,aAAf,UACI,kDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM0V,mBACpBjB,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAOsF,MAC1EtF,MAAO5O,KAAKZ,MAAMoE,KAAKwF,uBAO/C,eAACoF,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GArMrBpQ,IAAMK,WA2MZqR,eAAW0S,IC/qBpBE,G,kDACF,WAAY/jB,GAAQ,IAAD,8BACf,cAAMA,IAmEVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UArEJ,EAwEnBkC,QAxEmB,uCAwET,WAAO3I,GAAP,iBAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,iBAHpF,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACRyR,EAAczR,EAAIE,KAAKqN,OAAOrN,KAClC,EAAK1D,MAAMsjB,aAAathB,OAASiT,EAAYjT,OAC7C,EAAKhC,MAAMsjB,aAAaC,MAAK,GAC7B,EAAKvU,SAAS,CACVG,SAAS,EACT8F,YAAaA,EACbqO,aAAc,EAAKtjB,MAAMsjB,eAX3B,qDAcFxjB,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAhB/B,wBAiBEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3B3C,2BA+BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzCvC,0DAxES,wDAsHnBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAhIQ,EAmInBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KAvIlB,EA0InB2K,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GApJQ,EAuJnBvC,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eA1JE,EAgKnB2V,MAAQ,SAAC9M,GACL,IAAI4M,EAAe,EAAKtjB,MAAMsjB,aAC9BA,EAAa5M,IAAS,EACtB,EAAK1H,SAAS,CACVsU,aAAcA,KApKH,EAwKnBG,QAAU,SAAC/M,GACP,IAAI4M,EAAe,EAAKtjB,MAAMsjB,aAC9BA,EAAa5M,IAAS,EACtB,EAAK1H,SAAS,CACVsU,aAAcA,KA5KH,EAgLnBI,SAAW,WACP,IAAIJ,EAAe,EAAKtjB,MAAMsjB,aAC9BA,EAAaC,MAAK,GAClB,EAAKvU,SAAS,CACVsU,aAAcA,KApLH,EAwLnBK,WAAa,WACT,IAAIL,EAAe,EAAKtjB,MAAMsjB,aAC9BA,EAAaC,MAAK,GAClB,EAAKvU,SAAS,CACVsU,aAAcA,KA5LH,EAyNnBjY,aAzNmB,sBAyNJ,kCAAA7L,EAAA,sDAMP,IALJ,EAAKwP,SAAS,CAAE4U,cAAc,IADnB,SAGH3O,EAAc,EAAKjV,MAAMiV,YACzBqO,EAAe,EAAKtjB,MAAMsjB,aAC1BhY,EAAO,GACF+H,EAAI,EAAGA,EAAI4B,EAAYjT,OAAQqR,IAChCiQ,EAAajQ,IACb/H,EAAK2E,KAAK,CACN/G,UAAW+L,EAAY5B,GAAGnK,UAC1B5C,QAAS,EAAKtG,MAAM6jB,WACpBhe,aAAc,EAAK7F,MAAM8jB,kBAX9B,GAea,IAAhBxY,EAAKtJ,OAfF,uBAgBH,EAAKgN,SAAS,CAAE4U,cAAc,IAhB3B,2CAmBDtgB,EAAI+H,aAAaC,GAnBhB,QAoBP+D,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,iDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAGzC,EAAKb,SAAS,CACV4U,cAAc,IAlCX,qDAsCP9jB,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAE4U,cAAc,KAC1B,KAAI1gB,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAxCvC,wBAyCH2H,QAAMC,gBAAgB,CAClBrO,MAAO,0CACPsO,QAAS,2JACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnDtC,2BAuDPR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjElC,0DAvNX,EAAK7P,MAAQ,CACTmT,eAAgB,GAChB2Q,gBAAiB,EACjB/O,UAAW,GACX8O,WAAY,EACZ5O,YAAa,GACbqO,aAAc,GACdrjB,SAAU,OACVkK,gBAAiB,IAVN,E,4FAcnB,oCAAA3K,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAKgDnM,QAAQ+P,IAAI,CAChDzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,OAPhC,oCAKamN,EALb,KAK6B4B,EAL7B,KASY5K,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FS,QAASyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,SAE3CpG,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCyG,gBAAiBA,EACjB2Z,gBAAiB3Q,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC7Fge,WAAY9O,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,QAC1C6I,SAAS,IAnBrB,qDAsBQrP,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAxBzC,wBAyBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCrD,2BAuCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjDjD,0D,mFAkLA,WAAmB,IAAD,OAEd,OAAO3P,KAAKF,MAAMiV,YAAYwB,KAAI,SAAC/S,EAAMgT,GACrC,IAAQ3O,EAA2DrE,EAA3DqE,YAAaC,EAA8CtE,EAA9CsE,YAAaM,EAAiC5E,EAAjC4E,YAAaH,EAAoBzE,EAApByE,OAAQF,EAAYvE,EAAZuE,QACvD,OACI,+BACI,6BACI,uBACIuH,KAAK,WACLtQ,UAAU,sBACV6kB,QAAS,EAAK/jB,MAAMsjB,aAAa5M,GACjCrV,QAAS,kBAAM,EAAKrB,MAAMsjB,aAAa5M,GAAS,EAAK+M,QAAQ/M,GAAS,EAAK8M,MAAM9M,QAGzF,6BAbE,EAaaA,IACf,6BAAK3O,IACL,6BAAKC,IACL,6BAAK,EAAK6I,WAAW,IAAIrD,KAAKlF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,MAdAyO,Q,oBA2FrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,EAAD,CAASqP,KAAMrO,KAAKF,MAAM4jB,eAC1B,qBAAK1kB,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,gDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,6EACA,qBAAK1P,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOlV,UAAU,OAAjB,gCACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,wBAAQ5E,KAAK,SAAStQ,UAAU,8BAA8BmC,QAAS,WAAQ,EAAKyR,WAApF,uBAMZ,uBACmC,IAAlC5S,KAAKF,MAAMiV,YAAYjT,QACpB,qBAAK9C,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,wBAAOA,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,6BACI,uBACIsQ,KAAK,WACLtQ,UAAU,sBACV6kB,SAAqD,IAA5C7jB,KAAKF,MAAMsjB,aAAaU,SAAQ,GACzC3iB,QAAS,kBAAkD,IAA5C,EAAKrB,MAAMsjB,aAAaU,SAAQ,GAAgB,EAAKL,aAAe,EAAKD,gBAGhG,qCACA,6DACA,gDACA,8CACA,mDACA,6DAGR,gCACKxjB,KAAKsU,2BAMS,IAAlCtU,KAAKF,MAAMiV,YAAYjT,QACpB,qBAAK9C,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,oFACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAM6jB,WAClBvT,SAAU,SAAA8D,GAAC,OAAI,EAAKpF,SAAS,CAAE6U,WAAYzP,SAGnD,uBAAOlV,UAAU,OAAjB,gCACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAM8jB,gBAClBxT,SAAU,SAAA8D,GAAC,OAAI,EAAKpF,SAAS,CAAE8U,gBAAiB1P,SAGxD,wBAAQ5E,KAAK,SAAStQ,UAAU,8BAA8BmC,QAAS,WAAQ,EAAKgK,gBAApF,uD,GArZJjM,aAiabqR,eAAW4S,IC1aLY,G,4JACjB,WACI,OACI,qBAAK/kB,UAAU,oCAAf,SACI,qBAAKA,UAAU,sCAAf,SACI,oBAAIA,UAAU,oBAAd,gE,GALiBH,IAAMK,WCkBrC8kB,G,kDACJ,WAAY5kB,GAAQ,IAAD,8BACjB,cAAMA,IA6BRqR,KAAO,WACL,EAAKrR,MAAM0Q,QAAQY,UA/BF,EAkCnBkC,QAlCmB,uCAkCT,WAAO/N,EAAMC,EAASmf,GAAtB,eAAA3kB,EAAA,yDACR,EAAKwP,SAAS,CAAEG,SAAS,IADjB,UAIFgV,IAAe,EAAKnkB,MAAMmkB,YAJxB,gCAKQ7gB,EAAI2C,kBAAkBlB,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmf,GAAe,EAAKnkB,MAAMmkB,aALlI,OAKJ3gB,EALI,+CAOQF,EAAI0C,aAAajB,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAP1F,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CAAEG,SAAS,EAAO4F,UAAWvR,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAVvF,qDAaN7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJgM,QAAMC,gBAAgB,CACpBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DAlCS,4DA+EnB0Q,cA/EmB,uCA+EH,WAAO3R,GAAP,SAAApP,EAAA,6DACd,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA/EG,wDAmFnB+Q,WAnFmB,uCAmFN,WAAO9a,GAAP,SAAAvF,EAAA,sEACL,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SADzB,2CAnFM,wDAmHnBmB,SAAW,WACT,EAAK6I,SAAS,CACZoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTlX,QAAS,EACTpH,UAAW,GACXkH,UAAW,GACXT,YAAa,OA7HA,EAkInBU,UAlImB,uCAkIP,WAAOqQ,GAAP,eAAAlX,EAAA,sDACN8V,EAAS,EAAKtV,MAAM+U,UAAU2B,GAClC,EAAK1H,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLlI,KARG,2CAlIO,wDA+InB/O,YAAc,SAACmQ,GACb,IAAIpB,EAAS,EAAKtV,MAAM+U,UAAU2B,GAClC,EAAK1H,SAAS,CACZoS,YAAY,EACZ5D,UAAU,eACLlI,MApJU,EAyJnBqN,SAAW,SAACjM,GACV,IAAIpB,EAAS,EAAKtV,MAAM+U,UAAU2B,GAClC,EAAK1H,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLlI,MAjKU,EAsKnBuM,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KAvKX,EA0KnB3D,WAAa,WACX,EAAKzO,SAAS,CAAEoO,WAAW,KAzK3B,EAAKpd,MAAQ,CAEX+U,UAAW,GACX/P,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZxC,UAAW,CACTlX,QAAS,EACTpH,UAAW,GACXkH,UAAW,GACXT,YAAa,IAEfyX,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IArBE,E,4FAyBnB,sBAAA3kB,EAAA,6DACEU,KAAK8O,SAAS,CAAEG,SAAS,IAD3B,SAEQjP,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SAFnC,gD,qFA8DA,WACE,OACE,+BACE,qCACA,gDACA,iDACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKlC,WAAmB,IAAD,OACZshB,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAM+U,UAAU0B,KAAI,SAAC4K,EAAM3K,GACrC,IAAQtQ,EAAyBib,EAAzBjb,UAAWlH,EAAcmiB,EAAdniB,UACnB,OACE,+BACE,6BAAKshB,EAAU9J,IACf,6BAAKtQ,IACL,6BAAI,sBAAMlH,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmGxX,MACvG,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKkF,YAAYmQ,QACrE,oBAAIxX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKgF,UAAUqQ,UALhEA,Q,oBAsEf,WAAU,IAAD,OACP,OAAIxW,KAAKF,MAAMmP,QAEX,qBAAKjQ,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAEhB,cAAC,GAAD,CACEvE,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAEhB,qBAAK5T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE5C,qBAAKzR,UAAU,4BAAf,kEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKyR,WAApE,SACE,sBAAK5T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAASnB,KAAKiG,SAA9D,SACE,sBAAKjH,UAAU,SAAf,UACE,4DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK5P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAeiV,YAAY,mBAAWrF,MAAO5O,KAAKF,MAAMmkB,YAAa7T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEmV,YAAavV,EAAEC,OAAOC,WACvJ,qBAAK5P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBsQ,KAAK,SAASnO,QAAS,kBAAM,EAAKyR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKpR,MAAO,CAAEmf,UAAW,SAAzB,SACE,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO9jB,UAAU,eAAjB,SACGgB,KAAK4e,sBAER,gCAAQ5e,KAAKsU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,oB,GArRpD9gB,IAAMK,WA2RpB4iB,G,kDACJ,WAAY1iB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKwP,SAAS,CAAEG,SAAS,IADlB,kBAGC7L,EAAIiD,YAAY,EAAKjH,MAAMoE,KAAK4C,SAHjC,OAKL,EAAK0I,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBN,qDAqBLhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAvBzC,wBAwBH2H,QAAMC,gBAAgB,CACpBrO,MAAO,2BACPsO,QAAS,2MACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK7P,MAAQ,CACXmP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,wCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,sBAAKvP,UAAU,YAAf,UACG,mEADH,IACsC,kCAAKgB,KAAKZ,MAAMoE,KAAKxE,UAArB,OADtC,IAC4E,UAG9E,eAACoP,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GA/ENpQ,IAAMK,WAsF5Bue,G,kDACJ,WAAYre,GAAQ,IAAD,8BACjB,cAAMA,IAQRse,SAAW,WACT,MAAwB,QAApB,EAAKte,MAAMiC,KACN,4BAEe,SAApB,EAAKjC,MAAMiC,KACN,6BAEF,kCAhBU,EAmBnBsc,UAAY,WACV,MAAwB,QAApB,EAAKve,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK8E,SAAtB,qBAEe,SAApB,EAAK7G,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKgF,UAAtB,sBAEF,MA1BU,EA4BnB4c,aAAe,WAab,IAZsBmB,EActB,OAAI,EAAK9kB,MAAMoE,KAAKxE,UAAU8C,OAAS,IACrCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,kFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEL,EAAKvQ,MAAMoE,KAAK0C,UAAUpE,OAAS,IACrCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,iFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GA9BM,qBAgCHwU,KA3CE,QADQD,EA4CQ,EAAK9kB,MAAMoE,KAAKxE,iBA3ChBgW,IAARkP,EAA0BA,EAQ9CA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIE,eACAlS,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,QAIX,iBA8CHiS,KAAK,EAAK/kB,MAAMoE,KAAK0C,aAC/BiJ,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,+HACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA3BPR,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,6CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAtFQ,EA0GnB1J,SA1GmB,sBA0GR,sBAAA3G,EAAA,yDACJ,EAAKyjB,eADD,wDAIT,EAAKjU,SAAS,CAAEG,SAAS,IAJhB,kBAMD7L,EAAI6C,SAAS,EAAK7G,MAAMoE,MANvB,OAQP,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,6CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBJ,qDAwBPhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA3BvC,wBA4BL2H,QAAMC,gBAAgB,CACpBrO,MAAO,6BACPsO,QAAS,8CACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtClC,2BA2CPR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArDhC,0DA1GQ,EAoKnBxJ,UApKmB,sBAoKP,sBAAA7G,EAAA,yDACL,EAAKyjB,eADA,wDAIV,EAAKjU,SAAS,CAAEG,SAAS,IAJf,kBAMF7L,EAAI+C,UAAU,EAAK/G,MAAMoE,MANvB,OAQR,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,8CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBH,qDAwBRhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA3BtC,wBA4BN2H,QAAMC,gBAAgB,CACpBrO,MAAO,8BACPsO,QAAS,8CACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtCjC,2BA2CRR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArD/B,0DApKO,EA8NnBwM,MAAQ,WACF,EAAK/c,MAAM+Z,OACb,EAAKrK,SAAS,CACZ+K,aAAa,IAGf,EAAKza,MAAM+c,SApOI,EAwOnB0B,SAAW,WACT,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA1OM,EA6OnB1N,cAAgB,SAACC,GAEf,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAnPF,EAsPnBoW,aAAe,WACb,EAAK9K,SAAS,CACZ+K,aAAa,KAtPf,EAAK/Z,MAAQ,CACX+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALM,E,0CA4PnB,WAEE,OACE,gCACE,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACE,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACE,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAErB,eAACtP,EAAA,EAAMG,KAAP,WACGvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACrB,qBAAKjS,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM6P,SACX,qBAAKjQ,UAAU,kBAAf,SACE,eAACif,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,uCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,qCACZjO,KAAK,YACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKxE,UACvBoR,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,UAGzB,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,sCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,oCACZjO,KAAK,YACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK0C,UACvBkK,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,UAGzB,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,WACH/O,YAAY,0BACZrF,MAAO5O,KAAKZ,MAAMoE,KAAKiC,YACvBO,KAAK,cACLoK,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,kBAOjC,eAAC+M,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAIV,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,iCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,qBAAKvP,UAAU,YAAf,SACGgB,KAAKF,MAAMuP,YAGhB,eAACjB,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGJ,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GA1UbpQ,IAAMK,WAgVZqR,eAAWyT,ICjsBpBK,G,kDACJ,WAAYjlB,GAAQ,IAAD,8BACjB,cAAMA,IA6BRqR,KAAO,WACL,EAAKrR,MAAM0Q,QAAQY,UA/BF,EAkCnBkC,QAlCmB,uCAkCT,WAAO/N,EAAMC,EAASmf,GAAtB,eAAA3kB,EAAA,yDACR,EAAKwP,SAAS,CAAEG,SAAS,IADjB,UAIFgV,IAAe,EAAKnkB,MAAMmkB,YAJxB,gCAKQ7gB,EAAImD,oBAAoB1B,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmf,GAAe,EAAKnkB,MAAMmkB,aALpI,OAKJ3gB,EALI,+CAOQF,EAAIkD,eAAezB,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAP5F,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CAAEG,SAAS,EAAOuS,YAAale,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAVzF,qDAaN7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJgM,QAAMC,gBAAgB,CACpBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DAlCS,4DA+EnB0Q,cA/EmB,uCA+EH,WAAO3R,GAAP,SAAApP,EAAA,6DACd,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA/EG,wDAmFnB+Q,WAnFmB,uCAmFN,WAAO9a,GAAP,SAAAvF,EAAA,sEACL,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SADzB,2CAnFM,wDAmHnB0B,WAAa,WACX,EAAKsI,SAAS,CACZoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACT1W,UAAW,EACXH,YAAa,GACbC,YAAa,GACbjB,YAAa,OA7HA,EAkInBkB,YAlImB,uCAkIL,WAAO6P,GAAP,eAAAlX,EAAA,sDACRglB,EAAU,EAAKxkB,MAAM0hB,YAAYhL,GACrC,EAAK1H,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLgH,KARK,2CAlIK,wDA+InBzd,cAAgB,SAAC2P,GACf,IAAI8N,EAAU,EAAKxkB,MAAM0hB,YAAYhL,GACrC,EAAK1H,SAAS,CACZoS,YAAY,EACZ5D,UAAU,eACLgH,MApJU,EAyJnB7B,SAAW,SAACjM,GACV,IAAI8N,EAAU,EAAKxkB,MAAM0hB,YAAYhL,GACrC,EAAK1H,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLgH,MAjKU,EAsKnB3C,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KAvKX,EA0KnB3D,WAAa,WACX,EAAKzO,SAAS,CAAEoO,WAAW,KAzK3B,EAAKpd,MAAQ,CAEX0hB,YAAa,GACb1c,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZxC,UAAW,CACT1W,UAAW,EACXH,YAAa,GACbC,YAAa,GACbjB,YAAa,IAEfyX,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IArBE,E,4FAyBnB,sBAAA3kB,EAAA,6DACEU,KAAK8O,SAAS,CAAEG,SAAS,IAD3B,SAEQjP,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SAFnC,gD,qFA8DA,WACE,OACE,+BACE,qCACA,uDACA,wDACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKlC,WAAmB,IAAD,OACZshB,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAM0hB,YAAYjL,KAAI,SAAC/S,EAAMgT,GACvC,IAAQ9P,EAA6BlD,EAA7BkD,YAAaD,EAAgBjD,EAAhBiD,YACrB,OACE,+BACE,6BAAK6Z,EAAU9J,IACf,6BAAK9P,IACL,6BAAI,sBAAM1H,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmG/P,MACvG,oBAAIzH,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK0F,cAAc2P,QACvE,oBAAIxX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKwF,YAAY6P,UALlEA,Q,oBAsEf,WAAU,IAAD,OACP,OAAIxW,KAAKF,MAAMmP,QAEX,qBAAKjQ,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAEhB,cAAC,GAAD,CACEvE,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAEhB,qBAAK5T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE5C,qBAAKzR,UAAU,4BAAf,gEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKyR,WAApE,SACE,sBAAK5T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAASnB,KAAKwG,WAA9D,SACE,sBAAKxH,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK5P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAeiV,YAAY,mBAAWrF,MAAO5O,KAAKF,MAAMmkB,YAAa7T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEmV,YAAavV,EAAEC,OAAOC,WACvJ,qBAAK5P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBsQ,KAAK,SAASnO,QAAS,kBAAM,EAAKyR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKpR,MAAO,CAAEmf,UAAW,SAAzB,SACE,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO9jB,UAAU,eAAjB,SACGgB,KAAK4e,sBAER,gCAAQ5e,KAAKsU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,oB,GArRlD9gB,IAAMK,WA2RtB4iB,G,kDACJ,WAAY1iB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKwP,SAAS,CAAEG,SAAS,IADlB,kBAGC7L,EAAIyD,cAAc,EAAKzH,MAAMoE,KAAKoD,WAHnC,OAKL,EAAKkI,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,0CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBN,qDAqBLhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAvBzC,wBAwBH2H,QAAMC,gBAAgB,CACpBrO,MAAO,2BACPsO,QAAS,uMACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK7P,MAAQ,CACXmP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,wCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,sBAAKvP,UAAU,YAAf,UACG,iEADH,IACsC,kCAAKgB,KAAKZ,MAAMoE,KAAKiD,YAArB,OADtC,IAC8E,UAGhF,eAAC2H,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GA/ENpQ,IAAMK,WAsF5Bue,G,kDACJ,WAAYre,GAAQ,IAAD,8BACjB,cAAMA,IAQRse,SAAW,WACT,MAAwB,QAApB,EAAKte,MAAMiC,KACN,0BAEe,SAApB,EAAKjC,MAAMiC,KACN,2BAEF,gCAhBU,EAmBnBsc,UAAY,WACV,MAAwB,QAApB,EAAKve,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKqF,WAAtB,qBAEe,SAApB,EAAKpH,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKwF,YAAtB,sBAEF,MA1BU,EA4BnBoc,aAAe,WAab,IAZsBmB,EActB,OAAI,EAAK9kB,MAAMoE,KAAKiD,YAAY3E,OAAS,IACvCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,kFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAfM,qBAiBHwU,KA5BE,QADQD,EA6BQ,EAAK9kB,MAAMoE,KAAKiD,mBA5BhBuO,IAARkP,EAA0BA,EAQ9CA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIE,eACAlS,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,MAIX,iBAgCHiS,KAAK,EAAK/kB,MAAMoE,KAAKkD,eAgB7B,EAAKtH,MAAMoE,KAAKkD,YAAY5E,OAAS,MACvCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,+EACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA5BPR,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,6HACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA5BPR,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAvEQ,EA6GnBnJ,WA7GmB,sBA6GN,sBAAAlH,EAAA,yDACN,EAAKyjB,eADC,wDAIX,EAAKjU,SAAS,CAAEG,SAAS,IAJd,kBAMH7L,EAAIoD,WAAW,EAAKpH,MAAMoE,MANvB,OAQT,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,2CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBF,qDAwBThT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA3BrC,wBA4BP2H,QAAMC,gBAAgB,CACpBrO,MAAO,6BACPsO,QAAS,qDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtChC,2BA2CTR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArD9B,0DA7GM,EAuKnBhJ,YAvKmB,sBAuKL,sBAAArH,EAAA,yDACP,EAAKyjB,eADE,wDAIZ,EAAKjU,SAAS,CAAEG,SAAS,IAJb,kBAMJ7L,EAAIuD,YAAY,EAAKvH,MAAMoE,MANvB,OAQV,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBD,qDAwBVhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA3BpC,wBA4BR2H,QAAMC,gBAAgB,CACpBrO,MAAO,8BACPsO,QAAS,qDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtC/B,2BA2CVR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArD7B,0DAvKK,EAiOnBwM,MAAQ,WACF,EAAK/c,MAAM+Z,OACb,EAAKrK,SAAS,CACZ+K,aAAa,IAGf,EAAKza,MAAM+c,SAvOI,EA2OnB0B,SAAW,WACT,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA7OM,EAgPnB1N,cAAgB,SAACC,GAEf,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAtPF,EAyPnBoW,aAAe,WACb,EAAK9K,SAAS,CACZ+K,aAAa,KAzPf,EAAK/Z,MAAQ,CACX+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALM,E,0CA+PnB,WAEE,OACE,gCACE,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACE,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACE,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAErB,eAACtP,EAAA,EAAMG,KAAP,WACGvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACrB,qBAAKjS,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM6P,SACX,qBAAKjQ,UAAU,kBAAf,SACE,eAACif,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,mCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKiD,YACvB2J,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,UAGzB,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,oCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,kCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKkD,YACvB0J,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,UAGzB,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,WACH/O,YAAY,0BACZrF,MAAO5O,KAAKZ,MAAMoE,KAAKiC,YACvBO,KAAK,cACLoK,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,kBAOjC,eAAC+M,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAIV,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,iCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,qBAAKvP,UAAU,YAAf,SACGgB,KAAKF,MAAMuP,YAGhB,eAACjB,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGJ,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GA7UbpQ,IAAMK,WAmVZqR,eAAW8T,ICpsBpBE,G,kDACJ,WAAYnlB,GAAQ,IAAD,8BACjB,cAAMA,IA4BRqR,KAAO,WACL,EAAKrR,MAAM0Q,QAAQY,UA9BF,EAiCnBkC,QAjCmB,uCAiCT,WAAO/N,EAAMC,EAASmf,GAAtB,eAAA3kB,EAAA,yDACR,EAAKwP,SAAS,CAAEG,SAAS,IADjB,UAIFgV,IAAe,EAAKnkB,MAAMmkB,YAJxB,gCAKQ7gB,EAAI2D,2BAA2BlC,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmf,GAAe,EAAKnkB,MAAMmkB,aAL3I,OAKJ3gB,EALI,+CAOQF,EAAI0D,sBAAsBjC,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAPnG,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CAAEG,SAAS,EAAOmT,mBAAoB9e,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAVhG,qDAaN7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJgM,QAAMC,gBAAgB,CACpBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DAjCS,4DA8EnB0Q,cA9EmB,uCA8EH,WAAO3R,GAAP,SAAApP,EAAA,6DACd,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA9EG,wDAkFnB+Q,WAlFmB,uCAkFN,WAAO9a,GAAP,SAAAvF,EAAA,sEACL,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SADzB,2CAlFM,wDAgHnBkC,kBAAoB,WAClB,EAAK8H,SAAS,CACZoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTnW,iBAAkB,EAClBF,eAAgB,GAChBxB,YAAa,OAzHA,EA8HnByB,mBA9HmB,uCA8HE,WAAOsP,GAAP,eAAAlX,EAAA,sDACfklB,EAAiB,EAAK1kB,MAAMsiB,mBAAmB5L,GACnD,EAAK1H,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLkH,KARY,2CA9HF,wDA2InBpd,qBAAuB,SAACoP,GACtB,IAAIgO,EAAiB,EAAK1kB,MAAMsiB,mBAAmB5L,GACnD,EAAK1H,SAAS,CACZoS,YAAY,EACZ5D,UAAU,eACLkH,MAhJU,EAqJnB/B,SAAW,SAACjM,GACV,IAAIgO,EAAiB,EAAK1kB,MAAMsiB,mBAAmB5L,GACnD,EAAK1H,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLkH,MA7JU,EAkKnB7C,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KAnKX,EAsKnB3D,WAAa,WACX,EAAKzO,SAAS,CAAEoO,WAAW,KArK3B,EAAKpd,MAAQ,CAEXsiB,mBAAoB,GACpBtd,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZxC,UAAW,CACTnW,iBAAkB,EAClBF,eAAgB,GAChBxB,YAAa,IAEfyX,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IApBE,E,4FAwBnB,sBAAA3kB,EAAA,6DACEU,KAAK8O,SAAS,CAAEG,SAAS,IAD3B,SAEQjP,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SAFnC,gD,qFA8DA,WACE,OACE,+BACE,qCACA,iEACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKlC,WAAmB,IAAD,OACZshB,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMsiB,mBAAmB7L,KAAI,SAACiO,EAAgBhO,GACxD,IAAQvP,EAAmBud,EAAnBvd,eACR,OACE,+BACE,6BAAKqZ,EAAU9J,IACf,6BAAI,sBAAMxX,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmGvP,MACvG,oBAAIjI,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKiG,qBAAqBoP,QAC9E,oBAAIxX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAK+F,mBAAmBsP,UAJzEA,Q,oBAoEf,WAAU,IAAD,OACP,OAAIxW,KAAKF,MAAMmP,QAEX,qBAAKjQ,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAEhB,cAAC,GAAD,CACEvE,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAEhB,qBAAK5T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE5C,qBAAKzR,UAAU,4BAAf,yEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKyR,WAApE,SACE,sBAAK5T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAASnB,KAAKgH,kBAA9D,SACE,sBAAKhI,UAAU,SAAf,UACE,mEAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK5P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAeiV,YAAY,mBAAWrF,MAAO5O,KAAKF,MAAMmkB,YAAa7T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEmV,YAAavV,EAAEC,OAAOC,WACvJ,qBAAK5P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBsQ,KAAK,SAASnO,QAAS,kBAAM,EAAKyR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKpR,MAAO,CAAEmf,UAAW,SAAzB,SACE,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO9jB,UAAU,eAAjB,SACGgB,KAAK4e,sBAER,gCAAQ5e,KAAKsU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,oB,GAjR3C9gB,IAAMK,WAuR7B4iB,G,kDACJ,WAAY1iB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKwP,SAAS,CAAEG,SAAS,IADlB,kBAGC7L,EAAIgE,qBAAqB,EAAKhI,MAAMoE,KAAK2D,kBAH1C,OAKL,EAAK2H,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,mDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBN,qDAqBLhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAvBzC,wBAwBH2H,QAAMC,gBAAgB,CACpBrO,MAAO,2BACPsO,QAAS,uNACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK7P,MAAQ,CACXmP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,wCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,sBAAKvP,UAAU,YAAf,UACG,0EADH,IAC4C,kCAAKgB,KAAKZ,MAAMoE,KAAKyD,eAArB,OAD5C,IACuF,UAGzF,eAACmH,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GA/ENpQ,IAAMK,WAsF5Bue,G,kDACJ,WAAYre,GAAQ,IAAD,8BACjB,cAAMA,IAQRse,SAAW,WACT,MAAwB,QAApB,EAAKte,MAAMiC,KACN,mCAEe,SAApB,EAAKjC,MAAMiC,KACN,oCAEF,yCAhBU,EAmBnBsc,UAAY,WACV,MAAwB,QAApB,EAAKve,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK6F,kBAAtB,qBAEe,SAApB,EAAK5H,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK+F,mBAAtB,sBAEF,MA1BU,EA4BnB6b,aAAe,WACb,OAAI,EAAK3jB,MAAMoE,KAAKyD,eAAenF,OAAS,IAC1CqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,kGACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEqC,IAA1C,EAAKvQ,MAAMoE,KAAKyD,eAAenF,SACjCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,mFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAzDQ,EA6DnB3I,kBA7DmB,sBA6DC,sBAAA1H,EAAA,yDACb,EAAKyjB,eADQ,wDAIlB,EAAKjU,SAAS,CAAEG,SAAS,IAJP,kBAMV7L,EAAI4D,kBAAkB,EAAK5H,MAAMoE,MANvB,OAQhB,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBK,qDAwBhBhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA3B9B,wBA4Bd2H,QAAMC,gBAAgB,CACpBrO,MAAO,6BACPsO,QAAS,wDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtCzB,2BA2ChBR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArDvB,0DA7DD,EAuHnBzI,mBAvHmB,sBAuHE,sBAAA5H,EAAA,yDACd,EAAKyjB,eADS,wDAInB,EAAKjU,SAAS,CAAEG,SAAS,IAJN,kBAMX7L,EAAI8D,mBAAmB,EAAK9H,MAAMoE,MANvB,OAQjB,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,qDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBM,qDAwBjBhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KAErB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA3B7B,wBA4Bf2H,QAAMC,gBAAgB,CACpBrO,MAAO,8BACPsO,QAAS,wDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtCxB,2BA2CjBR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArDtB,0DAvHF,EAiLnBwM,MAAQ,WACF,EAAK/c,MAAM+Z,OACb,EAAKrK,SAAS,CACZ+K,aAAa,IAGf,EAAKza,MAAM+c,SAvLI,EA2LnB0B,SAAW,WACT,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA7LM,EAgMnB1N,cAAgB,SAACC,GAEf,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAtMF,EAyMnBoW,aAAe,WACb,EAAK9K,SAAS,CACZ+K,aAAa,KAzMf,EAAK/Z,MAAQ,CACX+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALM,E,0CA+MnB,WAEE,OACE,gCACE,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACE,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACE,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAErB,eAACtP,EAAA,EAAMG,KAAP,WACGvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACrB,qBAAKjS,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM6P,SACX,qBAAKjQ,UAAU,kBAAf,SACE,eAACif,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,8CACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,4CACZjO,KAAK,iBACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKyD,eACvBmJ,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,UAGzB,eAAC4c,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,WACH/O,YAAY,0BACZrF,MAAO5O,KAAKZ,MAAMoE,KAAKiC,YACvBO,KAAK,cACLoK,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,kBAOjC,eAAC+M,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAIV,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,iCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,qBAAKvP,UAAU,YAAf,SACGgB,KAAKF,MAAMuP,YAGhB,eAACjB,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGJ,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GAlRbpQ,IAAMK,WAwRZqR,eAAWgU,I,qBCjoBpBE,G,kDACJ,WAAYrlB,GAAQ,IAAD,8BACjB,cAAMA,IA4CRqR,KAAO,WACL,EAAKrR,MAAM0Q,QAAQY,UA9CF,EAiDnBkC,QAjDmB,uCAiDT,WAAO/N,EAAMC,EAASmf,GAAtB,eAAA3kB,EAAA,yDACR,EAAKwP,SAAS,CAAEG,SAAS,IADjB,UAIFgV,IAAe,EAAKnkB,MAAMmkB,YAJxB,gCAKQ7gB,EAAIqE,oBAAoB5C,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmf,GAAe,EAAKnkB,MAAMmkB,aALpI,OAKJ3gB,EALI,+CAOQF,EAAIiE,eAAexC,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAP5F,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CAAEG,SAAS,EAAO8F,YAAazR,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAVzF,qDAaN7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJgM,QAAMC,gBAAgB,CACpBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DAjDS,4DA8FnB0Q,cA9FmB,uCA8FH,WAAO3R,GAAP,SAAApP,EAAA,6DACd,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA9FG,wDAkGnB+Q,WAlGmB,uCAkGN,WAAO9a,GAAP,SAAAvF,EAAA,sEACL,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SADzB,2CAlGM,wDAqHnB6L,WAAa,SAACtD,GACZ,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAxHI,EAiJnB/F,WAAa,WACX,EAAKkH,SAAS,CACZoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTtU,UAAW,EACXnB,YAAa,GACbC,YAAa,GACbC,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,oCACPC,YAAa,IAAIkF,KACjBjF,MAAO,GACPC,YAAa,GACbC,YAAa,KACbC,YAAa,KACbtH,YAAa,GACbuH,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,OA3KC,EAgLnBC,YAhLmB,uCAgLL,WAAOyN,GAAP,eAAAlX,EAAA,uDACR+T,EAAU,EAAKvT,MAAMiV,YAAYyB,IAC7BpO,YAAciL,EAAQjL,aAAe,IAAIkF,KAAK+F,EAAQjL,aAC9DiL,EAAQ7K,YAAc6K,EAAQ7K,aAAe,IAAI8E,KAAK+F,EAAQ7K,aAC9D6K,EAAQ9K,YAAc8K,EAAQ9K,aAAe,IAAI+E,KAAK+F,EAAQ9K,aAC9D,EAAKuG,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLjK,KAXK,2CAhLK,wDAgMnBpK,cAAgB,SAACuN,GACf,IAAInD,EAAU,EAAKvT,MAAMiV,YAAYyB,GACrCnD,EAAQjL,YAAciL,EAAQjL,aAAe,IAAIkF,KAAK+F,EAAQjL,aAC9DiL,EAAQ7K,YAAc6K,EAAQ7K,aAAe,IAAI8E,KAAK+F,EAAQ7K,aAC9D6K,EAAQ9K,YAAc8K,EAAQ9K,aAAe,IAAI+E,KAAK+F,EAAQ9K,aAC9D,EAAKuG,SAAS,CACZoS,YAAY,EACZ5D,UAAU,eACLjK,MAxMU,EA6MnBoP,SAAW,SAACjM,GACV,IAAInD,EAAU,EAAKvT,MAAMiV,YAAYyB,GACrCnD,EAAQjL,YAAciL,EAAQjL,aAAe,IAAIkF,KAAK+F,EAAQjL,aAC9DiL,EAAQ7K,YAAc6K,EAAQ7K,aAAe,IAAI8E,KAAK+F,EAAQ7K,aAC9D6K,EAAQ9K,YAAc8K,EAAQ9K,aAAe,IAAI+E,KAAK+F,EAAQ9K,aAC9D,EAAKuG,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLjK,MAxNU,EA6NnBsO,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KA9NX,EAiOnB3D,WAAa,WACX,EAAKzO,SAAS,CAAEoO,WAAW,KAhO3B,EAAKpd,MAAQ,CAEXiV,YAAa,GACbjQ,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZxC,UAAW,CACTtU,UAAW,EACXnB,YAAa,GACbC,YAAa,GACbC,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,mCACPC,YAAa,IAAIkF,KACjBjF,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI+E,KACjB9E,YAAa,IAAI8E,KACjBpM,YAAa,GACbuH,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,IAEdoU,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IArCE,E,4FAyCnB,sBAAA3kB,EAAA,sEACQU,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SADnC,gD,qFA6DA,WACE,OACE,+BACE,qCACA,6DACA,gDACA,8CACA,mDACA,+CACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAclC,WAAmB,IAAD,OACZshB,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMiV,YAAYwB,KAAI,SAAC4K,EAAM3K,GACvC,IAAQ3O,EAA2DsZ,EAA3DtZ,YAAaC,EAA8CqZ,EAA9CrZ,YAAaM,EAAiC+Y,EAAjC/Y,YAAaH,EAAoBkZ,EAApBlZ,OAAQF,EAAYoZ,EAAZpZ,QACvD,OACE,+BACE,6BAAKuY,EAAU9J,IACf,6BAAK3O,IACL,6BAAI,sBAAM7I,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmG1O,MACvG,6BAAK,EAAK6I,WAAW,IAAIrD,KAAKlF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,IACL,oBAAI/I,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK8H,cAAcuN,QACvE,oBAAIxX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAK4H,YAAYyN,UARlEA,Q,oBAkGf,WAAU,IAAD,OACP,OAAIxW,KAAKF,MAAMmP,QAEX,qBAAKjQ,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAEhB,cAAC,GAAD,CACEvE,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAEhB,qBAAK5T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE5C,qBAAKzR,UAAU,4BAAf,8DAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKyR,WAApE,SACE,sBAAK5T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAASnB,KAAK4H,WAA9D,SACE,sBAAK5I,UAAU,SAAf,UACE,wDAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK5P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAeiV,YAAY,mBAAWrF,MAAO5O,KAAKF,MAAMmkB,YAAa7T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEmV,YAAavV,EAAEC,OAAOC,WACvJ,qBAAK5P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBsQ,KAAK,SAASnO,QAAS,kBAAM,EAAKyR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKpR,MAAO,CAAEmf,UAAW,SAAzB,SACE,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO9jB,UAAU,eAAjB,SACGgB,KAAK4e,sBAER,gCAAQ5e,KAAKsU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,oB,GA5UlD9gB,IAAMK,WAkVtB4iB,G,kDACJ,WAAY1iB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKwP,SAAS,CAAEG,SAAS,IADlB,kBAGC7L,EAAI6F,cAAc,EAAK7J,MAAMoE,KAAKwF,WAHnC,OAKL,EAAK8F,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,wCACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBN,qDAqBLhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAvBzC,wBAwBH2H,QAAMC,gBAAgB,CACpBrO,MAAO,2BACPsO,QAAS,mMACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK7P,MAAQ,CACXmP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,wCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,sBAAKvP,UAAU,YAAf,UACG,+DADH,IACuC,kCAAKgB,KAAKZ,MAAMoE,KAAKsE,YAArB,OADvC,IAC+E,UAGjF,eAACsG,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GA/ENpQ,IAAMK,WAsF5Bue,G,kDACJ,WAAYre,GAAQ,IAAD,8BACjB,cAAMA,IAQRse,SAAW,WACT,MAAwB,QAApB,EAAKte,MAAMiC,KACN,wBAEe,SAApB,EAAKjC,MAAMiC,KACN,yBAEF,8BAhBU,EAmBnBsc,UAAY,WACV,MAAwB,QAApB,EAAKve,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKyG,WAAtB,qBAEe,SAApB,EAAKxI,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK4H,YAAtB,sBAEF,MA1BU,EA4BnBga,aAAe,WACb,SAAS2B,EAAaR,GACpB,OAAY,OAARA,QAAwBlP,IAARkP,EAA0BA,EAQ9CA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIE,eACAlS,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,KAG1B,IAAMyS,EAAS,kBAGTC,EAAkB,cAClBC,EAAU,2IAChB,OAAI,EAAKzlB,MAAMoE,KAAKsE,YAAYhG,OAAS,IACvCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,uFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEJgV,EAAOR,KAAKO,EAAa,EAAKtlB,MAAMoE,KAAKsE,eAnBhC,cAkCHqc,KAAK,EAAK/kB,MAAMoE,KAAK0E,MAAQ,EAAK9I,MAAMoE,KAAK0E,IAAIpG,OAAS,GACnEqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,iEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEL,EAAKvQ,MAAMoE,KAAKqE,YAAY/F,OAAS,IACvCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,sFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GA7DM,iBA+DHwU,KAAK,EAAK/kB,MAAMoE,KAAKqE,cAe5B+c,EAAgBT,KAAK,EAAK/kB,MAAMoE,KAAK8E,cAAgB,EAAKlJ,MAAMoE,KAAK8E,YAAYxG,OAAS,GAC7FqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,iJACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEJkV,EAAQV,KAAK,EAAK/kB,MAAMoE,KAAK6E,OAe9B,EAAKjJ,MAAMoE,KAAKiF,WAAW3G,OAAS,IACtCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,yFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJgV,EAAOR,KAAKO,EAAa,EAAKtlB,MAAMoE,KAAKiF,cAAgB,EAAKrJ,MAAMoE,KAAKiF,WAAW3G,OAAS,GAChGqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJiV,EAAgBT,KAAK,EAAK/kB,MAAMoE,KAAKkF,cAAgB,EAAKtJ,MAAMoE,KAAKkF,YAAY5G,OAAS,GAC7FqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,2IACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJkV,EAAQV,KAAK,EAAK/kB,MAAMoE,KAAKmF,aAAe,EAAKvJ,MAAMoE,KAAKmF,WAAW7G,OAAS,GACnFqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,2CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEL,EAAKvQ,MAAMoE,KAAKoF,WAAW9G,OAAS,IACtCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,yFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJgV,EAAOR,KAAKO,EAAa,EAAKtlB,MAAMoE,KAAKoF,cAAgB,EAAKxJ,MAAMoE,KAAKoF,WAAW9G,OAAS,GAChGqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJiV,EAAgBT,KAAK,EAAK/kB,MAAMoE,KAAKqF,cAAgB,EAAKzJ,MAAMoE,KAAKqF,YAAY/G,OAAS,GAC7FqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,2IACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,MAEJkV,EAAQV,KAAK,EAAK/kB,MAAMoE,KAAKsF,aAAe,EAAK1J,MAAMoE,KAAKsF,WAAWhH,OAAS,KACnFqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,2CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IApIPR,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,8FACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA1CPR,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,oIACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAzDPR,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,0DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA1EQ,EAkRnB/H,WAlRmB,sBAkRN,4BAAAtI,EAAA,yDACN,EAAKyjB,eADC,oDAIX,EAAKjU,SAAS,CAAEG,SAAS,IAJd,WAML,EAAK7P,MAAMoE,KAAK2E,MAAM,aAAc2c,MAN/B,gCAOS1hB,EAAI4K,YAAY,EAAK5O,MAAMoE,KAAK2E,MAAM,IAP/C,OAOH7E,EAPG,OAQP,EAAKlE,MAAMoE,KAAK2E,MAAQ7E,EAAIE,KAAKqN,OAR1B,wBAUHzN,EAAIwE,WAAW,EAAKxI,MAAMoE,MAVvB,QAYT,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,yCACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UA1BF,qDA4BThT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA9BrC,wBA+BP2H,QAAMC,gBAAgB,CACpBrO,MAAO,6BACPsO,QAAS,6EACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzChC,2BA6CTR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvD9B,0DAlRM,EA8UnB5G,YA9UmB,sBA8UL,4BAAAzJ,EAAA,yDACP,EAAKyjB,eADE,oDAIZ,EAAKjU,SAAS,CAAEG,SAAS,IAJb,WAMN,EAAK7P,MAAMoE,KAAK2E,MAAM,aAAc2c,MAN9B,gCAOQ1hB,EAAI4K,YAAY,EAAK5O,MAAMoE,KAAK2E,MAAM,IAP9C,OAOJ7E,EAPI,OAQR,EAAKlE,MAAMoE,KAAK2E,MAAQ7E,EAAIE,KAAKqN,OARzB,wBAUJzN,EAAI2F,YAAY,EAAK3J,MAAMoE,MAVvB,QAYV,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,0CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UA1BD,qDA4BVhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA9BpC,wBA+BR2H,QAAMC,gBAAgB,CACpBrO,MAAO,8BACPsO,QAAS,2GACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC/B,2BA6CVR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvD7B,0DA9UK,EA0YnBwM,MAAQ,WACF,EAAK/c,MAAM+Z,OACb,EAAKrK,SAAS,CACZ+K,aAAa,IAGf,EAAKza,MAAM+c,SAhZI,EAoZnB0B,SAAW,WACT,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SAtZM,EAyZnB1N,cAAgB,SAACC,GAEf,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IA/ZF,EAkanBoW,aAAe,WACb,EAAK9K,SAAS,CACZ+K,aAAa,KAlaf,EAAK/Z,MAAQ,CACX+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALM,E,0CAwanB,WAAU,IAAD,OAEP,OACE,gCACE,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACE,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACE,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAErB,eAACtP,EAAA,EAAMG,KAAP,WACGvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACrB,qBAAKjS,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM6P,SACX,qBAAKjQ,UAAU,kBAAf,SACE,eAACif,GAAA,EAAD,WACE,sBAAKjf,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,yCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKsE,YACvBsI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,kCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,gCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKqE,YACvBuI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAK4E,YAC1BgI,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAK7B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,8CACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK8E,YACvB8H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,SACHhd,KAAK,SACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKyE,OACvBmI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,KALvB,UAOE,wBAAQuN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIN,qBAAK5P,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,QACLtJ,KAAK,QACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK6E,MACvB+H,SAAUpQ,KAAKyO,cACfwF,YAAY,kBACZoK,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,cAACif,GAAA,EAAKC,MAAN,UACE,cAACD,GAAA,EAAKE,MAAN,yBAEmB,SAApBne,KAAKZ,MAAMiC,KACV,qBAAKyP,IAAKnP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO4I,IAAI,SAASvP,MAAO,CAAEwP,MAAO,OAAQC,OAAQ,UACzG,cAAC,KAAD,CACE8T,UAAU,EACVC,WAAW,gBACX5U,SAAU,SAAC6U,GAAD,OAAS,EAAKxW,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,QAAS4I,MAAOqW,MACxEC,aAAc,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QAC/CC,YAAa,QACbC,aAAa,EACbC,aAAa,OAInB,qBAAKrmB,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,mCACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKiF,WACvB2H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,yBACZjO,KAAK,MACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK0E,IACvBkI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKkF,YACvB0H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,qBACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKwE,mBACvBoI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,0BACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKmF,WACvByH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,0CACZjO,KAAK,UACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKuE,QACvBqI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,mCACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKoF,WACvBwH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAKgF,YAC1B4H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAK7B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKqF,YACvBuH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAK+E,YAC1B6H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAK7B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,0BACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKsF,WACvBsH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,uBASrC,eAAC+M,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAIV,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,iCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,qBAAKvP,UAAU,YAAf,SACGgB,KAAKF,MAAMuP,YAGhB,eAACjB,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGJ,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GA1tBbpQ,IAAMK,WAguBZqR,eAAWkU,ICzoCpBa,G,kDACJ,WAAYlmB,GAAQ,IAAD,8BACjB,cAAMA,IAwCRqR,KAAO,WACL,EAAKrR,MAAM0Q,QAAQY,UA1CF,EA6CnBkC,QA7CmB,uCA6CT,WAAO/N,EAAMC,EAASmf,GAAtB,eAAA3kB,EAAA,yDACR,EAAKwP,SAAS,CAAEG,SAAS,IADjB,UAIFgV,IAAe,EAAKnkB,MAAMmkB,YAJxB,gCAKQ7gB,EAAIiG,oBAAoBxE,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmf,GAAe,EAAKnkB,MAAMmkB,aALpI,OAKJ3gB,EALI,+CAOQF,EAAI8F,eAAerE,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAP5F,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CAAEG,SAAS,EAAO+R,YAAa1d,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAVzF,qDAaN7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJgM,QAAMC,gBAAgB,CACpBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DA7CS,4DA0FnB0Q,cA1FmB,uCA0FH,WAAO3R,GAAP,SAAApP,EAAA,6DACd,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA1FG,wDA8FnB+Q,WA9FmB,uCA8FN,WAAO9a,GAAP,SAAAvF,EAAA,sEACL,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SADzB,2CA9FM,wDAiHnB6L,WAAa,SAACtD,GACZ,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eApHI,EA6InBpE,WAAa,WACX,EAAKuF,SAAS,CACZoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTzT,UAAW,EACXL,YAAa,GACbC,YAAa,GACbC,mBAAoB,GACpB3B,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,mCACPC,YAAa,IAAIkF,KACjBjF,MAAO,GACPC,YAAa,GACbC,YAAa,KACbC,YAAa,KACbmB,MAAO,OAlKM,EAuKnBC,YAvKmB,uCAuKL,WAAO4M,GAAP,eAAAlX,EAAA,uDACR2V,EAAU,EAAKnV,MAAMkhB,YAAYxK,IAC7BpO,YAAc6M,EAAQ7M,aAAe,IAAIkF,KAAK2H,EAAQ7M,aAC9D6M,EAAQzM,YAAcyM,EAAQzM,aAAe,IAAI8E,KAAK2H,EAAQzM,aAC9DyM,EAAQ1M,YAAc0M,EAAQ1M,aAAe,IAAI+E,KAAK2H,EAAQ1M,aAC9D,EAAKuG,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLrI,KAXK,2CAvKK,wDAuLnBnL,cAAgB,SAAC0M,GACf,IAAIvB,EAAU,EAAKnV,MAAMkhB,YAAYxK,GACrCvB,EAAQ7M,YAAc6M,EAAQ7M,aAAe,IAAIkF,KAAK2H,EAAQ7M,aAC9D6M,EAAQzM,YAAcyM,EAAQzM,aAAe,IAAI8E,KAAK2H,EAAQzM,aAC9DyM,EAAQ1M,YAAc0M,EAAQ1M,aAAe,IAAI+E,KAAK2H,EAAQ1M,aAC9D,EAAKuG,SAAS,CACZoS,YAAY,EACZ5D,UAAU,eACLrI,MA/LU,EAoMnBwN,SAAW,SAACjM,GACV,IAAIvB,EAAU,EAAKnV,MAAMkhB,YAAYxK,GACrCvB,EAAQ7M,YAAc6M,EAAQ7M,aAAe,IAAIkF,KAAK2H,EAAQ7M,aAC9D6M,EAAQzM,YAAcyM,EAAQzM,aAAe,IAAI8E,KAAK2H,EAAQzM,aAC9DyM,EAAQ1M,YAAc0M,EAAQ1M,aAAe,IAAI+E,KAAK2H,EAAQ1M,aAC9D,EAAKuG,SAAS,CACZoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLrI,MA/MU,EAoNnB0M,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KArNX,EAwNnB3D,WAAa,WACX,EAAKzO,SAAS,CAAEoO,WAAW,KAvN3B,EAAKpd,MAAQ,CAEXkhB,YAAa,GACblc,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZxC,UAAW,CACTzT,UAAW,EACXL,YAAa,GACbC,YAAa,GACbC,mBAAoB,GACpB3B,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,GACPC,YAAa,IAAIkF,KACjBjF,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI+E,KACjB9E,YAAa,IAAI8E,KACjB3D,MAAO,IAETuT,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IAhCE,E,4FAoCnB,sBAAA3kB,EAAA,6DACEU,KAAK8O,SAAS,CAAEG,SAAS,IAD3B,SAEQjP,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SAFnC,gD,qFA8DA,WACE,OACE,+BACE,qCACA,+DACA,gDACA,8CACA,mDACA,wDACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAclC,WAAmB,IAAD,OACZshB,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMkhB,YAAYzK,KAAI,SAAC4K,EAAM3K,GACvC,IAAQhN,EAA2D2X,EAA3D3X,YAAaC,EAA8C0X,EAA9C1X,YAAarB,EAAiC+Y,EAAjC/Y,YAAaH,EAAoBkZ,EAApBlZ,OAAQF,EAAYoZ,EAAZpZ,QACvD,OACE,+BACE,6BAAKuY,EAAU9J,IACf,6BAAKhN,IACL,6BAAI,sBAAMxK,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmG/M,MACvG,6BAAK,EAAKkH,WAAW,IAAIrD,KAAKlF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,IACL,oBAAI/I,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK2I,cAAc0M,QACvE,oBAAIxX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKyI,YAAY4M,UARlEA,Q,oBA6Ff,WAAU,IAAD,OACP,OAAIxW,KAAKF,MAAMmP,QAEX,qBAAKjQ,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAEhB,cAAC,GAAD,CACEvE,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAEhB,qBAAK5T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE5C,qBAAKzR,UAAU,4BAAf,gEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKyR,WAApE,SACE,sBAAK5T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAASnB,KAAKuJ,WAA9D,SACE,sBAAKvK,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK5P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAeiV,YAAY,mBAAWrF,MAAO5O,KAAKF,MAAMmkB,YAAa7T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEmV,YAAavV,EAAEC,OAAOC,WACvJ,qBAAK5P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBsQ,KAAK,SAASnO,QAAS,kBAAM,EAAKyR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKpR,MAAO,CAAEmf,UAAW,SAAzB,SACE,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO9jB,UAAU,eAAjB,SACGgB,KAAK4e,sBAER,gCAAQ5e,KAAKsU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,oB,GAnUlD9gB,IAAMK,WAyUtB4iB,G,kDACJ,WAAY1iB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKwP,SAAS,CAAEG,SAAS,IADlB,kBAGC7L,EAAI0G,cAAc,EAAK1K,MAAMoE,KAAKqG,WAHnC,OAKL,EAAKiF,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,0CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBN,qDAqBLhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KAvBzC,wBAwBH2H,QAAMC,gBAAgB,CACpBrO,MAAO,2BACPsO,QAAS,uMACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK7P,MAAQ,CACXmP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,wCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,sBAAKvP,UAAU,YAAf,UACG,iEADH,IACwC,kCAAKgB,KAAKZ,MAAMoE,KAAKsE,YAArB,OADxC,IACgF,UAGlF,eAACsG,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GA/ENpQ,IAAMK,WAsF5Bue,G,kDACJ,WAAYre,GAAQ,IAAD,8BACjB,cAAMA,IAQRse,SAAW,WACT,MAAwB,QAApB,EAAKte,MAAMiC,KACN,0BAEe,SAApB,EAAKjC,MAAMiC,KACN,2BAEF,gCAhBU,EAmBnBsc,UAAY,WACV,MAAwB,QAApB,EAAKve,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKoI,WAAtB,qBAEe,SAApB,EAAKnK,MAAMiC,KACN,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKyI,YAAtB,sBAEF,MA1BU,EA6BnBmZ,aAAe,WAab,IAZsBmB,EAiBtB,OAAI,EAAK9kB,MAAMoE,KAAKiG,YAAY3H,OAAS,IACvCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,yFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAlBM,kBAoBHwU,KA/BE,QADQD,EAgCQ,EAAK9kB,MAAMoE,KAAKiG,mBA/BhBuL,IAARkP,EAA0BA,EAQ9CA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIE,eACAlS,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,OAIZ,cAkCHiS,KAAK,EAAK/kB,MAAMoE,KAAK0E,MAAQ,EAAK9I,MAAMoE,KAAK0E,IAAIpG,OAAS,GACnEqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,iEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEL,EAAKvQ,MAAMoE,KAAKgG,YAAY1H,OAAS,IACvCqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,wFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GA7Da,iBA+DHwU,KAAK,EAAK/kB,MAAMoE,KAAKgG,cA9DhB,cA6EH2a,KAAK,EAAK/kB,MAAMoE,KAAK8E,cAAgB,EAAKlJ,MAAMoE,KAAK8E,YAAYxG,OAAS,GAC7FqN,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,mIACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,KAzFO,2IA2FHwU,KAAK,EAAK/kB,MAAMoE,KAAK6E,SAChC8G,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,+FACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA1CPR,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,6HACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAzDPR,QAAMC,gBAAgB,CACpBrO,MAAO,uDACPsO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA3EQ,EA4JnBpG,WA5JmB,sBA4JN,4BAAAjK,EAAA,yDAEN,EAAKyjB,eAFC,oDAKX,EAAKjU,SAAS,CAAEG,SAAS,IALd,WAOL,EAAK7P,MAAMoE,KAAK2E,MAAM,aAAc2c,MAP/B,gCAQS1hB,EAAI4K,YAAY,EAAK5O,MAAMoE,KAAK2E,MAAM,IAR/C,OAQH7E,EARG,OASP,EAAKlE,MAAMoE,KAAK2E,MAAQ7E,EAAIE,KAAKqN,OAT1B,wBAWHzN,EAAImG,WAAW,EAAKnK,MAAMoE,MAXvB,QAaT,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,2CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UA3BF,qDA6BThT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA/BrC,wBAgCP2H,QAAMC,gBAAgB,CACpBrO,MAAO,6BACPsO,QAAS,6GACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1ChC,2BA8CTR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxD9B,0DA5JM,EAyNnB/F,YAzNmB,sBAyNL,4BAAAtK,EAAA,yDACP,EAAKyjB,eADE,oDAIZ,EAAKjU,SAAS,CAAEG,SAAS,IAJb,WAMN,EAAK7P,MAAMoE,KAAK2E,MAAM,aAAc2c,MAN9B,gCAOQ1hB,EAAI4K,YAAY,EAAK5O,MAAMoE,KAAK2E,MAAM,IAP9C,OAOJ7E,EAPI,OAQR,EAAKlE,MAAMoE,KAAK2E,MAAQ7E,EAAIE,KAAKqN,OARzB,wBAUJzN,EAAIwG,YAAY,EAAKxK,MAAMoE,MAVvB,QAYV,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBrO,MAAO,mBACPsO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKkO,WACL,EAAKze,MAAMwT,UA1BD,qDA4BVhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA9BpC,wBA+BR2H,QAAMC,gBAAgB,CACpBrO,MAAO,8BACPsO,QAAS,+EACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC/B,2BA6CVR,QAAMC,gBAAgB,CACpBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvD7B,0DAzNK,EAqRnBwM,MAAQ,WACF,EAAK/c,MAAM+Z,OACb,EAAKrK,SAAS,CACZ+K,aAAa,IAGf,EAAKza,MAAM+c,SA3RI,EA+RnB0B,SAAW,WACT,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SAjSM,EAoSnB1N,cAAgB,SAACC,GAEf,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IA1SF,EA6SnBoW,aAAe,WACb,EAAK9K,SAAS,CACZ+K,aAAa,KA7Sf,EAAK/Z,MAAQ,CACX+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALM,E,0CAmTnB,WAAU,IAAD,OAEP,OACE,gCACE,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACE,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACE,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAErB,eAACtP,EAAA,EAAMG,KAAP,WACGvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACrB,qBAAKjS,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM6P,SACX,qBAAKjQ,UAAU,kBAAf,SACE,eAACif,GAAA,EAAD,WACE,sBAAKjf,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,2CACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKiG,YACvB2G,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAKgF,YAC1B4H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,iBAM/B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAK4E,YAC1BgI,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAK7B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKnf,UAAU,QAAf,SACE,cAAC,KAAD,CACEqgB,SAAUrf,KAAKZ,MAAMoE,KAAK+E,YAC1B6H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,iBAM/B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,SACHhd,KAAK,SACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKyE,OACvBmI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,KALvB,UAOE,wBAAQuN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIN,qBAAK5P,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,oCACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,kCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKgG,YACvB4G,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,cAACif,GAAA,EAAKC,MAAN,UACE,cAACD,GAAA,EAAKE,MAAN,yBAEmB,SAApBne,KAAKZ,MAAMiC,KACV,qBAAKyP,IAAKnP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO4I,IAAI,SAASvP,MAAO,CAAEwP,MAAO,OAAQC,OAAQ,UACzG,cAAC,KAAD,CACE8T,UAAU,EACVC,WAAW,gBACX5U,SAAU,SAAC6U,GAAD,OAAS,EAAKxW,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,QAAS4I,MAAOqW,MACxEC,aAAc,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QAC/CC,YAAa,QACbC,aAAa,EACbC,aAAa,OAInB,qBAAKrmB,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,8CACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK8E,YACvB8H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,yBACZjO,KAAK,MACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK0E,IACvBkI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,QACLtJ,KAAK,QACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK6E,MACvB+H,SAAUpQ,KAAKyO,cACfwF,YAAY,kBACZoK,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,qBACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKwE,mBACvBoI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,kDACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,gDACZjO,KAAK,qBACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKkG,mBACvB0G,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,0CACZjO,KAAK,UACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKuE,QACvBqI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAACif,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,+BACA,cAACF,GAAA,EAAKG,QAAN,CACE9O,KAAK,OACL2E,YAAY,6BACZjO,KAAK,QACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKmG,MACvByG,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,uBASrC,eAAC+M,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAIV,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACE,cAACrO,EAAA,EAAMjP,OAAP,UACE,cAACiP,EAAA,EAAMsO,MAAP,iCAEF,cAACtO,EAAA,EAAMG,KAAP,UACE,qBAAKvP,UAAU,YAAf,SACGgB,KAAKF,MAAMuP,YAGhB,eAACjB,EAAA,EAAMrP,OAAP,WACE,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGJ,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GA7iBbpQ,IAAMK,WAmjBZqR,eAAW+U,ICn9BpBC,G,kDACF,WAAYnmB,GAAQ,IAAD,8BACf,cAAMA,IA6DVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA/DJ,EAkEnBkC,QAlEmB,uCAkET,WAAO/N,EAAMC,EAASmf,GAAtB,6BAAA3kB,EAAA,yDACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,UAIEgV,IAAe,EAAKnkB,MAAMmkB,YAJ5B,gCAKc7gB,EAAIkI,oBAAoBzG,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmf,GAAe,EAAKnkB,MAAMmkB,aAL1I,OAKE3gB,EALF,+CAOcF,EAAIiI,eAAexG,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAPlG,QAOExB,EAPF,eAaF,IAJIkiB,EAAcliB,EAAIE,KAAKqN,OAAOrN,KAC9Bwd,EAAc,EAAKlhB,MAAMkhB,YACzBjM,EAAc,EAAKjV,MAAMiV,YACzBwB,EAAM,GACDpD,EAAI,EAAGA,EAAI6N,EAAYlf,OAAQqR,IACpCoD,EAAIyK,EAAY7N,GAAG3J,aAAnB,eACOwX,EAAY7N,IAGvB,IAASA,EAAI,EAAGA,EAAI4B,EAAYjT,OAAQqR,IACpCoD,EAAIxB,EAAY5B,GAAGtL,aAAnB,eACOkN,EAAY5B,IAGvB,IAASA,EAAI,EAAGA,EAAIqS,EAAY1jB,OAAQqR,IACpCqS,EAAYrS,GAAZ,2BACOqS,EAAYrS,IACZoD,EAAIiP,EAAYrS,GAAG1H,WAG9B7L,QAAQC,IAAI2lB,GACZ,EAAK1W,SAAS,CAAEG,SAAS,EAAOuW,YAAaA,EAAa/F,WAAYnc,EAAIE,KAAKqN,OAAO4O,aA9BpF,qDAiCF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAnC/B,wBAoCEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9C3C,2BAkDFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5DvC,0DAlES,4DAmInBoR,iBAAmB,WAGf,IAFA,IAAI3V,EAAO,EAAKtL,MAAMkhB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlC1J,EAAN,EAAMA,YAAaD,EAAnB,EAAmBA,YACnB0J,EAAQnD,KAAK,CACT/J,KAAMyD,EAAc,MAAQD,EAC5BoF,MAAOpF,IAGf,OAAO0J,GA7IQ,EAgJnB4B,iBAAmB,WAGf,IAFA,IAAI1J,EAAO,EAAKtL,MAAMiV,YAClB7B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCrL,EAAN,EAAMA,YAAaD,EAAnB,EAAmBA,YACnBqL,EAAQnD,KAAK,CACT/J,KAAM8B,EAAc,MAAQD,EAC5B+G,MAAO/G,IAGf,OAAOqL,GA1JQ,EA6JnBmN,cA7JmB,uCA6JH,WAAO3R,GAAP,SAAApP,EAAA,6DACZ,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CA7JG,wDAiKnB+Q,WAjKmB,uCAiKN,WAAO9a,GAAP,SAAAvF,EAAA,sEACH,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SAD3B,2CAjKM,wDAqMnB0G,WAAa,WACT,EAAKsD,SAAS,CACVoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACP3R,UAAW,EACXzK,YAAa,GACbhB,KAAM,EACNuL,SAAU,OA/MH,EAoNnBC,YApNmB,uCAoNL,WAAO8K,GAAP,eAAAlX,EAAA,sDACNmmB,EAAU,EAAK3lB,MAAM0lB,YAAYhP,GACrC,EAAK1H,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHmI,KARD,2CApNK,wDAiOnB5Z,cAAgB,SAAC2K,GACb,IAAIiP,EAAU,EAAK3lB,MAAM0lB,YAAYhP,GACrC,EAAK1H,SAAS,CACVoS,YAAY,EACZ5D,UAAU,eACHmI,MAtOI,EA2OnBhD,SAAW,SAACjM,GACR,IAAIiP,EAAU,EAAK3lB,MAAM0lB,YAAYhP,GACrC,EAAK1H,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHmI,MAnPI,EAwPnB9D,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KAzPb,EA4PnB3D,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KA3P3B,EAAKpd,MAAQ,CAET0lB,YAAa,GACbzQ,YAAa,GACbiM,YAAa,GACblc,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACRC,YAAa,EACbI,SAAU,GAEdxC,UAAW,CACP3R,UAAW,EACXzK,YAAa,GACbhB,KAAM,EACNuL,SAAU,IAEdyR,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IAvBF,E,4FA2BnB,kCAAA3kB,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK+CnM,QAAQ+P,IAAI,CAC/CzP,EAAI8F,eAAe,EAAG,KACtB9F,EAAIiE,eAAe,EAAG,OAPlC,2CAKa2Z,EALb,KAK0BjM,EAL1B,KASQ/U,KAAK8O,SAAS,CACVkS,YAAaA,EAAYxd,KAAKqN,OAAOrN,KACrCuR,YAAaA,EAAYvR,KAAKqN,OAAOrN,OAXjD,UAacxD,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SAbzC,6DAeQlF,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAjBzC,mDAoBQgM,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9BjD,0D,qFA0IA,WACI,OACI,+BACI,qCACA,0DACA,gDACA,qEACA,6DACA,oBAAI3Q,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKxC,WAAmB,IAAD,OACVshB,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAM0lB,YAAYjP,KAAI,SAAC/S,EAAMgT,GACrC,IAAQtV,EAA0DsC,EAA1DtC,YAAa4G,EAA6CtE,EAA7CsE,YAAa5H,EAAgCsD,EAAhCtD,KAAMuJ,EAA0BjG,EAA1BiG,YAAagC,EAAajI,EAAbiI,SACrD,OACI,+BACI,6BAAK6U,EAAU9J,IACf,6BAAI,sBAAMxX,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmGtV,MACvG,6BAAc,IAAThB,EAAa4H,EAAc2B,IAChC,6BAAKgC,IACL,6BAAc,IAATvL,EAAa,gBAAsB,IAATA,EAAa,kBAAc,+BAC1D,oBAAIlB,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK0K,cAAc2K,QACvE,oBAAIxX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKuK,YAAY8K,UAPpEA,Q,oBAwErB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,QACdkC,iBAAkB9U,KAAK8U,iBACvBiM,iBAAkB/gB,KAAK+gB,mBAE3B,cAAC,GAAD,CACI1S,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,oDAKR,uBACA,sBAAKA,UAAU,SAAf,UACI,8BACI,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKyR,WAApE,SACI,sBAAK5T,UAAU,SAAf,UACI,0DAGA,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,aAMhB,qBAAKA,UAAU,OAAf,SACI,wBAAQsQ,KAAK,SAAStQ,UAAU,gBAAgBmC,QAASnB,KAAKwL,WAA9D,SACI,sBAAKxM,UAAU,SAAf,UACI,4DAGA,qBAAKA,UAAU,OAAf,SACI,cAAC,KAAD,aAKhB,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACI,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIZ,qBAAK5P,UAAU,iBAAf,SACI,sBAAKA,UAAU,cAAf,UACI,uBAAOsQ,KAAK,OAAOtQ,UAAU,eAAeiV,YAAY,mBAAWrF,MAAO5O,KAAKF,MAAMmkB,YAAa7T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEmV,YAAavV,EAAEC,OAAOC,WACvJ,qBAAK5P,UAAU,qBAAf,SACI,wBAAQA,UAAU,kBAAkBsQ,KAAK,SAASnO,QAAS,kBAAM,EAAKyR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAMlG,uBACA,qBAAKpR,MAAO,CAAEmf,UAAW,SAAzB,SACI,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,uBAAO9jB,UAAU,eAAjB,SACKgB,KAAK4e,sBAEV,gCAAQ5e,KAAKsU,yBAGrB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,oB,GAzW1D9gB,IAAMK,WA+WtB4iB,G,kDACF,WAAY1iB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKwP,SAAS,CAAEG,SAAS,IADpB,kBAGK7L,EAAIyI,cAAc,EAAKzM,MAAMoE,KAAKmI,WAHvC,OAKD,EAAKmD,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBV,kDAqBDhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK7P,MAAQ,CACTmP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,wCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,sBAAKvP,UAAU,YAAf,UACK,mEADL,IAC0C,kCAAKgB,KAAKZ,MAAMoE,KAAKtC,YAArB,OAD1C,IACkF,UAGtF,eAACkN,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GAhEdpQ,IAAMK,WAuE5Bue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,4BAEa,SAApB,EAAKjC,MAAMiC,KACJ,6BAEJ,kCAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKqK,WAAtB,qBAEa,SAApB,EAAKpM,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKuK,YAAtB,sBAEJ,MA1BQ,EA6BnBqX,aAAe,WAEX,GAAI,EAAK3jB,MAAMoE,KAAKtC,YAAYY,OAAS,GAarC,OAZAqN,QAAMC,gBAAgB,CAClBrO,MAAO,uDACPsO,QAAQ,2FACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAElC,EAEX,IAhBsB,iBAgBHwU,KAAK,EAAK/kB,MAAMoE,KAAKtC,aAapC,OAZAiO,QAAMC,gBAAgB,CAClBrO,MAAO,uDACPsO,QAAQ,yIACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAElC,EAEX,IAAIhM,EAAW,EAAKvE,MAAMoE,KAAKG,SAAW,EAAKvE,MAAMoE,KAAKG,SAAS5B,QAAU,GACzEkQ,EAAUtO,EAASuO,QAAQ,UAAW,IAAIpQ,OAAS,EAAI,EAAI,EAC3DqQ,EAAWxO,EAASuO,QAAQ,aAAc,IAAIpQ,OAAS,EAAI,EAAI,EAC/DsQ,EAAiBzO,EAAS7B,OAAS6B,EAASuO,QAAQ,+BAAgC,IAAIpQ,OAAU,EAAI,EAAI,EAC9G,OAAI6B,EAAS7B,OAAS,GAAMmQ,EAAUE,EAAWC,EAAgB,GAC7DjD,QAAMC,gBAAgB,CAClBrO,MAAO,WACPsO,QAAS,sNACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAElC,KAEN,EAAKvQ,MAAMoE,KAAKiI,WACjB0D,QAAMC,gBAAgB,CAClBrO,MAAO,uDACPsO,QAAQ,8DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAElC,IA7FI,EAkGnBnE,WAlGmB,sBAkGN,sBAAAlM,EAAA,yDACJ,EAAKyjB,eADD,wDAIT,EAAKjU,SAAS,CAAEG,SAAS,IAJhB,kBAMC7L,EAAIoI,WAAW,EAAKpM,MAAMoE,MAN3B,OAQL,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,6CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UAtBN,qDAwBLhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA1BzC,wBA2BD2H,QAAMC,gBAAgB,CAClBrO,MAAO,+CACPsO,QAAS,0IACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArCxC,2BAyCLR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnDpC,0DAlGM,EA0JnBjE,YA1JmB,sBA0JL,sBAAApM,EAAA,yDACL,EAAKyjB,eADA,oDAIV,EAAKjU,SAAS,CAAEG,SAAS,IACpB,EAAK7P,MAAMoE,KAAKG,SALX,uBAMNwL,QAAMC,gBAAgB,CAClBrO,MAAO,0DACPsO,QAAS,0EACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,IAlBnB,oDAsBA7L,EAAIsI,YAAY,EAAKtM,MAAMoE,MAtB3B,QAwBN,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,8CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UAtCL,qDAwCNhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK6L,QAAQ7H,KA1CxC,wBA2CF2H,QAAMC,gBAAgB,CAClBrO,MAAO,0DACPsO,QAAS,0IACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArDvC,2BAyDNR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnEnC,0DA1JK,EAkOnBwM,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SAxOA,EA4OnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA9OI,EAiPnB1N,cAAgB,SAACC,GAEb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAvPJ,EA0PnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KA1PjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CAgQnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,qBAAKjQ,UAAU,kBAAf,SACI,eAACif,GAAA,EAAD,WACI,eAACA,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,uCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,qCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKtC,YACvBkP,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,UAG7B,eAAC4c,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,iCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,WACL2E,YAAY,+BACZjO,KAAK,WACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKG,SACvByM,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,UAG7B,eAAC4c,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,0CACA,eAACF,GAAA,EAAKG,QAAN,CACI4E,GAAG,SACHhd,KAAK,OACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKtD,KACvBkQ,SAAU,SAAC1B,GAAQ,EAAKD,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,WAAY4I,MAAO,MAAS,EAAKH,cAAcC,IACvG2P,SAA8B,SAApBre,KAAKZ,MAAMiC,KALzB,UAOI,wBAAQuN,MAAO,EAAf,2BACA,wBAAQA,MAAO,EAAf,6BACA,wBAAQA,MAAO,EAAf,8CAGR,sBAAK5P,UAAU,aAAf,UACI,kCAAkC,IAAzBgB,KAAKZ,MAAMoE,KAAKtD,KAAa,gBAAa,kBAAnD,OACA,8BACI,cAAC0T,GAAA,EAAD,CACIV,QAAkC,IAAzBlT,KAAKZ,MAAMoE,KAAKtD,KAAaF,KAAKZ,MAAM0V,mBAAqB9U,KAAKZ,MAAM2hB,mBACjFlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,WAAY4I,MAAOsF,MACzEtF,MAAO5O,KAAKZ,MAAMoE,KAAKiI,SACvB4S,SAA8B,SAApBre,KAAKZ,MAAMiC,oBASjD,eAAC+M,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GAjWrBpQ,IAAMK,WAuWZqR,eAAWgV,I,qBChyBpBD,G,kDACF,WAAYlmB,GAAQ,IAAD,8BACf,cAAMA,IAyCVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA3CJ,EA8CnBkC,QA9CmB,uCA8CT,WAAO/N,EAAMC,EAASmf,GAAtB,eAAA3kB,EAAA,yDACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,UAIEgV,IAAe,EAAKnkB,MAAMmkB,YAJ5B,gCAKc7gB,EAAIiG,oBAAoBxE,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmf,GAAe,EAAKnkB,MAAMmkB,aAL1I,OAKE3gB,EALF,+CAOcF,EAAI8F,eAAerE,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAPlG,QAOExB,EAPF,eASF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CAAEG,SAAS,EAAO+R,YAAa1d,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAV7F,qDAaF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAf/B,wBAgBEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1B3C,2BA8BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCvC,0DA9CS,4DA2FnB0Q,cA3FmB,uCA2FH,WAAO3R,GAAP,SAAApP,EAAA,6DACZ,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CA3FG,wDAgGnB+Q,WAhGmB,uCAgGN,WAAO9a,GAAP,SAAAvF,EAAA,sEACH,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SAD3B,2CAhGM,wDAiHnB6L,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eApHE,EA2InB8U,SAAW,SAACjM,GACR,IAAIvB,EAAU,EAAKnV,MAAMkhB,YAAYxK,GACrCvB,EAAQ7M,YAAc6M,EAAQ7M,aAAe,IAAIkF,KAAK2H,EAAQ7M,aAC9D6M,EAAQzM,YAAcyM,EAAQzM,aAAe,IAAI8E,KAAK2H,EAAQzM,aAC9DyM,EAAQ1M,YAAc0M,EAAQ1M,aAAe,IAAI+E,KAAK2H,EAAQ1M,aAC9D,EAAKuG,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHrI,MAtJI,EA2JnBsI,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KA5JZ,EA+JnBwI,4BAA8B,YAAgB,IAAb9W,EAAY,EAAZA,MACzB,EAAK1M,SACLyjB,aAAa,EAAKzjB,SAEtB,EAAKA,QAAU0jB,WAAU,sBAAC,8BAAAtmB,EAAA,6DAClBumB,EAAM,EAAKC,QAAU1iB,EAAIkG,0BAA0B,EAAG,EAAKxJ,MAAMgF,QAAS8J,GADxD,kBAGFiX,EAHE,OAGdviB,EAHc,OAIduiB,IAAQ,EAAKC,SACb,EAAKhX,SAAS,CACViX,YAAaziB,EAAIE,KAAKqN,SANZ,gDAUlBjR,QAAQC,IAAR,MAVkB,yDAYvB,MA/KY,EAkLnBmmB,4BAA8B,WAC1B,EAAKlX,SAAS,CACViX,YAAa,MApLF,EAwLnBE,eAAiB,SAAC/M,EAAD,GAA0B,IAAhBgN,EAAe,EAAfA,SACvB,EAAKpX,SAAS,CACVmV,YAAaiC,KA1LF,EA8LnBC,mBAAqB,SAAAC,GAAU,OAAIA,EAAW3c,aA9L3B,EAgMnB4c,qBAAuB,SAACnN,EAAD,GAAmF,EAAzEkN,WAA0E,IAA9DE,EAA6D,EAA7DA,gBAA6D,EAA5CC,gBAA4C,EAA3BC,aAA2B,EAAb/M,OACzF,EAAK7G,QAAQ,KAAM,KAAM0T,IAjMV,EAoMnBG,iBAAmB,SAACL,GAChB,OACI,qBAAKpnB,UAAU,QAAf,SAAwBonB,EAAW3c,YAAc,MAAQ2c,EAAW5c,eApMxE,EAAK1J,MAAQ,CAETkhB,YAAa,GACblc,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACRC,YAAa,EACbI,SAAU,GAEdxC,UAAW,CACPzT,UAAW,EACXL,YAAa,GACbC,YAAa,GACbC,mBAAoB,GACpB3B,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,GACPC,YAAa,IAAIkF,KACjBjF,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI+E,KACjB9E,YAAa,IAAI8E,KACjB3D,MAAO,IAEXuT,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb0I,YAAa,GACb9B,YAAa,IAjCF,E,4FAqCnB,sBAAA3kB,EAAA,6DACIU,KAAK8O,SAAS,CAAEG,SAAS,IAD7B,SAEUjP,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SAFrC,gD,qFA+DA,WACI,OACI,+BACI,qCACA,+DACA,gDACA,8CACA,mDACA,6D,6BAcZ,WAAmB,IAAD,OACVwb,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMkhB,YAAYzK,KAAI,SAAC4K,EAAM3K,GACrC,IAAQhN,EAA2D2X,EAA3D3X,YAAaC,EAA8C0X,EAA9C1X,YAAarB,EAAiC+Y,EAAjC/Y,YAAaH,EAAoBkZ,EAApBlZ,OAAQF,EAAYoZ,EAAZpZ,QACvD,OACI,+BACI,6BAAKuY,EAAU9J,IACf,6BAAI,sBAAMxX,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmGhN,MACvG,6BAAI,sBAAMxK,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmG/M,MACvG,6BAAK,EAAKkH,WAAW,IAAIrD,KAAKlF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,MANAyO,Q,oBA2ErB,WAAU,IAAD,OACL,EAAqCxW,KAAKF,MAAlCmkB,EAAR,EAAQA,YAAa8B,EAArB,EAAqBA,YACfW,EAAQ,CACVnX,UAAW,cACXoX,MAAO,eACPC,qBAAsB,WACtBC,gBAAgB,uBAAD,OAAyB7mB,KAAKF,MAAMimB,YAAYjkB,OAAS,OAAS,IACjFskB,WAAY,sBACZU,kBAAmB,SACnBC,sBAAuB,UAGrBC,EAAa,CACf/S,YAAa,mDACbrF,MAAOqV,EACP7T,SAAUpQ,KAAKimB,gBAGnB,OAAIjmB,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,4DAKR,uBACA,sBAAKA,UAAU,SAAf,UACI,cAAC,KAAD,CACI+mB,YAAaA,EACbL,4BAA6B1lB,KAAK0lB,4BAClCM,4BAA6BhmB,KAAKgmB,4BAClCG,mBAAoBnmB,KAAKmmB,mBACzBM,iBAAkBzmB,KAAKymB,iBACvBO,WAAYA,EACZN,MAAOA,EACPL,qBAAsBrmB,KAAKqmB,uBAE/B,yBAAQ/W,KAAK,SAAStQ,UAAU,yCAAyCmC,QAAS,kBAAM,EAAKyR,WAA7F,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,qBAIJ,uBACA,qBAAKyB,MAAO,CAAEmf,UAAW,SAAzB,SACI,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,uBAAO9jB,UAAU,eAAjB,SACKgB,KAAK4e,sBAEV,gCAAQ5e,KAAKsU,yBAIrB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,aAChE,sBAAK3gB,UAAU,cAAf,UACI,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACI,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,gC,GArSN/P,IAAMK,WA8StBue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,0BAEa,SAApB,EAAKjC,MAAMiC,KACJ,2BAEJ,gCAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKoI,WAAtB,qBAEa,SAApB,EAAKnK,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKyI,YAAtB,sBAEJ,MA1BQ,EA6BnBuS,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SAnCA,EAuCnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SAzCI,EA4CnB1N,cAAgB,SAACC,GAEb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAlDJ,EAqDnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KArDjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CA2DnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,qBAAKjQ,UAAU,kBAAf,SACI,eAACif,GAAA,EAAD,WACI,sBAAKjf,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,2CACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKiG,YACvB2G,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAKgF,YAC1B4H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,iBAMzC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAK4E,YAC1BgI,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAK+E,YAC1B6H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,iBAMzC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACI4E,GAAG,SACHhd,KAAK,SACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKyE,OACvBmI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,KALzB,UAOI,wBAAQuN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIZ,qBAAK5P,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,oCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,kCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKgG,YACvB4G,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,sBAAKA,UAAU,MAAf,UACI,cAACif,GAAA,EAAKC,MAAN,UACI,cAACD,GAAA,EAAKE,MAAN,yBAEJ,qBAAKrN,IAAKnP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO4I,IAAI,SAASvP,MAAO,CAAEwP,MAAO,OAAQC,OAAQ,aAE7G,qBAAKjS,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,8CACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK8E,YACvB8H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,yBACZjO,KAAK,MACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK0E,IACvBkI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,QACLtJ,KAAK,QACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK6E,MACvB+H,SAAUpQ,KAAKyO,cACfwF,YAAY,kBACZoK,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,qBACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKwE,mBACvBoI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,kDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,gDACZjO,KAAK,qBACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKkG,mBACvB0G,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,0CACZjO,KAAK,UACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKuE,QACvBqI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,+BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,6BACZjO,KAAK,QACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKmG,MACvByG,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,uBASrD,eAAC+M,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GAzSrBpQ,IAAMK,WA+SZqR,eAAW+U,IC5lBpBb,G,kDACF,WAAYrlB,GAAQ,IAAD,8BACf,cAAMA,IA6CVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA/CJ,EAkDnBkC,QAlDmB,uCAkDT,WAAO/N,EAAMC,EAASmf,GAAtB,eAAA3kB,EAAA,yDACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,UAIEgV,IAAe,EAAKnkB,MAAMmkB,YAJ5B,gCAKc7gB,EAAIqE,oBAAoB5C,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmf,GAAe,EAAKnkB,MAAMmkB,aAL1I,OAKE3gB,EALF,+CAOcF,EAAIiE,eAAexC,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,SAPlG,QAOExB,EAPF,eASF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CAAEG,SAAS,EAAO8F,YAAazR,EAAIE,KAAKqN,OAAOrN,KAAMic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAV7F,qDAaF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAf/B,wBAgBEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1B3C,2BA8BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCvC,0DAlDS,4DA+FnB0Q,cA/FmB,uCA+FH,WAAO3R,GAAP,SAAApP,EAAA,6DACZ,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CA/FG,wDAoGnB+Q,WApGmB,uCAoGN,WAAO9a,GAAP,SAAAvF,EAAA,sEACH,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SAD3B,2CApGM,wDAqHnB6L,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAxHE,EA+InB8U,SAAW,SAACjM,GACR,IAAInD,EAAU,EAAKvT,MAAMiV,YAAYyB,GACrCnD,EAAQjL,YAAciL,EAAQjL,aAAe,IAAIkF,KAAK+F,EAAQjL,aAC9DiL,EAAQ7K,YAAc6K,EAAQ7K,aAAe,IAAI8E,KAAK+F,EAAQ7K,aAC9D6K,EAAQ9K,YAAc8K,EAAQ9K,aAAe,IAAI+E,KAAK+F,EAAQ9K,aAC9D,EAAKuG,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHjK,MA1JI,EAgKnBkK,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KAjKZ,EAoKnBwI,4BAA8B,YAAgB,IAAb9W,EAAY,EAAZA,MACzB,EAAK1M,SACLyjB,aAAa,EAAKzjB,SAGtB,EAAKA,QAAU0jB,WAAU,sBAAC,8BAAAtmB,EAAA,6DAClBumB,EAAM,EAAKC,QAAU1iB,EAAIsE,0BAA0B,EAAG,EAAK5H,MAAMgF,QAAS8J,GADxD,kBAGFiX,EAHE,OAGdviB,EAHc,OAIduiB,IAAQ,EAAKC,SACb,EAAKhX,SAAS,CACViX,YAAaziB,EAAIE,KAAKqN,SANZ,gDAUlBjR,QAAQC,IAAR,MAVkB,yDAYvB,MArLY,EAwLnBmmB,4BAA8B,WAC1B,EAAKlX,SAAS,CACViX,YAAa,MA1LF,EA8LnBE,eAAiB,SAAC/M,EAAD,GAA0B,IAAhBgN,EAAe,EAAfA,SACvB,EAAKpX,SAAS,CACVmV,YAAaiC,KAhMF,EAoMnBC,mBAAqB,SAAAC,GAAU,OAAIA,EAAWte,aApM3B,EAsMnBue,qBAAuB,SAACnN,EAAD,GAAmF,EAAzEkN,WAA0E,IAA9DE,EAA6D,EAA7DA,gBAA6D,EAA5CC,gBAA4C,EAA3BC,aAA2B,EAAb/M,OACzF,EAAK7G,QAAQ,KAAM,KAAM0T,IAvMV,EA0MnBG,iBAAmB,SAACL,GAChB,OACI,qBAAKpnB,UAAU,QAAf,SAAwBonB,EAAWte,YAAc,MAAQse,EAAWve,eA1MxE,EAAK/H,MAAQ,CAETiV,YAAa,GACbjQ,QAAS,GACTmK,SAAS,EACTwQ,WAAY,CACRC,YAAa,EACbI,SAAU,GAEdxC,UAAW,CACPtU,UAAW,EACXnB,YAAa,GACbC,YAAa,GACbC,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,GACPC,YAAa,IAAIkF,KACjBjF,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI+E,KACjB9E,YAAa,IAAI8E,KACjBpM,YAAa,GACbuH,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,IAEhBoU,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb0I,YAAa,GACb9B,YAAa,IAtCF,E,4FA0CnB,sBAAA3kB,EAAA,sEACUU,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,SADrC,gD,qFA8DA,WACI,OACI,+BACI,qCACA,6DACA,gDACA,8CACA,mDACA,oD,6BAcZ,WAAmB,IAAD,OACVwb,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMiV,YAAYwB,KAAI,SAAC4K,EAAM3K,GACrC,IAAQ3O,EAA2DsZ,EAA3DtZ,YAAaC,EAA8CqZ,EAA9CrZ,YAAaM,EAAiC+Y,EAAjC/Y,YAAaH,EAAoBkZ,EAApBlZ,OAAQF,EAAYoZ,EAAZpZ,QACvD,OACI,+BACI,6BAAKuY,EAAU9J,IACf,6BAAI,sBAAMxX,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmG3O,MACvG,6BAAI,sBAAM7I,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmG1O,MACvG,6BAAK,EAAK6I,WAAW,IAAIrD,KAAKlF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,MANAyO,Q,oBA6ErB,WAAU,IAAD,OACL,EAAqCxW,KAAKF,MAAlCmkB,EAAR,EAAQA,YAAa8B,EAArB,EAAqBA,YACfW,EAAQ,CACVnX,UAAW,cACXoX,MAAO,eACPC,qBAAsB,WACtBC,gBAAgB,uBAAD,OAAyB7mB,KAAKF,MAAMimB,YAAYjkB,OAAS,OAAS,IACjFskB,WAAY,sBACZU,kBAAmB,SACnBC,sBAAuB,UAGrBC,EAAa,CACf/S,YAAa,iDACbrF,MAAOqV,EACP7T,SAAUpQ,KAAKimB,gBAGnB,OAAIjmB,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAQhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,0DAKR,uBACA,sBAAKA,UAAU,SAAf,UACI,cAAC,KAAD,CACI+mB,YAAaA,EACbL,4BAA6B1lB,KAAK0lB,4BAClCM,4BAA6BhmB,KAAKgmB,4BAClCG,mBAAoBnmB,KAAKmmB,mBACzBM,iBAAkBzmB,KAAKymB,iBACvBO,WAAYA,EACZN,MAAOA,EACPL,qBAAsBrmB,KAAKqmB,uBAE/B,yBAAQ/W,KAAK,SAAStQ,UAAU,yCAAyCmC,QAAS,kBAAM,EAAKyR,WAA7F,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,qBAIJ,uBACA,qBAAKyB,MAAO,CAAEmf,UAAW,SAAzB,SACI,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,uBAAO9jB,UAAU,eAAjB,SACKgB,KAAK4e,sBAEV,gCAAQ5e,KAAKsU,yBAIrB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,aAChE,sBAAK3gB,UAAU,cAAf,UACI,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACI,yBAAQA,UAAU,oBAAoB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAA/G,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,gC,GA5SN/P,IAAMK,WAqTtBue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,wBAEa,SAApB,EAAKjC,MAAMiC,KACJ,yBAEJ,8BAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKyG,WAAtB,qBAEa,SAApB,EAAKxI,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK4H,YAAtB,sBAEJ,MA1BQ,EA6BnBoT,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SAnCA,EAuCnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SAzCI,EA4CnB1N,cAAgB,SAACC,GAEb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAlDJ,EAqDnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KArDjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CA2DnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,qBAAKjQ,UAAU,kBAAf,SACI,eAACif,GAAA,EAAD,WACI,sBAAKjf,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,yCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKsE,YACvBsI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,kCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,gCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKqE,YACvBuI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAK4E,YAC1BgI,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,8CACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK8E,YACvB8H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACI4E,GAAG,SACHhd,KAAK,SACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKyE,OACvBmI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,KALzB,UAOI,wBAAQuN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIZ,qBAAK5P,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,QACLtJ,KAAK,QACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK6E,MACvB+H,SAAUpQ,KAAKyO,cACfwF,YAAY,kBACZoK,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,sBAAKA,UAAU,MAAf,UACI,cAACif,GAAA,EAAKC,MAAN,UACI,cAACD,GAAA,EAAKE,MAAN,yBAEJ,qBAAKrN,IAAKnP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO4I,IAAI,SAASvP,MAAO,CAAEwP,MAAO,OAAQC,OAAQ,aAE7G,qBAAKjS,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,mCACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKiF,WACvB2H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,yBACZjO,KAAK,MACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK0E,IACvBkI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKkF,YACvB0H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,qBACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKwE,mBACvBoI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,0BACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKmF,WACvByH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,0CACZjO,KAAK,UACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKuE,QACvBqI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,mCACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKoF,WACvBwH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAKgF,YAC1B4H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKqF,YACvBuH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAK+E,YAC1B6H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,0BACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKsF,WACvBsH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,uBASrD,eAAC+M,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GAjWrBpQ,IAAMK,WAuWZqR,eAAWkU,IClqBpB7D,G,kDACF,WAAYxhB,GAAQ,IAAD,8BACf,cAAMA,IAsFVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAxFJ,EA2FnBkC,QA3FmB,uCA2FT,WAAO/N,EAAMC,EAASmF,GAAtB,2BAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAIkH,gCAAgCzF,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAH1J,OAMF,GAHI3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACRE,EAAOF,EAAIE,KAAKqN,OAAOrN,MACrB,EAAK1D,MAAMmK,gBAAgB7D,UAAW,EAAKtG,MAAMmK,gBAAgBJ,UAAY,CAE/E,IADIgX,EAAO,GACF1N,EAAI,EAAGA,EAAI3P,EAAK1B,OAAQqR,IAC7B0N,EAAKrd,EAAK2P,GAAG/M,SAAW,EAI5B,IAFIyO,EAAY,EAAK/U,MAAM+U,UACvB7P,EAAa,EAAKlF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAC1FwN,EAAI,EAAGA,EAAI0B,EAAU/S,OAAQqR,IAC7B0N,EAAKhM,EAAU1B,GAAG/M,UACnB5C,EAAKuM,KAAL,2BACO8E,EAAU1B,IACVnO,IAKnB,EAAK8J,SAAS,CACVG,SAAS,EACT6R,8BAA+Btd,EAC/Bic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAzB9B,qDA4BF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DA3FS,4DAuJnByD,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KA3JlB,EA8JnBsT,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KA/JZ,EA4LnB6D,iBAAmB,WAGf,IAFA,IAAI3V,EAAO,EAAKtL,MAAMkhB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8C/H,EAAK+H,GAA7CtJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9B0J,EAAQnD,KAAK,CACT/J,KAAMyD,EAAc,MAAQD,EAC5BoF,MAAO/E,IAGf,OAAOqJ,GAtMQ,EAyMnBF,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAnNQ,EAsNnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GAhOQ,EAmOnB1I,8BAAgC,SAACgM,GAC7B,IAAIyK,EAA4B,EAAKnhB,MAAMghB,8BAA8BtK,GACzE,EAAK1H,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACH2D,MAzOX,EAAKnhB,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACXmM,YAAa,GACbF,8BAA+B,GAC/B/gB,SAAU,OACVkK,gBAAiB,GAEjBnF,QAAS,IACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTqO,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACd6D,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgB,4BAA6B,GAEjCyS,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb6D,YAAY,GA9BD,E,4FAkCnB,sCAAA5hB,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK6DnM,QAAQ+P,IAAI,CAC7DzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,OARlC,2CAKa+J,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAUY/W,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCwd,YAAaA,EAAYxd,KAAKqN,OAAOrN,KACrCyG,gBAAiBA,IAjB7B,UAmBcjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,GAnBlD,6DAqBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFAgIA,WACI,IAAI2Q,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMghB,8BAA8BvK,KAAI,SAAC4K,EAAM3K,GACvD,IAAQhN,EAAoD2X,EAApD3X,YAAaC,EAAuC0X,EAAvC1X,YAAazK,EAA0BmiB,EAA1BniB,UAAWgG,EAAemc,EAAfnc,WAC7C,OACI,+BACI,6BAAKsb,EAAU9J,IACf,6BAAKxX,IACL,6BAAKwK,IACL,6BAAKC,GAA4B,8BACjC,6BAAKzE,MALAwR,Q,0BAWrB,WACI,IAAIvM,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK8O,SAAS,CACV7E,gBAAiBA,IAErBjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,K,oBAuDxC,WAAU,IAAD,OACL,OAAIjK,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,QACdI,oBAAqBhT,KAAKgT,oBAC1B+N,iBAAkB/gB,KAAK+gB,iBACvBnM,eAAgB5U,KAAK4U,iBAEzB,qBAAK5V,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,mFAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,SACI,yBAAQY,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKigB,gBAA/E,UACI,cAAC,IAAD,CAAW5gB,KAAMR,KAAKF,MAAMC,WADhC,mCAMZ,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAK1P,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAIlE,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK+gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBJ,UAClCuG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAK/D,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAI7D,yBAAQ5E,KAAK,SAAStQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKyR,WAArF,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,0CACA,+DACA,gDACA,wDAGR,gCACKgB,KAAKsU,oC,GA/VFpV,aA0WlCue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,8DAEa,SAApB,EAAKjC,MAAMiC,KACJ,yEAEJ,oEAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKoJ,6BAAtB,qBAEa,SAApB,EAAKnL,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKqJ,8BAAtB,gCAEJ,MA1BQ,EA6BnBA,8BA7BmB,sBA6Ba,sBAAAlL,EAAA,yDAC5B,EAAKwP,SAAS,CAAEG,SAAS,IADG,UAGpB,EAAK7P,MAAMoE,KAAKqG,UAHI,qBAIhB,EAAKzK,MAAMoE,KAAKiH,4BAJA,gCAKVrH,EAAIoH,8BAA8B,EAAKpL,MAAMoE,MALnC,+CAOVJ,EAAImH,6BAA6B,EAAKnL,MAAMoE,MAPlC,oCAUhB,EAAKpE,MAAMoE,KAAKiH,4BAVA,kCAWVrH,EAAIsH,gCAAgC,EAAKtL,MAAMoE,KAAKiH,6BAX1C,QAgBxB,EAAKqE,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,0EACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UA9Ba,kDAgCxBhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5CjB,0DA7Bb,EA8EnBwM,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SApFA,EAwFnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA1FI,EA6FnB1N,cAAgB,SAACC,GACb9O,QAAQC,IAAI6O,GACZ,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAnGJ,EAsGnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KAtGjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CA4GnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,sBAAKjQ,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM4T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,eAAgB4I,MAAOsF,MAC7EtF,MAAO5O,KAAKZ,MAAMoE,KAAKmC,aACvB0P,UAAU,SAItB,sBAAKrW,UAAU,aAAf,UACI,oDACA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,SAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM2hB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAOsF,MAC1EtF,MAAO5O,KAAKZ,MAAMoE,KAAKqG,cAG/B,qBAAK7K,UAAU,aAAf,SACI,cAAC,IAAD,CAASA,UAAU,oBAAoBmC,QAAS,kBAAM,EAAKsN,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAO,mBAK3H,sBAAK5P,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAMwV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,UAAW4I,MAAOsF,MACxEtF,MAAO5O,KAAKZ,MAAMoE,KAAK4C,QACvBiP,UAAU,eAOlC,eAACjH,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GAzMrBpQ,IAAMK,WAgNZqR,eAAWqQ,IC3jBpBS,G,kDACF,WAAYjiB,GAAQ,IAAD,8BACf,cAAMA,IA6FVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA/FJ,EAkGnBkC,QAlGmB,uCAkGT,WAAO/N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAI4G,yBAAyBnF,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHnJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACVG,SAAS,EACTqS,uBAAwBhe,EAAIE,KAAKqN,OAAOrN,KACxCic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAR9B,mDAYF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAlGS,4DAwJnB0Q,cAxJmB,uCAwJH,WAAO3R,GAAP,SAAApP,EAAA,6DACZ,EAAKwP,SAAS,CAAEhK,QAAS4J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK9S,MAAM2f,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CAxJG,wDA4JnB+Q,WA5JmB,uCA4JN,WAAO9a,GAAP,SAAAvF,EAAA,sEACH,EAAKsT,QAAQ/N,EAAM,EAAK/E,MAAMgF,SAD3B,2CA5JM,wDAgKnBic,iBAAmB,WAGf,IAFA,IAAI3V,EAAO,EAAKtL,MAAMkhB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8C/H,EAAK+H,GAA7CtJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9B0J,EAAQnD,KAAK,CACT/J,KAAMyD,EAAc,MAAQD,EAC5BoF,MAAO/E,IAGf,OAAOqJ,GA1KQ,EA6KnBF,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAvLQ,EA0LnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GApMQ,EAuMnBqO,iBAAmB,WAGf,IAFA,IAAInW,EAAO,EAAKtL,MAAM0hB,YAClBtO,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAiC/H,EAAK+H,GAAhCvM,EAAN,EAAMA,UAAWH,EAAjB,EAAiBA,YACjByM,EAAQnD,KAAK,CACT/J,KAAMS,EACNmI,MAAOhI,IAGf,OAAOsM,GAjNQ,EAoNnBE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KAxNlB,EA4OnBE,sBAAwB,WACpB,EAAK2E,SAAS,CACVoO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgY,qBAAsB,MA5Pf,EAiQnBrX,yBAA2B,SAACoM,GACxB,IAAIkL,EAAqB,EAAK5hB,MAAMwhB,uBAAuB9K,GAC3D,EAAK1H,SAAS,CACVoS,YAAY,EACZ5D,UAAU,eACHoE,MAtQI,EA2QnBC,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KA5Qb,EA+QnB3D,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KA9Q3B,EAAKpd,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVZ,YAAa,GACbQ,YAAa,GACbF,uBAAwB,GACxBvhB,SAAU,OACVkK,gBAAiB,GAGjBnF,QAAS,GACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTqO,UAAW,CACPlX,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACdiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgY,qBAAsB,GAE1BvE,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb6D,YAAY,GAnCD,E,4FAuCnB,wCAAA5hB,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK0EnM,QAAQ+P,IAAI,CAC1EzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,KACtB9F,EAAIkD,eAAe,EAAG,OATlC,2CAKa2M,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAKqDQ,EALrD,KAWYvX,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCwd,YAAaA,EAAYxd,KAAKqN,OAAOrN,KACrCge,YAAaA,EAAYhe,KAAKqN,OAAOrN,KACrCyG,gBAAiBA,IAnB7B,UAqBcjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,GArBlD,6DAuBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAzBzC,wBA0BYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApCrD,2BAwCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDjD,0D,gFAuGA,WACI,IAAI1F,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK8O,SAAS,CACV7E,gBAAiBA,IAErBjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,K,6BAsExC,WACI,IAAIqW,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMwhB,uBAAuB/K,KAAI,SAAC4K,EAAM3K,GAChD,IAAQhN,EAAiE2X,EAAjE3X,YAAaC,EAAoD0X,EAApD1X,YAAahD,EAAuC0a,EAAvC1a,YAAazH,EAA0BmiB,EAA1BniB,UAAWgG,EAAemc,EAAfnc,WAC1D,OACI,+BACI,6BAAKsb,EAAU9J,IACf,6BAAKhN,IACL,6BAAKC,IACL,6BAAKhD,IACL,6BAAKzH,IACL,6BAAKgG,MANAwR,Q,oBAmDrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,QACdI,oBAAqBhT,KAAKgT,oBAC1B+N,iBAAkB/gB,KAAK+gB,iBACvBnM,eAAgB5U,KAAK4U,eACrB2M,iBAAkBvhB,KAAKuhB,mBAE3B,cAAC,GAAD,CACIlT,KAAMrO,KAAKF,MAAMohB,WACjB/E,MAAOnc,KAAK2hB,YACZne,KAAMxD,KAAKF,MAAMwd,UACjB1K,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,mEAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKigB,gBAA/E,UACI,cAAC,IAAD,CAAW5gB,KAAMR,KAAKF,MAAMC,WADhC,6BAGA,uBAAOf,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB4P,MAAO5O,KAAKF,MAAMgF,QAASsL,SAAUpQ,KAAKqgB,cAAe7e,MAAO,CAAEwP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAKhB,qBAAK5P,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK+gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBJ,UAClCuG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAI/D,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKuhB,mBACd1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBrD,UAClCwJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAAStQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKyR,WAArF,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,+DACA,gDACA,iDACA,0CACA,wDAGR,gCACKgB,KAAKsU,yBAIlB,cAAC,GAAD,CAAYmL,WAAYzf,KAAKF,MAAM2f,WAAYE,WAAY3f,KAAK2f,yB,GAjavDzgB,aAya3B4iB,G,kDACF,WAAY1iB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKwP,SAAS,CAAEG,SAAS,IADpB,kBAGK7L,EAAIgH,yBAAyB,EAAKhL,MAAMoE,KAAKie,sBAHlD,OAKD,EAAK3S,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,8DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKvQ,MAAM+c,QACX,EAAK/c,MAAMwT,UAnBV,kDAqBDhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK7P,MAAQ,CACTmP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,wCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,sBAAKvP,UAAU,YAAf,UACK,0FADL,IACwD,kCAAKgB,KAAKZ,MAAMoE,KAAKiG,YAArB,OADxD,IACgG,UAGpG,eAAC2E,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASwI,KAAMrO,KAAKF,MAAMmP,iB,GAhEdpQ,IAAMK,WAuE5Bue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,8CAEa,SAApB,EAAKjC,MAAMiC,KACJ,+CAEJ,oDAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKgJ,sBAAtB,qBAEa,SAApB,EAAK/K,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK4gB,uBAAtB,sBAEJ,MA1BQ,EA6BnB5X,sBA7BmB,sBA6BK,sBAAA7K,EAAA,6DACpB,EAAKwP,SAAS,CAAEG,SAAS,IADL,kBAGV7L,EAAI+G,sBAAsB,EAAK/K,MAAMoE,MAH3B,OAKhB,EAAKsL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,mBACPsO,QAAQ,+DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKkO,WACL,EAAKze,MAAMwT,UAnBK,kDAqBhBhT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCzB,0DA7BL,EAmEnBwM,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SAzEA,EA6EnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SA/EI,EAkFnB1N,cAAgB,SAACC,GACb9O,QAAQC,IAAI6O,GACZ,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAxFJ,EA2FnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KA3FjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CAiGnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,sBAAKjQ,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM4T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,eAAgB4I,MAAOsF,MAC7EtF,MAAO5O,KAAKZ,MAAMoE,KAAKmC,oBAInC,sBAAK3G,UAAU,aAAf,UACI,oDACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAM2hB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAOsF,MAC1EtF,MAAO5O,KAAKZ,MAAMoE,KAAKqG,iBAInC,sBAAK7K,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAMwV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,UAAW4I,MAAOsF,MACxEtF,MAAO5O,KAAKZ,MAAMoE,KAAK4C,eAInC,sBAAKpH,UAAU,aAAf,UACI,uBAAOA,UAAU,GAAjB,6BACA,8BACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKZ,MAAMmiB,mBACpB1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,YAAa4I,MAAOsF,MAC1EtF,MAAO5O,KAAKZ,MAAMoE,KAAKoD,uBAO/C,eAACwH,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GApMrBpQ,IAAMK,WA0MZqR,eAAW8Q,IC3rBpB4F,G,kDACF,WAAY7nB,GAAQ,IAAD,8BAEf,cAAMA,IA8EVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAjFJ,EAoFnBkC,QApFmB,uCAoFT,WAAO/N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAI4G,yBAAyBnF,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHnJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACVG,SAAS,EACTqS,uBAAwBhe,EAAIE,KAAKqN,OAAOrN,KACxCic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAR9B,mDAYF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDApFS,4DA2InBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GArJQ,EAwJnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GAlKQ,EAqKnBqO,iBAAmB,WAGf,IAFA,IAAInW,EAAO,EAAKtL,MAAM0hB,YAClBtO,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAiC/H,EAAK+H,GAAhCvM,EAAN,EAAMA,UAAWH,EAAjB,EAAiBA,YACjByM,EAAQnD,KAAK,CACT/J,KAAMS,EACNmI,MAAOhI,IAGf,OAAOsM,GA/KQ,EAkLnBgU,eAAiB,WACb,MAAO,CAAC,CAAElhB,KAAM,IAAK4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,KAnLtC,EAsLnBwE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KA1LlB,EAuNnBkd,WAAa,SAAC3Q,GACV,EAAKpX,MAAM0Q,QAAQC,KAAK,wBAAxB,aACI/D,KAAM,EAAKlM,MAAMkM,MACd,EAAKlM,MAAMwhB,uBAAuB9K,MA1N1B,EA8NnB4Q,UAAY,SAAC5Q,GACT,EAAKpX,MAAM0Q,QAAQC,KAAK,gBAAxB,aACI/D,KAAM,EAAKlM,MAAMkM,MACd,EAAKlM,MAAMwhB,uBAAuB9K,MAjO1B,EAqOnBmL,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KAtOb,EAyOnB3D,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KAvO3B,EAAKpd,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVJ,YAAa,GACbF,uBAAwB,GACxBvhB,SAAU,OACVkK,gBAAiB,GAEjBnF,QAAS,IACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTjD,KAAM,EACN3K,KAAM,QAnBK,E,4FAuBnB,wCAAA/B,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,EACT5N,KAAMrB,KAAKZ,MAAMyQ,SAAS/P,OAASE,KAAKZ,MAAMyQ,SAAS/P,MAAMuB,OAHrE,kBAMsEyB,QAAQ+P,IAAI,CACtEzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAIkD,eAAe,EAAG,KACtBlD,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,YAVnD,2CAMawH,EANb,KAM6B4B,EAN7B,KAMwC2M,EANxC,KAMqDvM,EANrD,KAYYhL,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWoL,EAAQzR,KAAKqN,OAAOhH,WAEnC7J,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCge,YAAaA,EAAYhe,KAAKqN,OAAOrN,KACrCyG,gBAAiBA,EACjBJ,UAAWoL,EAAQzR,KAAKqN,OAAOhH,YArB3C,UAuBc7J,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,GAvBlD,6DAyBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA3BzC,wBA4BYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtCrD,2BA0CQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApDjD,0D,gFAyGA,WACI,IAAI1F,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,aACzCkE,UAAW7J,KAAKF,MAAMmK,gBAAgBJ,WAE1C7J,KAAK8O,SAAS,CACV7E,gBAAiBA,IAErBjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,K,6BAqDxC,WAAmB,IAAD,OACVqW,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMwhB,uBAAuB/K,KAAI,SAAC4K,EAAM3K,GAChD,IAAQ/P,EAAuC0a,EAAvC1a,YAAazH,EAA0BmiB,EAA1BniB,UAAWgG,EAAemc,EAAfnc,WAChC,OACI,+BACI,6BAAKsb,EAAU9J,IACf,6BAAK/P,IACL,6BAAKzH,IACL,6BAAKgG,IACL,6BAAK,EAAKlF,MAAMkM,OACK,SAApB,EAAKlM,MAAMuB,MACR,oBAAIrC,UAAU,cAAd,SACI,wBAAQA,UAAU,iBAAiBmC,QAAS,kBAAM,EAAKgmB,WAAW3Q,IAAlE,wCAGc,SAApB,EAAK1W,MAAMuB,MACT,oBAAIrC,UAAU,cAAd,SACI,wBAAQA,UAAU,iBAAiBmC,QAAS,kBAAM,EAAKimB,UAAU5Q,IAAjE,oCAbHA,Q,oBA2CrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,iDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAMA,UAAU,cAAhB,SACI,yBAAQsQ,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKigB,gBAA/E,UACI,cAAC,IAAD,CAAW5gB,KAAMR,KAAKF,MAAMC,WADhC,mCAMZ,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKknB,iBACdrT,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMkM,KAClBoE,SAAU,SAAA8D,GAAC,OAAI,EAAKpF,SAAS,CAAE9C,KAAMkI,SAI7C,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKuhB,mBACd1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBrD,UAClCwJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAAStQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKyR,WAArF,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,iDACA,0CACA,mDACA,kDACA,4BAIR,gCACKgB,KAAKsU,oC,GA1VPpV,aAqWnC+nB,GAAqB3lB,YAAc1C,EAEpB2R,mBAAW0W,ICxWpB1S,GAAM1V,IAAM2V,YAEZ8B,G,kDACF,WAAYlX,GAAQ,IAAD,8BACf,cAAMA,IAsEVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAxEJ,EA2EnBkC,QA3EmB,uCA2ET,WAAO3I,GAAP,eAAA3K,EAAA,yDACN,EAAKwP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK5U,MAAMmK,gBAAgB7D,QAH9B,uBAIE+I,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAOyF,YAAY,IAhB9C,0CAmBctR,EAAI0J,cAAc,EAAG,IAAS7C,GAAmB,EAAKnK,MAAMmK,iBAnB1E,OAmBE3G,EAnBF,OAoBF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACV4F,YAAY,EACZzF,SAAS,EACT8F,YAAazR,EAAIE,KAAKA,KACtB2R,gBAAiB7R,EAAIE,KAAK2R,kBAzB5B,qDA4BFvV,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DA3ES,wDAuInBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAjJQ,EAoJnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GA9JQ,EAiKnBE,sBAjKmB,uCAiKK,WAAOpN,EAAM4I,GAAb,iBAAAtP,EAAA,0DAEhB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ4I,EACX,iBAAT5I,EAJgB,wBAKhB,EAAK8I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CzK,EAAgB7D,aAAU4O,EANV,kBAQU5R,EAAIkH,gCAAgC,EAAG,IAASL,GAR1D,QAQR4K,EARQ,QASErR,KAAKqN,OAAOrN,KAAK1B,SAC3BmI,EAAgB7D,QAAUyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,SAE5D,EAAK0I,SAAS,CACVG,SAAS,EACT4F,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCyG,gBAAiBA,IAfT,kDAkBZ,EAAK6E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACX5K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAvBY,0DAjKL,wDAEf,EAAKC,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX5K,gBAAiB,GACjBlK,SAAU,OACVoV,gBAAiB,GACjBJ,YAAa,GACb3H,KAAM,IAAIE,MATC,E,4FAanB,sCAAAhO,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK8CnM,QAAQ+P,IAAI,CAC9CzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,YAPnD,2CAKawH,EALb,KAK6BgC,EAL7B,KASYhL,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FqG,KAAM,EACNnC,UAAWoL,EAAQzR,KAAKqN,OAAOhH,WAZ3C,UAckCzG,EAAIkH,gCAAgC,EAAG,IAASL,GAdlF,SAcYiL,EAdZ,QAe0B1R,KAAKqN,OAAOrN,KAAK1B,SAC/BmI,EAAgB7D,QAAU8O,EAAc1R,KAAKqN,OAAOrN,KAAK,GAAG4C,SAEhExG,QAAQC,IAAIoK,GACZjK,KAAK8O,SAAS,CACV+F,UAAWK,EAAc1R,KAAKqN,OAAOrN,KACrCyP,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CyG,gBAAiBA,EACjBgF,SAAS,IAvBrB,qDA0BQrP,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA5BzC,wBA6BYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCrD,2BA2CQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArDjD,0D,mFAgLA,WAEI,OAAO3P,KAAKF,MAAMiV,YAAYwB,KAAI,SAAC/S,EAAMgT,GACrC,IAAQ1O,EAAgEtE,EAAhEsE,YAAaG,EAAmDzE,EAAnDyE,OAAQF,EAA2CvE,EAA3CuE,QAAS8N,EAAkCrS,EAAlCqS,SAAUY,EAAwBjT,EAAxBiT,WAAY7J,EAAYpJ,EAAZoJ,QAC5D,OACI,+BACI,6BALE,EAKa4J,IACf,6BAAK1O,IACL,6BAAgB,IAAXG,EAAe,MAAQ,YAC5B,6BAAK4N,IACL,6BAAKjJ,IACL,6BAAK6J,IACL,6BAAK1O,MAPAyO,Q,oBAarB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,+DAKR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAcmR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAK1P,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDmB,UAAU,MAGlB,uBAAOrW,UAAU,OAAjB,+BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAElN,KAAM,mBAAU4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,IACrFiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB+B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,QAG1D,wBAAQ5E,KAAK,SAAStQ,UAAU,uBAAuBmC,QAAS,SAACuN,GAAQA,EAAEM,iBAAkB,EAAK4D,WAAlG,wCAGP5S,KAAKF,MAAM4U,YACR,sBAAK1V,UAAU,QAAf,UACI,cAAC,KAAD,CAAKsW,UAAWf,GAAKgB,SAAS,kBAAkBC,MAAO,GAAKC,EAAG,EAA/D,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAAStQ,UAAU,uBAAuBmC,QAASuU,EAAhE,+BAEpB,cAAC,KAAD,CACIgB,QAAS,WAEL,OAAO,wBAAQpH,KAAK,SAAStQ,UAAU,uBAAhC,kCAEX2X,QAAS,kBAAM,EAAKC,sBAKpC,uBACC5W,KAAKF,MAAM4U,YACR,qBAAKH,IAAKA,GAAK/S,MAAO,CAAEmU,SAAU,QAAlC,SACI,sBAAK/U,GAAG,SAAS2T,IAAK,SAAAsC,GAAE,OAAK,EAAKD,aAAeC,GAAK7X,UAAU,kBAAkBwC,MAAO,CAAEwP,MAAO,SAAlG,UACI,qBAAKhS,UAAU,MAAf,SACI,qBAAKA,UAAU,qCAAf,SACI,gCACI,mFAAuC,uBAD3C,6DAOR,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,2CADJ,IACkBgB,KAAKF,MAAM+U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEtI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,YAAYpG,KAAKF,MAAM+U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEtI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,WAASpH,aAEvL,uBAAMA,UAAU,YAAhB,UACI,mDADJ,IACyD,IAApCgB,KAAKF,MAAMmK,gBAAgB+B,KAAa,mBAAWhM,KAAKF,MAAMmK,gBAAgB+B,QAEnG,uBAAMhN,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMqV,wBAKrD,qBAAKnW,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oDACA,gDACA,mDACA,8DACA,qDACA,mDACA,qDAGR,gCACKgB,KAAKsU,2BAMtB,qBAAKtV,UAAU,oCAAf,SACI,sBAAKA,UAAU,kDAAf,qCACkBgB,KAAKF,MAAMsN,KAAKI,UADlC,aACoDxN,KAAKF,MAAMsN,KAAKM,WAAa,EADjF,aACyF1N,KAAKF,MAAMsN,KAAKO,cAAc,uBADvH,sCAEW,uBACP,uBACA,uBACA,uBACC3N,KAAKF,MAAMqV,iC,GA5VpBjW,aAuW5BoX,GAAchV,YAAc1C,EAEb2R,mBAAW+F,IC3WpB/B,GAAM1V,IAAM2V,YAEZsC,G,kDACF,WAAY1X,GAAQ,IAAD,8BACf,cAAMA,IAsEVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAxEJ,EA2EnBkC,QA3EmB,uCA2ET,WAAO3I,GAAP,eAAA3K,EAAA,yDACN,EAAKwP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK5U,MAAMmK,gBAAgB7D,QAH9B,uBAIE+I,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAOyF,YAAY,IAhB9C,0CAmBctR,EAAI2J,iBAAiB,EAAG,IAAS9C,GAAmB,EAAKnK,MAAMmK,iBAnB7E,OAmBE3G,EAnBF,OAoBF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACViE,UAAWzP,EAAIE,KAAKA,KACpB2R,gBAAiB7R,EAAIE,KAAK2R,gBAC1BlG,SAAS,EACTyF,YAAY,IAzBd,qDA4BF9U,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DA3ES,wDAuInBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GAjJQ,EAoJnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GA9JQ,EAiKnBE,sBAjKmB,uCAiKK,WAAOpN,EAAM4I,GAAb,iBAAAtP,EAAA,0DAChB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ4I,EACX,iBAAT5I,EAHgB,wBAIhB,EAAK8I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CzK,EAAgB7D,aAAU4O,EALV,kBAOU5R,EAAIkH,gCAAgC,EAAG,IAASL,GAP1D,QAOR4K,EAPQ,QAQErR,KAAKqN,OAAOrN,KAAK1B,SAC3BmI,EAAgB7D,QAAUyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,SAE5D,EAAK0I,SAAS,CACVG,SAAS,EACT4F,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCyG,gBAAiBA,IAdT,kDAiBZ,EAAK6E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACX5K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAtBY,0DAjKL,wDAEf,EAAKC,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX9U,SAAU,OACVkK,gBAAiB,GACjBkL,gBAAiB,GACjB/H,KAAM,IAAIE,KACVyF,UAAW,IATA,E,4FAanB,sCAAAzT,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK8CnM,QAAQ+P,IAAI,CAC9CzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,YAPnD,2CAKawH,EALb,KAK6BgC,EAL7B,KASYhL,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWoL,EAAQzR,KAAKqN,OAAOhH,UAC/BmC,KAAM,GAZlB,UAckC5I,EAAIkH,gCAAgC,EAAG,IAASL,GAdlF,SAcYiL,EAdZ,QAe0B1R,KAAKqN,OAAOrN,KAAK1B,SAC/BmI,EAAgB7D,QAAU8O,EAAc1R,KAAKqN,OAAOrN,KAAK,GAAG4C,SAGhEpG,KAAK8O,SAAS,CACV+F,UAAWK,EAAc1R,KAAKqN,OAAOrN,KACrCyP,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CyG,gBAAiBA,EACjBgF,SAAS,IAvBrB,qDA0BQrP,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA5BzC,wBA6BYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCrD,2BA2CQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArDjD,0D,mFA+KA,WAGI,IAFA,IAAI2D,EAAM,GACNlI,EAAOpL,KAAKF,MAAMiT,UACbI,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA8K/H,EAAK+H,GAA3K4D,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,QAASC,EAApC,EAAoCA,OAAQC,EAA5C,EAA4CA,OAAQC,EAApD,EAAoDA,MAAOC,EAA3D,EAA2DA,OAAQC,EAAnE,EAAmEA,IAAKC,EAAxE,EAAwEA,KAAM/Q,EAA9E,EAA8EA,YAAagR,EAA3F,EAA2FA,OAAQC,EAAnG,EAAmGA,MAAOC,EAA1G,EAA0GA,MAAOC,EAAjH,EAAiHA,SAAUC,EAA3H,EAA2HA,QAASC,EAApI,EAAoIA,QAASC,EAA7I,EAA6IA,OAAQC,EAArJ,EAAqJA,QAASC,EAA9J,EAA8JA,KAAMC,EAApK,EAAoKA,MACpK5E,EAAIvD,KACA,qBAAI/Q,UAAU,cAAd,UACI,oBAAIoV,QAAQ,IAAIpV,UAAU,eAA1B,SAA0CyH,IAC1C,yCACA,6BAAKyQ,IACL,6BAAKU,IACL,6BAAKR,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKb,IACL,6BAAKU,MAZwB1E,IAerCG,EAAIvD,KACA,qBAAI/Q,UAAU,cAAd,UACI,oCACA,6BAAK+X,IACL,6BAAKU,IACL,6BAAKR,IACL,6BAAKU,IACL,6BAAKJ,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKlB,IACL,6BAAKU,MAXwB,KAAOvE,IAehD,OAAOG,I,oBAIX,WAAU,IAAD,OACL,OAAItT,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,qEAKR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDmB,UAAU,MAGlB,uBAAOrW,UAAU,OAAjB,+BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAElN,KAAM,mBAAU4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,IACrFiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB+B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,QAG1D,wBAAQ5E,KAAK,SAAStQ,UAAU,uBAAuBmC,QAAS,SAACuN,GAAQA,EAAEM,iBAAkB,EAAK4D,WAAlG,wCAGP5S,KAAKF,MAAM4U,YACR,sBAAK1V,UAAU,QAAf,UACI,cAAC,KAAD,CAAKsW,UAAWf,GAAKgB,SAAS,qBAAqBC,MAAO,GAAKC,EAAG,EAAlE,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAAStQ,UAAU,uBAAuBmC,QAASuU,EAAhE,+BAEpB,cAAC,KAAD,CACIgB,QAAS,WAEL,OAAO,wBAAQpH,KAAK,SAAStQ,UAAU,uBAAhC,kCAEX2X,QAAS,kBAAM,EAAKC,sBAKpC,uBACC5W,KAAKF,MAAM4U,YACR,qBAAKH,IAAKA,GAAK/S,MAAO,CAAEmU,SAAU,QAAlC,SACI,sBAAK/U,GAAG,SAAS2T,IAAK,SAAAsC,GAAE,OAAK,EAAKD,aAAeC,GAAK7X,UAAU,kBAAkBwC,MAAO,CAAEwP,MAAO,SAAlG,UACI,qBAAKhS,UAAU,MAAf,SACI,qBAAKA,UAAU,qCAAf,SACI,gCACI,uGAAsCgB,KAAKF,MAAM+U,UAAU7U,KAAKF,MAAMsY,UAAW,uBADrF,6DAOR,qBAAKpZ,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,mDADJ,IACyD,IAApCgB,KAAKF,MAAMmK,gBAAgB+B,KAAa,mBAAWhM,KAAKF,MAAMmK,gBAAgB+B,QAEnG,uBAAMhN,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMqV,wBAKrD,qBAAKnW,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,qCAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIoV,QAAQ,IAAIC,QAAQ,MACxB,oBAAIA,QAAQ,IAAZ,uBACA,oBAAIA,QAAQ,IAAZ,oBACA,oBAAIA,QAAQ,IAAZ,2BACA,oBAAIA,QAAQ,IAAZ,sBACA,oBAAIA,QAAQ,IAAZ,uBAEJ,+BACI,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,0CAGR,gCACKrU,KAAKsU,2BAMtB,qBAAKtV,UAAU,oCAAf,SACI,sBAAKA,UAAU,kDAAf,qCACkBgB,KAAKF,MAAMsN,KAAKI,UADlC,aACoDxN,KAAKF,MAAMsN,KAAKM,WAAa,EADjF,aACyF1N,KAAKF,MAAMsN,KAAKO,cAAc,uBADvH,sCAEW,uBACP,uBACA,uBACA,uBACC3N,KAAKF,MAAMqV,iC,GA1XjBjW,aAoY/B4X,GAAiBxV,YAAc1C,EAEhB2R,mBAAWuG,ICjYpBuQ,G,kDACF,WAAYjoB,GAAQ,IAAD,8BACf,cAAMA,IA+EVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAjFJ,EAoFnBkC,QApFmB,uCAoFT,WAAO3I,GAAP,eAAA3K,EAAA,yDACN,EAAKwP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK5U,MAAMmK,gBAAgB7D,QAH9B,uBAIE+I,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAO8F,YAAa,KAhB/C,0CAmBc3R,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,iBAnBpF,OAmBE3G,EAnBF,OAoBF,EAAKwL,SAAS,CAAEG,SAAS,EAAO8F,YAAazR,EAAIE,KAAKqN,OAAOrN,KAAMkR,YAAY,IApB7E,qDAuBF9U,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAzB/B,wBA0BEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApC3C,2BAwCFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDvC,0DApFS,wDA2InBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GArJQ,EAwJnBE,sBAxJmB,uCAwJK,WAAOpN,EAAM4I,GAAb,iBAAAtP,EAAA,0DAChB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ4I,EACX,iBAAT5I,EAHgB,wBAIhB,EAAK8I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CzK,EAAgB7D,aAAU4O,EALV,kBAOU5R,EAAIkH,gCAAgC,EAAG,IAASL,GAP1D,cAOR4K,EAPQ,QAQErR,KAAKqN,OAAOrN,KAAK1B,SAC3BmI,EAAgB7D,QAAUyO,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAG4C,SAE5D,EAAK0I,SAAS,CACVG,SAAS,EACTmJ,MAAOvD,EAAUrR,KAAKqN,OAAOrN,KAAK1B,OAAS+S,EAAUrR,KAAKqN,OAAOrN,KAAK,GAAK,GAC3EyG,gBAAiBA,IAdT,UAgBN,EAAK2I,QAAQ3I,GAhBP,0DAkBZ,EAAK6E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACX5K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAvBY,0DAxJL,0DAiMnB8Q,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eApME,EA2NnB8U,SA3NmB,uCA2NR,WAAOjM,GAAP,iBAAAlX,EAAA,6DACH0J,EAAY,EAAKlJ,MAAMiV,YAAYyB,GAAOxN,UAC9C,EAAK8F,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,IANV,kBASiBja,EAAIkE,WAAW0B,GAThC,QAUHqK,GADIA,EATD,QAUe7P,KAAKqN,QACfzI,YAAc,IAAIkF,KAAK+F,EAAQjL,aACvCiL,EAAQ7K,YAAc,IAAI8E,KAAK+F,EAAQ7K,aACvC6K,EAAQ9K,YAAc,IAAI+E,KAAK+F,EAAQ9K,aACvC,EAAKuG,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHjK,KApBR,kDAwBHzT,QAAQC,IAAR,MACA,EAAKiP,SAAS,CACVoO,WAAW,EACXC,UAAW,OACXC,cAAc,IAElBjO,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCtC,0DA3NQ,wDAwQnB4N,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KAvQ3B,EAAKpd,MAAQ,CAETiV,YAAa,GACbjQ,QAAS,GACTmK,SAAS,EACTqO,UAAW,CACPtU,UAAW,EACXnB,YAAa,GACbC,YAAa,GACbC,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,iCACPC,YAAa,IAAIkF,KACjBjF,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI+E,KACjB9E,YAAa,IAAI8E,KACjBpM,YAAa,GACbuH,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,IAEhBoU,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACblI,gBAAiB,GACjBlC,eAAgB,GAChBhJ,gBAAiB,GACjBmO,MAAO,IApCI,E,4FAwCnB,sCAAA9Y,EAAA,6DACIU,KAAK8O,SAAS,CAAEG,SAAS,IAD7B,kBAG8CnM,QAAQ+P,IAAI,CAC9CzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,YALnD,2CAGawH,EAHb,KAG6BgC,EAH7B,KAOYhL,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWoL,EAAQzR,KAAKqN,OAAOhH,WAT3C,UAWkCzG,EAAIkH,gCAAgC,EAAG,IAASL,GAXlF,eAWYiL,EAXZ,QAY0B1R,KAAKqN,OAAOrN,KAAK1B,SAC/BmI,EAAgB7D,QAAU8O,EAAc1R,KAAKqN,OAAOrN,KAAK,GAAG4C,SAEhEpG,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3C2R,gBAAiBF,EAAQzR,KAAKqN,OAC9B5G,gBAAiBA,EACjBmO,MAAOlD,EAAc1R,KAAKqN,OAAOrN,KAAK1B,OAASoT,EAAc1R,KAAKqN,OAAOrN,KAAK,GAAK,GACnFyL,SAAS,IApBrB,UAsBcjP,KAAK4S,QAAQ3I,GAtB3B,0DAwBQrK,QAAQC,IAAR,MACAsP,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCjD,0D,qFA4IA,WACI,OACI,+BACI,qCACA,6DACA,gDACA,8CACA,mDACA,oD,6BAcZ,WAAmB,IAAD,OAEd,OAAO3P,KAAKF,MAAMiV,YAAYwB,KAAI,SAAC4K,EAAM3K,GACrC,IAAQ3O,EAA2DsZ,EAA3DtZ,YAAaC,EAA8CqZ,EAA9CrZ,YAAaM,EAAiC+Y,EAAjC/Y,YAAaH,EAAoBkZ,EAApBlZ,OAAQF,EAAYoZ,EAAZpZ,QACvD,OACI,+BACI,6BALE,EAKayO,IACf,6BAAI,sBAAMxX,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmG3O,MACvG,6BAAI,sBAAM7I,UAAU,eAAewC,MAAO,CAAEkhB,OAAQ,WAAavhB,QAAS,kBAAM,EAAKshB,SAASjM,IAA1F,SAAmG1O,MACvG,6BAAK,EAAK6I,WAAW,IAAIrD,KAAKlF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,MANAyO,Q,oBA6DrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAMod,UACjB7b,KAAMrB,KAAKF,MAAMqd,UACjBhB,MAAOnc,KAAKud,WACZ/Z,KAAMxD,KAAKF,MAAMwd,UACjBrO,QAASjP,KAAKF,MAAMsd,aACpBI,QAAS,SAACha,GAAD,OAAU,EAAKsL,SAAS,CAAEwO,UAAW9Z,EAAM6Z,aAAa,KACjElE,OAAQnZ,KAAKF,MAAMud,YACnBzK,QAAS5S,KAAK4S,UAElB,qBAAK5T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,gEAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,eAM9E,uBACClU,KAAKF,MAAM4U,YACR,gCACI,qBAAK1V,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,2CADJ,IACkBgB,KAAKF,MAAMsY,MAAMpZ,aAEnC,uBAAMA,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMmT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE/I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMqV,gBAAgB1L,oBAIrE,uBACA,qBAAKjI,MAAO,CAAEmf,UAAW,SAAzB,SACI,eAACgC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,uBAAO9jB,UAAU,eAAjB,SACKgB,KAAK4e,sBAEV,gCAAQ5e,KAAKsU,mC,GAvVPzV,IAAMK,WAiWtCue,G,kDACF,WAAYre,GAAQ,IAAD,8BACf,cAAMA,IAQVse,SAAW,WACP,MAAwB,QAApB,EAAKte,MAAMiC,KACJ,wBAEa,SAApB,EAAKjC,MAAMiC,KACJ,yBAEJ,8BAhBQ,EAmBnBsc,UAAY,WACR,MAAwB,QAApB,EAAKve,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAKyG,WAAtB,qBAEa,SAApB,EAAKxI,MAAMiC,KACJ,cAACsb,GAAA,EAAD,CAAQxb,QAAS,EAAK4H,YAAtB,sBAEJ,MA1BQ,EA6BnBoT,MAAQ,WACA,EAAK/c,MAAM+Z,OACX,EAAKrK,SAAS,CACV+K,aAAa,IAGjB,EAAKza,MAAM+c,SAnCA,EAuCnB0B,SAAW,WACP,EAAK/O,SAAS,CAAE+K,aAAa,IAC7B,EAAKza,MAAM+c,SAzCI,EA4CnB1N,cAAgB,SAACC,GAEb,IAAI1I,EAAO0I,EAAEC,OAAO3I,KAChB4I,EAAQF,EAAEC,OAAOC,MACjBpL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ4I,EACb,EAAKxP,MAAMoe,QAAQha,IAlDJ,EAqDnBoW,aAAe,WACX,EAAK9K,SAAS,CACV+K,aAAa,KArDjB,EAAK/Z,MAAQ,CACT+Z,aAAa,EACbxK,QAAS,mEACTJ,SAAS,GALE,E,0CA2DnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO5N,KAAK,KAAK6N,KAAMrO,KAAKZ,MAAMiP,KAAMyP,OAAQ9d,KAAKmc,MAAO4B,UAAQ,EAACzP,SAAS,SAASmO,UAAU,EAAjG,UACI,cAACrO,EAAA,EAAMjP,OAAP,CAAc6e,aAAW,EAAzB,SACI,cAAC5P,EAAA,EAAMsO,MAAP,UAAc1c,KAAK0d,eAEvB,eAACtP,EAAA,EAAMG,KAAP,WACKvO,KAAKZ,MAAM6P,SAAW,qBAAKjQ,UAAU,gDAAgDwC,MAAO,CAAEyP,OAAQ,SAAhF,SACnB,qBAAKjS,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM6P,SACT,qBAAKjQ,UAAU,kBAAf,SACI,eAACif,GAAA,EAAD,WACI,sBAAKjf,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,yCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKsE,YAEvBuW,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,kCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,gCACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKqE,YAEvBwW,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAK4E,YAC1BkX,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,8CACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK8E,YACvB8H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACI4E,GAAG,SACHhd,KAAK,SACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKiD,YACvB2J,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,KALzB,UAOI,wBAAQuN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIZ,qBAAK5P,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,QACLtJ,KAAK,QACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK6E,MACvB+H,SAAUpQ,KAAKyO,cACfwF,YAAY,kBACZoK,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,sBAAKA,UAAU,MAAf,UACI,cAACif,GAAA,EAAKC,MAAN,UACI,cAACD,GAAA,EAAKE,MAAN,yBAEJ,qBAAKrN,IAAKnP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO4I,IAAI,SAASvP,MAAO,CAAEwP,MAAO,OAAQC,OAAQ,aAE7G,qBAAKjS,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,mCACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKiF,WACvB2H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,yBACZjO,KAAK,MACL4I,MAAO5O,KAAKZ,MAAMoE,KAAK0E,IACvBkI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKkF,YACvB0H,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,qBACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKwE,mBACvBoI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,0BACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKmF,WACvByH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,0CACZjO,KAAK,UACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKuE,QACvBqI,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,mCACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKoF,WACvBwH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAKgF,YAC1B4H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAE3I,KAAM,cAAe4I,MAAOA,MAC9E0Q,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,sDACZjO,KAAK,cACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKqF,YACvBuH,SAAUpQ,KAAKyO,cACf4P,SAA8B,SAApBre,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKnf,UAAU,QAAf,SACI,cAAC,KAAD,CACIqgB,SAAUrf,KAAKZ,MAAMoE,KAAK+E,YAC1B+W,WAAW,aACXtgB,UAAU,qBACVqf,SAA8B,SAApBre,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAACif,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACI9O,KAAK,OACL2E,YAAY,0BACZjO,KAAK,aACL4I,MAAO5O,KAAKZ,MAAMoE,KAAKsF,WACvBuV,SAA8B,SAApBre,KAAKZ,MAAMiC,uBASrD,eAAC+M,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKmc,MAA1C,sBACCnc,KAAK2d,kBAId,eAACvP,EAAA,EAAD,CAAOC,KAAMrO,KAAKF,MAAM+Z,YAAavL,SAAS,SAASmO,UAAU,EAAjE,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,iCAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACKgB,KAAKF,MAAMuP,YAGpB,eAACjB,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAK4Z,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAASnB,KAAK6d,SAAvC,gCAGR,cAAC,EAAD,CAASxP,KAAMrO,KAAKF,MAAMmP,iB,GA/VrBpQ,IAAMK,WAqW3BmoB,GAAwB/lB,YAAc1C,EACvB2R,mBAAW8W,IC7sBpBC,G,kDACF,WAAYloB,GAAQ,IAAD,8BACf,cAAMA,IAwEVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UA1EJ,EAmFnBkC,QAnFmB,sBAmFT,4CAAAtT,EAAA,6DACFgZ,EAAO,EAAKlZ,MAAMyQ,SAAS/P,MAC/B,EAAKgP,SAAS,CAAEG,SAAS,IAFnB,kBAIgC7L,EAAI4H,wBAAwB,EAAG,IAAS,CACtErF,aAAc2S,EAAK3S,aACnBS,QAASkS,EAAKlS,UANhB,OAWF,IAHAmS,GAJIA,EAJF,QAQ4C/U,KAAKqN,OAAOrN,KAEtDgV,EAAU,GACLrF,EAAI,EAAGA,EAAIoF,EAAsBzW,OAAQqR,IAC9CqF,EAAQzI,KACJ3M,EAAIkJ,gBAAgBiM,EAAsBpF,GAAGnK,UAAWsP,EAAK1R,UAAW0R,EAAK3S,aAAc2S,EAAKtM,OAbtG,iBAgBoBlJ,QAAQ+P,IAAI2F,GAhBhC,QAgBEzF,EAhBF,OAkBE3H,EAAO,GACF+H,EAAI,EAnBX,aAmBcA,EAAIJ,EAAUjR,QAnB5B,iBAoBEsJ,EAAK2E,KAAL,2BACOwI,EAAsBpF,IAD7B,IAEIsF,WAAY,GACZC,QAAS,GACTC,QAAS,GACTC,UAAW,MAEXC,EAAS9F,EAAUI,GAAG3P,KAAKqV,OACtBC,EAAI,EA5Bf,aA4BkBA,EAAID,EAAO/W,QA5B7B,sBA6Bc+W,EAAOC,GAAGzX,KA7BxB,OA8Be,IA9Bf,QAgCe,IAhCf,QAkCe,IAlCf,QAoCe,IApCf,gCA8BkB+J,EAAK+H,GAAGsF,WAAW1I,KAAK8I,EAAOC,IA9BjD,oCAgCkB1N,EAAK+H,GAAGuF,QAAQ3I,KAAK8I,EAAOC,IAhC9C,oCAkCkB1N,EAAK+H,GAAGwF,QAAQ5I,KAAK8I,EAAOC,IAlC9C,oCAoCkB1N,EAAK+H,GAAGyF,UAAYC,EAAOC,GApC7C,6BA4BqCA,IA5BrC,wBAyCE,KAAO1N,EAAK+H,GAAGsF,WAAW3W,OAAS,GAC/BsJ,EAAK+H,GAAGsF,WAAW1I,KAAK,CACpB1O,KAAM,EACNsE,aAAc2S,EAAK3S,aACnBgP,MAAO,GACP3L,UAAWuP,EAAsBpF,GAAGnK,UACpCpC,UAAW0R,EAAK1R,UAChBiD,UAAWyO,EAAKzO,UAChBmC,KAAMsM,EAAKtM,OAGnB,KAAOZ,EAAK+H,GAAGuF,QAAQ5W,OAAS,GAC5BsJ,EAAK+H,GAAGuF,QAAQ3I,KAAK,CACjB1O,KAAM,EACNsE,aAAc2S,EAAK3S,aACnBgP,MAAO,GACP3L,UAAWuP,EAAsBpF,GAAGnK,UACpCpC,UAAW0R,EAAK1R,UAChBiD,UAAWyO,EAAKzO,UAChBmC,KAAMsM,EAAKtM,OAGnB,KAAOZ,EAAK+H,GAAGwF,QAAQ7W,OAAS,GAC5BsJ,EAAK+H,GAAGwF,QAAQ5I,KAAK,CACjB1O,KAAM,EACNsE,aAAc2S,EAAK3S,aACnBgP,MAAO,GACP3L,UAAWuP,EAAsBpF,GAAGnK,UACpCpC,UAAW0R,EAAK1R,UAChBiD,UAAWyO,EAAKzO,UAChBmC,KAAMsM,EAAKtM,OAGdZ,EAAK+H,GAAGyF,UAAUG,UACnB3N,EAAK+H,GAAGyF,UAAY,CAChBvX,KAAM,EACNsE,aAAc2S,EAAK3S,aACnBgP,MAAO,GACP3L,UAAWuP,EAAsBpF,GAAGnK,UACpCpC,UAAW0R,EAAK1R,UAChBiD,UAAWyO,EAAKzO,UAChBmC,KAAMsM,EAAKtM,OAlFrB,QAmBoCmH,IAnBpC,wBAsFFvT,QAAQC,IAAIuL,GACZ,EAAK0D,SAAS,CACVG,SAAS,EACT8D,UAAW3H,IAzFb,qDA4FFxL,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA9F/B,wBA+FEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzG3C,2BA6GFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvHvC,0DAnFS,EAyPnBmK,WAAa,WACT,IAAItW,EAAO,GACXA,EAAKuM,KAAK,CAAC,MAAO,OAAQ,iBAAU,aAAS,GAAI,GAAI,GAAI,GAAI,aAAW,GAAI,GAAI,GAAI,GAAI,cAAU,GAAI,GAAI,QAC1F,EAAKjQ,MAAMiT,UACjBgH,SAAQ,SAACpF,EAAO6B,GACtB,IAAIlD,EAAM,CAACkD,EAAQ,EAAG7B,EAAM9M,YAAa8M,EAAM7M,aAC3C2Q,EAAa9D,EAAM8D,WAAWlC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SAC/CrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASmF,IACZ,IAAIC,EAAU/D,EAAM+D,QAAQnC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SACzCrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASoF,IACZ,IAAIC,EAAUhE,EAAMgE,QAAQpC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SACzCrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASqF,IACZrF,EAAIvD,KAAK4E,EAAMiE,UAAUjE,OACzBnR,EAAKuM,KAAKuD,MAEd,IAAI0G,EAAKC,KAAKC,MAAMC,aAAa3W,GACjCwW,EAAG,WAAa,CACZ,CACII,EAAG,CAAEC,EAAG,EAAGC,EAAG,GACd5L,EAAG,CAAE2L,EAAG,EAAGC,EAAG,IAElB,CACIF,EAAG,CAAEC,EAAG,EAAGC,EAAG,GACd5L,EAAG,CAAE2L,EAAG,EAAGC,EAAG,KAElB,CACIF,EAAG,CAAEC,EAAG,EAAGC,EAAG,IACd5L,EAAG,CAAE2L,EAAG,EAAGC,EAAG,MAGtB,IAAMC,EAAKN,KAAKC,MAAMM,WACtBP,KAAKC,MAAMO,kBAAkBF,EAAIP,EAAI,SAErCC,KAAKS,UAAUH,EAAI,eAxRnB,EAAKza,MAAQ,CACTmP,SAAS,EACTqJ,KAAM,GACNvF,UAAW,GACXoG,QAAQ,EACRK,eAAe,EACfK,aAAa,GARF,E,4FAYnB,mCAAAva,EAAA,yDACIU,KAAK8O,SAAS,CACVG,SAAS,IAGRjP,KAAKZ,MAAMyQ,SAAS/P,MAL7B,uBAMQE,KAAKZ,MAAM0Q,QAAQC,KAAK,0BAA2B,CAC/C1O,KAAM,SAPlB,iCAYIrB,KAAKgc,QAAUhc,KAAKZ,MAAM0Q,QAAQmM,OAAM,SAAAC,GACpC,OAAK,EAAKpc,MAAMqZ,QAIZ,EAAKrK,SAAS,CACV+K,aAAa,KAEV,IANP,EAAKmC,WACE,MAQX1D,EAAOtY,KAAKZ,MAAMyQ,SAAS/P,MAC/BE,KAAK8O,SAAS,CAAEwJ,KAAMA,IAxB1B,mBA0BctY,KAAK4S,UA1BnB,QA2BQ5S,KAAK8O,SAAS,CAAEG,SAAS,IA3BjC,qDA6BQrP,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA/BzC,wBAgCYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1CrD,2BA8CQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxDjD,0D,wFAiEA,WACQ3P,KAAKgc,SACLhc,KAAKgc,Y,6BAgIb,WAAmB,IAAD,OAEd,OAAOhc,KAAKF,MAAMiT,UAAUwD,KAAI,SAAC/S,EAAMgT,GAGnC,IAFA,IAAQ3O,EAAsErE,EAAtEqE,YAAaC,EAAyDtE,EAAzDsE,YAAa2Q,EAA4CjV,EAA5CiV,WAAYC,EAAgClV,EAAhCkV,QAASC,EAAuBnV,EAAvBmV,QAASC,EAAcpV,EAAdoV,UAC5DxN,EAAO,GAFkC,WAGpC+H,GACL/H,EAAK2E,KACD,oBAAI/Q,UAAU,WAAd,SACI,uBAAOqW,UAAQ,EAACrW,UAAU,2BAA2BsQ,KAAK,OAAOV,MAAO6J,EAAWtF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OADlH,QAAUyE,KAFvCA,EAAI,EAAGA,EAAIsF,EAAW3W,OAAQqR,IAAM,EAApCA,GAOT,IAV6C,eAUpCA,GACL/H,EAAK2E,KACD,oBAAI/Q,UAAU,WAAd,SACI,uBAAOqW,UAAQ,EAACrW,UAAU,2BAA2BsQ,KAAK,OAAOV,MAAO8J,EAAQvF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OAD/G,UAAYyE,KAFzCA,EAAI,EAAGA,EAAIuF,EAAQ5W,OAAQqR,IAAM,EAAjCA,GAOT,IAjB6C,eAiBpCA,GACL/H,EAAK2E,KACD,oBAAI/Q,UAAU,WAAd,SACI,uBAAOqW,UAAQ,EAACrW,UAAU,2BAA2BsQ,KAAK,OAAOV,MAAO+J,EAAQxF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OAD/G,UAAYyE,KAFzCA,EAAI,EAAGA,EAAIwF,EAAQ7W,OAAQqR,IAAM,EAAjCA,GAYT,OALA/H,EAAK2E,KACD,oBAAI/Q,UAAU,WAAd,SACI,uBAAOqW,UAAQ,EAACrW,UAAU,2BAA2BsQ,KAAK,OAAOV,MAAOgK,EAAUjE,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAG,EAAG9H,OAD9G,eAK9B,+BACI,6BAhCE,EAgCa8H,IACf,6BAAK3O,IACL,6BAAKC,IACJsD,IAJIoL,Q,oBAiDrB,WAAU,IAAD,OAEL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAQhB,sBAAKA,UAAU,kBAAf,UACI,cAAC,GAAD,CACIqP,KAAMrO,KAAKF,MAAM+Z,YACjBsC,MAAOnc,KAAK4Z,aACZoC,QAAShc,KAAKgc,QACdtL,OAAQ1Q,KAAKyQ,OAEjB,cAAC,EAAD,CAASpC,KAAMrO,KAAKF,MAAM0Z,gBAC1B,qBAAKxa,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,8CAKR,sBAAKA,UAAU,WAAf,UACI,sBAAKA,UAAU,aAAf,UACI,uBAAMA,UAAU,oBAAhB,UACI,oDAAiBgB,KAAKF,MAAMwY,KAAKtT,cAErC,uBAAMhG,UAAU,oBAAhB,UACI,2CAAagB,KAAKF,MAAMwY,KAAKtZ,aAEjC,uBAAMA,UAAU,oBAAhB,UACI,mDAAgBgB,KAAKF,MAAMwY,KAAKtM,QAGpC,uBAAMhN,UAAU,eAAhB,UACI,yCAAagB,KAAKF,MAAMwY,KAAK7R,kBAGrC,qBAAKzH,UAAU,QAAf,SACI,wBAAQsQ,KAAK,SAAStQ,UAAU,kBAAkBmC,QAAS,kBAAM,EAAK2Y,cAAtE,gDAGR,uBACA,qBAAK9a,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,sBAAMA,UAAU,cAAhB,SACI,wBAAOA,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,sCACA,gDACA,oBAAIqV,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,0CAGR,gCACKrU,KAAKsU,oC,GAvWhBpV,aAkXpBsd,G,kDACF,WAAYpd,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,CACTmP,SAAS,GAHE,E,0CAMnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMrO,KAAKZ,MAAMiP,KAAMC,SAAS,SAASmO,UAAU,EAA1D,UACI,cAACrO,EAAA,EAAMjP,OAAP,UACI,cAACiP,EAAA,EAAMsO,MAAP,0CAEJ,cAACtO,EAAA,EAAMG,KAAP,UACI,qBAAKvP,UAAU,YAAf,SACK,iIAGT,eAACoP,EAAA,EAAMrP,OAAP,WACI,cAAC4d,GAAA,EAAD,CAAQrc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM+c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQrc,QAAQ,SAASa,QAAS,WAAQ,EAAK/B,MAAM4c,UAAW,EAAK5c,MAAMsR,UAA3E,4BAGR,cAAC,EAAD,CAASrC,KAAMrO,KAAKF,MAAMmP,iB,GAxBpBpQ,IAAMK,WA+BbqR,eAAW+W,ICnZpB/S,GAAM1V,IAAM2V,YACZ+S,G,kDACF,WAAYnoB,GAAQ,IAAD,8BACf,cAAMA,IAqEVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAvEJ,EA0EnBkC,QA1EmB,uCA0ET,WAAO3I,GAAP,yBAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,kBAI4BtR,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,iBAJlG,UAKgD,KAD9C6I,EAJF,QAKoBtP,KAAKqN,OAAOrN,KAAK1B,OALrC,uBAMEqN,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,4FACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CACVG,SAAS,EACTyF,YAAY,IApBlB,2CAwBgC5R,QAAQ+P,IAAI,CAC1CzP,EAAI2K,OAAO9D,GAAmB,EAAKnK,MAAMmK,iBACzC7G,EAAI4J,uBAAuB/C,GAAmB,EAAKnK,MAAMmK,iBACzD7G,EAAIkH,gCAAgC,EAAG,IAASL,GAAmB,EAAKnK,MAAMmK,mBA3BhF,qCAwBG3G,EAxBH,KAwBQqR,EAxBR,KAwBeM,EAxBf,KA6BFrV,QAAQC,IAAIyD,EAAKqR,GACjB,EAAK7F,SAAS,CACVmG,QAASA,EAAQzR,KAAKqN,OAAOrN,KAAK,GAClCsP,kBAAmBA,EAAkBtP,KAAKqN,OAAOrN,KAAK,GACtDuP,UAAW4B,EAAMnR,KAAKA,KACtBiR,IAAKnR,EAAIE,KACTkR,YAAY,EACZzF,SAAS,IApCX,kDAuCFrP,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnDvC,0DA1ES,wDAkInBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GA5IQ,EA+InBE,sBA/ImB,uCA+IK,WAAOpN,EAAM4I,GAAb,iBAAAtP,EAAA,0DAEhB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ4I,EACX,iBAAT5I,EAJgB,wBAKhB,EAAK8I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAL3B,kBAOkBtR,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,iBAPxF,OAQsC,KAD9C6I,EAPQ,QAQUtP,KAAKqN,OAAOrN,KAAK1B,QACnCqN,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,4FACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAG7C,EAAKb,SAAS,CACVG,SAAS,EACT6D,kBAAmBA,EAAkBtP,KAAKqN,OAAOrN,KAAK,GACtDyG,gBAAiBA,IAzBT,kDA4BZ,EAAK6E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACXE,YAAa,GACb9K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAlCY,0DA/IL,0DAsLnB8Q,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAvLb,EAAK7N,MAAQ,CACTmT,eAAgB,GAChBlT,SAAU,OACVkK,gBAAiB,GACjB8K,YAAa,GACbF,UAAW,GACX5F,SAAS,EACTyF,YAAY,EACZ3B,UAAW,GACX0B,IAAK,GACLrH,KAAM,IAAIE,KACV2H,QAAS,IAbE,E,4FAiBnB,oCAAA3V,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,IAFjB,kBAK8CnM,QAAQ+P,IAAI,CAC9CzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAImE,iBAAiBvH,KAAKP,QAAQQ,KAAKwL,YAPnD,oCAKawH,EALb,KAK6BI,EAL7B,KASYpJ,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FqD,UAAWqK,EAAQ7P,KAAKqN,OAAO7H,WAEnCpJ,QAAQC,IAAIoK,GACZjK,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CyG,gBAAiBA,EACjBgF,SAAS,EACToE,QAASA,EAAQ7P,KAAKqN,SAlBlC,qDAqBQjR,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFA8KA,WAGI,IAFA,IAAIoD,EAAY/S,KAAKF,MAAMiT,UACvBO,EAAM,GACDH,EAAI,EAAGA,EAAIJ,EAAUjR,OAAQqR,IAAK,CACvC,MAA0EJ,EAAUI,GAA9E1M,EAAN,EAAMA,YAAa8M,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,OAAQC,EAAnC,EAAmCA,UAAWC,EAA9C,EAA8CA,UAAWC,EAAzD,EAAyDA,aACzDL,EAAIvD,KACA,qBAAI/Q,UAAU,cAAd,UACI,6BAAKmU,EAAI,IACT,6BAAK1M,IACL,6BAAK8M,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,IACL,6BAAKC,IACL,6BAAKC,MAjCwBR,IAqCzC,OAAOG,I,oBAGX,WAAU,IAAD,OACL,GAAItT,KAAKF,MAAMmP,QACX,OACI,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOpB,IAAMyV,EAAQzU,KAAKF,MAAb2U,IACFpB,EAAUrT,KAAKF,MAAMuT,QACrB+B,EAASpV,KAAKF,MAAMgT,kBACxB,OACI,sBAAK9T,UAAU,kBAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,wDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAKA,UAAU,cAAf,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,wBAAQ/S,QAAS,kBAAM,EAAKyR,WAAWtD,KAAK,SAAStQ,UAAU,0BAA/D,6CACCgB,KAAKF,MAAM4U,YACR,qBAAK1V,UAAU,QAAf,SACI,cAAC,KAAD,CAAKsW,UAAWf,GAAKgB,SAAS,qBAAqBC,MAAO,IAAMC,EAAG,EAAnE,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAAStQ,UAAU,uBAAuBmC,QAASuU,EAAhE,oEAQxC,uBACC1V,KAAKF,MAAM4U,YACR,qBAAKH,IAAKA,GAAKvV,UAAU,SAASwC,MAAO,CAAEmU,SAAU,QAArD,SACI,sBAAKnU,MAAO,CAAEwP,MAAO,SAAWhS,UAAU,kBAA1C,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,+BAAf,SACI,gCACI,mFAA6B,uBADjC,6DAMR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,kDAAf,SACI,gCACI,gDAAkBqU,EAAQvL,iBAGlC,qBAAK9I,UAAU,kDAAf,SACI,gCACI,+CAAmBgB,KAAK2Q,WAAW,IAAIrD,KAAK+F,EAAQjL,mBAG5D,qBAAKpJ,UAAU,kDAAf,SACI,gCACI,2CADJ,QACsBoW,EAAOpW,eAGjC,qBAAKA,UAAU,kDAAf,SACI,gCACI,oDAAiBoW,EAAOpQ,mBAIpC,qBAAKhG,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,6CAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIoV,QAAQ,IAAZ,iBACA,oBAAIA,QAAQ,IAAIpV,UAAU,UAA1B,6BACA,oBAAIqV,QAAQ,KAAZ,gCACA,oBAAIA,QAAQ,KAAZ,gCACA,oBAAID,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,4BAEJ,+BACI,oBAAIC,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,qCACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,2CAGR,gCACKrU,KAAKsU,2BAKtB,qBAAKtV,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oDACA,8DACA,mDACA,qDACA,oDACA,gDACA,yDACA,iEAGR,kCACI,qBAAIA,UAAU,cAAd,UACI,oDACA,6BAAKyV,EAAImB,QAAQC,WACjB,6BAAKpB,EAAImB,QAAQE,aACjB,6BAAKrB,EAAImB,QAAQG,eACjB,6BAAKtB,EAAImB,QAAQI,OACjB,6BAAKvB,EAAImB,QAAQ7U,QACjB,6BAAK0T,EAAImB,QAAQK,cACjB,6BAAKxB,EAAImB,QAAQM,iBAErB,qBAAIlX,UAAU,cAAd,UACI,oDACA,6BAAKyV,EAAI0B,QAAQN,WACjB,6BAAKpB,EAAI0B,QAAQL,aACjB,6BAAKrB,EAAI0B,QAAQJ,eACjB,6BAAKtB,EAAI0B,QAAQH,OACjB,6BAAKvB,EAAI0B,QAAQpV,QACjB,6BAAK0T,EAAI0B,QAAQF,cACjB,6BAAKxB,EAAI0B,QAAQD,iBAErB,qBAAIlX,UAAU,cAAd,UACI,kDACA,6BAAKyV,EAAI2B,QAAQP,WACjB,6BAAKpB,EAAI2B,QAAQN,aACjB,6BAAKrB,EAAI2B,QAAQL,eACjB,6BAAKtB,EAAI2B,QAAQJ,OACjB,6BAAKvB,EAAI2B,QAAQrV,QACjB,6BAAK0T,EAAI2B,QAAQH,cACjB,6BAAKxB,EAAI2B,QAAQF,2BAMrC,qBAAKlX,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oBAAIqV,QAAQ,IAAZ,iCACA,oBAAIA,QAAQ,IAAZ,iCACA,oBAAIA,QAAQ,IAAZ,uDAGR,kCACI,qBAAIrV,UAAU,YAAd,UACI,oBAAIqV,QAAQ,MACZ,qBAAIA,QAAQ,IAAZ,UAAiBI,EAAImB,QAAQ/I,KAA7B,IAAoC,KAApC,IAA2C4H,EAAI0B,QAAQtJ,QACvD,qBAAIwH,QAAQ,IAAZ,iDACiB,uBAAOI,EAAI2B,QAAQC,UADpC,6BAKJ,qBAAIrX,UAAU,cAAd,UACI,oBAAIqV,QAAQ,IAAZ,SACI,6DAEJ,qBAAIA,QAAQ,IAAZ,qCACkBrU,KAAKF,MAAMsN,KAAKI,UAAY,GAAK,IAAMxN,KAAKF,MAAMsN,KAAKI,UAAYxN,KAAKF,MAAMsN,KAAKI,UADrG,aACuHxN,KAAKF,MAAMsN,KAAKM,WAAa,EAAI,KAAO1N,KAAKF,MAAMsN,KAAKM,WAAa,GAAK1N,KAAKF,MAAMsN,KAAKM,WAAa,EAD9N,aACsO1N,KAAKF,MAAMsN,KAAKO,cAAc,uBADpQ,sCAEL,uBACS,uBACA,uBACA,uBACA,uBACC3N,KAAKF,MAAMmV,QAAQxL,wC,GArb/CvK,aAoczBqoB,GAAWjmB,YAAc1C,EAEV2R,mBAAWgX,ICrcpBN,G,kDACF,WAAY7nB,GAAQ,IAAD,8BAEf,cAAMA,IA8EVqR,KAAO,WACH,EAAKrR,MAAM0Q,QAAQY,UAjFJ,EAoFnBkC,QApFmB,uCAoFT,WAAO/N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKwP,SAAS,CAAEG,SAAS,IADnB,kBAGc7L,EAAI4G,yBAAyBnF,GAAQ,EAAK/E,MAAM2f,WAAWC,YAAa5a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHnJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKwL,SAAS,CACVG,SAAS,EACTqS,uBAAwBhe,EAAIE,KAAKqN,OAAOrN,KACxCic,WAAYnc,EAAIE,KAAKqN,OAAO4O,aAR9B,mDAYF7f,QAAQC,IAAR,MACA,EAAKiP,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeEgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDApFS,4DA2InBqD,oBAAsB,WAGlB,IAFA,IAAI5H,EAAO,EAAKtL,MAAMmT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAmC/H,EAAK+H,GAAlCxN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBkO,EAAQnD,KAAK,CACT/J,KAAMhB,EACN4J,MAAOjJ,IAGf,OAAOuN,GArJQ,EAwJnB0B,eAAiB,WAGb,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAA6B/H,EAAK+H,GAA5B/M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfkU,EAAQnD,KAAK,CACT/J,KAAMhH,EACN4P,MAAOxI,IAGf,OAAO8M,GAlKQ,EAqKnBqO,iBAAmB,WAGf,IAFA,IAAInW,EAAO,EAAKtL,MAAM0hB,YAClBtO,EAAU,GACLC,EAAI,EAAGA,EAAI/H,EAAKtJ,OAAQqR,IAAK,CAClC,MAAiC/H,EAAK+H,GAAhCvM,EAAN,EAAMA,UAAWH,EAAjB,EAAiBA,YACjByM,EAAQnD,KAAK,CACT/J,KAAMS,EACNmI,MAAOhI,IAGf,OAAOsM,GA/KQ,EAkLnBgU,eAAiB,WACb,MAAO,CAAC,CAAElhB,KAAM,IAAK4I,MAAO,GAAK,CAAE5I,KAAM,IAAK4I,MAAO,KAnLtC,EAsLnBwE,sBAAwB,SAACpN,EAAM4I,GAC3BhP,QAAQC,IAAImG,EAAM4I,GAClB,IAAI3E,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ4I,EACxB,EAAKE,SAAS,CAAE7E,gBAAiBA,KA1LlB,EAuNnBkd,WAAa,SAAC3Q,GACV,EAAKpX,MAAM0Q,QAAQC,KAAK,wBAAxB,aACI/D,KAAM,EAAKlM,MAAMkM,MACd,EAAKlM,MAAMwhB,uBAAuB9K,MA1N1B,EA8NnB4Q,UAAY,SAAC5Q,GACT,EAAKpX,MAAM0Q,QAAQC,KAAK,gBAAxB,aACI/D,KAAM,EAAKlM,MAAMkM,MACd,EAAKlM,MAAMwhB,uBAAuB9K,MAjO1B,EAqOnBmL,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KAtOb,EAyOnB3D,WAAa,WACT,EAAKzO,SAAS,CAAEoO,WAAW,KAvO3B,EAAKpd,MAAQ,CACTmT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVJ,YAAa,GACbF,uBAAwB,GACxBvhB,SAAU,OACVkK,gBAAiB,GAEjBnF,QAAS,IACT2a,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTjD,KAAM,EACN3K,KAAM,QAnBK,E,4FAuBnB,wCAAA/B,EAAA,6DACIU,KAAK8O,SAAS,CACVG,SAAS,EACT5N,KAAMrB,KAAKZ,MAAMyQ,SAAS/P,OAASE,KAAKZ,MAAMyQ,SAAS/P,MAAMuB,OAHrE,kBAMsEyB,QAAQ+P,IAAI,CACtEzP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAIkD,eAAe,EAAG,KACtBlD,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKwL,YAVnD,2CAMawH,EANb,KAM6B4B,EAN7B,KAMwC2M,EANxC,KAMqDvM,EANrD,KAYYhL,EAAkB,CAClBtE,aAAcsN,EAAezP,KAAKqN,OAAOrN,KAAKyP,EAAezP,KAAKqN,OAAOrN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWoL,EAAQzR,KAAKqN,OAAOhH,WAEnC7J,KAAK8O,SAAS,CACVmE,eAAgBA,EAAezP,KAAKqN,OAAOrN,KAC3CqR,UAAWA,EAAUrR,KAAKqN,OAAOrN,KACjCge,YAAaA,EAAYhe,KAAKqN,OAAOrN,KACrCyG,gBAAiBA,EACjBJ,UAAWoL,EAAQzR,KAAKqN,OAAOhH,YArB3C,UAuBc7J,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,GAvBlD,6DAyBQrK,QAAQC,IAAR,MACAG,KAAK8O,SAAS,CAAEG,SAAS,KACrB,KAAIjM,UAAoC,MAAxB,KAAIA,SAASG,OA3BzC,wBA4BYgM,QAAMC,gBAAgB,CAClBrO,MAAO,kBACPsO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtCrD,2BA0CQR,QAAMC,gBAAgB,CAClBrO,MAAO,oCACPsO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApDjD,0D,gFAyGA,WACI,IAAI1F,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,aACzCkE,UAAW7J,KAAKF,MAAMmK,gBAAgBJ,WAE1C7J,KAAK8O,SAAS,CACV7E,gBAAiBA,IAErBjK,KAAK4S,QAAQ,EAAG5S,KAAKF,MAAMgF,QAASmF,K,6BAqDxC,WAAmB,IAAD,OACVqW,EAAUtgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAM2f,WAAWC,YAAc,GAAK,EAC7E,OAAO1f,KAAKF,MAAMwhB,uBAAuB/K,KAAI,SAAC4K,EAAM3K,GAChD,IAAQ/P,EAAuC0a,EAAvC1a,YAAazH,EAA0BmiB,EAA1BniB,UAAWgG,EAAemc,EAAfnc,WAChC,OACI,+BACI,6BAAKsb,EAAU9J,IACf,6BAAK/P,IACL,6BAAKzH,IACL,6BAAKgG,IACL,6BAAK,EAAKlF,MAAMkM,OACK,SAApB,EAAKlM,MAAMuB,MACR,oBAAIrC,UAAU,cAAd,SACI,wBAAQA,UAAU,iBAAiBmC,QAAS,kBAAM,EAAKgmB,WAAW3Q,IAAlE,wCAGc,SAApB,EAAK1W,MAAMuB,MACT,oBAAIrC,UAAU,cAAd,SACI,wBAAQA,UAAU,iBAAiBmC,QAAS,kBAAM,EAAKimB,UAAU5Q,IAAjE,oCAbHA,Q,oBA2CrB,WAAU,IAAD,OACL,OAAIxW,KAAKF,MAAMmP,QAEP,qBAAKjQ,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKyQ,SAE9C,qBAAKzR,UAAU,4BAAf,iDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAMA,UAAU,cAAhB,SACI,yBAAQsQ,KAAK,SAAStQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKigB,gBAA/E,UACI,cAAC,IAAD,CAAW5gB,KAAMR,KAAKF,MAAMC,WADhC,mCAMZ,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKgT,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBtE,aAClCyK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKknB,iBACdrT,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMkM,KAClBoE,SAAU,SAAA8D,GAAC,OAAI,EAAKpF,SAAS,CAAE9C,KAAMkI,SAI7C,uBAAOlV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAK4U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgB7D,QAClCgK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOlV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC4U,GAAA,EAAD,CACIV,QAASlT,KAAKuhB,mBACd1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO5O,KAAKF,MAAMmK,gBAAgBrD,UAClCwJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAAStQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKyR,WAArF,UACI,cAAC,IAAD,CAAUpS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,qBAAKwC,MAAO,CAAEmf,UAAW,SAAzB,SACI,wBAAO3hB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,iDACA,0CACA,mDACA,kDACA,4BAIR,gCACKgB,KAAKsU,oC,GA1VPpV,aAqWnC+nB,GAAqB3lB,YAAc1C,EAEpB2R,mBAAW0W,IC/TpBO,G,kDACJ,WAAYpoB,GAAQ,IAAD,8BACjB,cAAMA,IA4BRM,QAAU,SAACO,GACT,IAAIR,EAAU,EAAKK,MAAML,QACzBA,EAAQQ,KAAOA,EACf,EAAK6O,SAAS,CAAErP,QAASA,KA9BzB,EAAKK,MAAQ,CACXL,QAAS,CACPQ,KAAM,KACNP,QAAS,EAAKA,SAEhBuP,SAAS,GAPM,E,4FAWnB,8BAAA3P,EAAA,yDACEU,KAAK8O,SAAS,CAAEG,SAAS,MACrBvM,EAAcnD,aAAaoD,QAAQ,gBAFzC,0CAMYS,EAAIS,YANhB,OAOU5D,EAAOiP,YAAIxM,GACf1C,KAAKN,QAAQO,GARnB,kDAUML,QAAQC,IAAR,MACAG,KAAKN,QAAQ,MACbH,aAAaC,WAAW,eAZ9B,QAeEQ,KAAK8O,SAAS,CAAEG,SAAS,IAf3B,0D,0EAwBA,WACE,OAAIjP,KAAKF,MAAMmP,QAEX,qBAAKjQ,UAAU,uDAAf,SACE,cAAC,IAAD,CAAcsQ,KAAM,OAAQuS,MAAO,OAAQ5Q,OAAQ,MAAOD,MAAO,MAAOhS,UAAU,6BAKtF,cAAC,EAAWyoB,SAAZ,CAAqB7Y,MAAO5O,KAAKF,MAAML,QAAvC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,IACA,cAAC,EAAD,IACA,qBAAKT,UAAU,UAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO0oB,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,kBAAZ,SACE,cAAC,GAAD,MAEF,cAAC,GAAD,CAAeC,OAAK,EAACD,KAAK,IAAIE,UAAW,cAAC,EAAD,IAAU1nB,KAAM,CAAC,EAAG,EAAG,KAChE,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,gBAAgBE,UAAW,cAAC,EAAD,IAAiB1nB,KAAM,CAAC,EAAG,EAAG,KACnF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,mBAAmBE,UAAW,cAAC,GAAD,IAAoB1nB,KAAM,CAAC,EAAG,EAAG,KACzF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,eAAeE,UAAW,cAAC,GAAD,IAAgB1nB,KAAM,CAAC,KAC3E,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,SAASE,UAAW,cAAC,GAAD,IAAW1nB,KAAM,CAAC,KAChE,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,WAAWE,UAAW,cAAC,GAAD,IAAa1nB,KAAM,CAAC,KACpE,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,mBAAmBE,UAAW,cAAC,GAAD,IAAoB1nB,KAAM,CAAC,KACnF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,WAAWE,UAAW,cAAC,GAAD,IAAa1nB,KAAM,CAAC,KACpE,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,WAAWE,UAAW,cAAC,GAAD,IAAa1nB,KAAM,CAAC,KACpE,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,uBAAuBE,UAAW,cAAC,GAAD,IAAwB1nB,KAAM,CAAC,KAC3F,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,+BAA+BE,UAAW,cAAC,GAAD,IAA+B1nB,KAAM,CAAC,KAC1G,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,yBAAyBE,UAAW,cAAC,GAAD,IAA0B1nB,KAAM,CAAC,KAC/F,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,sBAAsBE,UAAW,cAAC,GAAD,IAAuB1nB,KAAM,CAAC,KACzF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,WAAWE,UAAW,cAAC,GAAD,IAAa1nB,KAAM,CAAC,KACpE,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,kBAAkBE,UAAW,cAAC,GAAD,IAAmB1nB,KAAM,CAAC,KACjF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,cAAcE,UAAW,cAAC,GAAD,IAAe1nB,KAAM,CAAC,KACzE,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,kBAAkBE,UAAW,cAACC,GAAD,IAAmB3nB,KAAM,CAAC,KACjF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,kBAAkBE,UAAW,cAACE,GAAD,IAAmB5nB,KAAM,CAAC,KACjF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,sCAAsCE,UAAW,cAACG,GAAD,IAAoC7nB,KAAM,CAAC,KACtH,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,8BAA8BE,UAAW,cAACI,GAAD,IAA8B9nB,KAAM,CAAC,KACxG,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,wBAAwBE,UAAW,cAAC,GAAD,IAAwB1nB,KAAM,CAAC,EAAG,KAC/F,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,0BAA0BE,UAAW,cAAC,GAAD,IAA0B1nB,KAAM,CAAC,EAAG,KACnG,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,+BAA+BE,UAAW,cAACK,GAAD,IAA8B/nB,KAAM,CAAC,EAAG,KAC5G,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,uBAAuBE,UAAW,cAAC,GAAD,IAAuB1nB,KAAM,CAAC,EAAG,KAC7F,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,kBAAkBE,UAAW,cAAC,GAAD,IAAmB1nB,KAAM,CAAC,KACjF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,qBAAqBE,UAAW,cAAC,GAAD,IAAsB1nB,KAAM,CAAC,KACvF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,iBAAiBE,UAAW,cAAC,GAAD,IAAkB1nB,KAAM,CAAC,KAC/E,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,2BAA2BE,UAAW,cAAC,GAAD,IAA2B1nB,KAAM,CAAC,EAAG,KACrG,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,8BAA8BE,UAAW,cAAC,GAAD,IAA8B1nB,KAAM,CAAC,EAAG,KAC3G,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,8BAA8BE,UAAW,cAAC,GAAD,IAA6B1nB,KAAM,CAAC,EAAG,KAC1G,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,gBAAgBE,UAAW,cAAC,GAAD,IAAiB1nB,KAAM,CAAC,EAAG,KAChF,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,sBAAsBE,UAAW,cAAC,GAAD,IAAuB1nB,KAAM,CAAC,EAAG,KAC5F,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,OAAOE,UAAW,cAAC,GAAD,IAAS1nB,KAAM,CAAC,EAAG,KAC/D,cAAC,GAAD,CAAeynB,OAAK,EAACD,KAAK,eAAeE,UAAW,cAAC,GAAD,IAAgB1nB,KAAM,CAAC,KAC3E,cAAC,IAAD,CAAOwnB,KAAK,IAAZ,SACE,cAAC,GAAD,WAIN,cAAC,EAAD,a,GAhGQ7oB,IAAMK,WAuGlBgpB,G,kDAEJ,WAAY9oB,GAAQ,IAAD,8BACjB,cAAMA,IAIR+oB,WAAa,WACX,OAAO,EAAK1oB,QAAQQ,MANH,EAQnB4D,UAAY,WACV,OAAO,EAAKzE,MAAMc,MAAQ,EAAKT,QAAQQ,MAAQ,EAAKb,MAAMc,KAAKyZ,SAAS,EAAKla,QAAQQ,KAAKC,OAP1F,EAAKJ,MAAQ,GAFI,E,0CAWnB,WACE,MAAwCE,KAAKZ,MAA5BF,EAAjB,EAAM0oB,UAAyBQ,EAA/B,6BACA,OACE,cAAC,IAAD,2BAAWA,GAAX,aACGpoB,KAAKmoB,aACJnoB,KAAK6D,YACH3E,EACA,cAAC,IAAD,CACEqB,GAAG,MAEP,cAAC,IAAD,CACEA,GAAI,CACFa,SAAU,SACVtB,MAAO,CAAE8P,KAAM5P,KAAKZ,MAAMsoB,gB,GA1BZ7oB,IAAMK,WAkClCgpB,GAAc5mB,YAAc1C,EAEb4oB,UClLAa,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.99832ded.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst AppContext = React.createContext();\r\n\r\nexport default AppContext;","import React from \"react\";\r\nimport { BiCopyright } from \"react-icons/bi\"\r\n\r\nclass Footer extends React.Component {\r\n    render() {\r\n        return (\r\n            <footer className=\"border-top text-center\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row \">\r\n                        <div className=\"col text-center\">\r\n                            <BiCopyright /> Trường THCS ABC\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row \">\r\n                        <div className=\"col text-right\">\r\n                            Email: <a href=\"mailto:xyz@gmail.com\">xyz@gmail.com</a>\r\n                        </div>\r\n                        <div className=\"col text-left\">\r\n                            Phone: <a href=\"tel:0123456789\">0123456789</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer","import React from \"react\";\r\nimport { Navbar, Nav, NavDropdown } from \"react-bootstrap\"\r\nimport { Link } from 'react-router-dom'\r\nimport { FaHome, FaUserCircle } from 'react-icons/fa'\r\nimport { BsGrid3X3Gap, BsFillLockFill, BsSearch } from 'react-icons/bs'\r\nimport { FiMenu } from 'react-icons/fi'\r\nimport { BiLineChart } from 'react-icons/bi'\r\nimport '../../css/Header.css'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass Header extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            iconSize: 20\r\n        }\r\n    }\r\n\r\n    logout = async () => {\r\n        try {\r\n            //await api.logout()\r\n            localStorage.removeItem('accessToken')\r\n            this.context.setUser(null)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.context.user) {\r\n            return (\r\n                <header>\r\n                    <Navbar bg=\"primary\" expand=\"lg\" variant=\"dark\">\r\n                        <Link to=\"/\" className=\"navbar-brand\">\r\n                            <FaHome size={this.state.iconSize * 1.5} />\r\n                        </Link>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    </Navbar>\r\n                </header>\r\n            )\r\n        }\r\n        if (this.context.user.role === 0) {\r\n            return (\r\n                <header>\r\n                    <Navbar bg=\"primary\" expand=\"lg\" variant=\"dark\">\r\n                        <Link to=\"/\" className=\"navbar-brand\">\r\n                            <FaHome size={this.state.iconSize * 1.5} />\r\n                        </Link>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                            <Nav className=\"mr-auto\">\r\n                                <NavDropdown\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <BsSearch size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    Tra cứu\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/student-score\" className=\"dropdown-item\">\r\n                                        Tra cứu điểm\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/student-pll\" className=\"dropdown-item\">\r\n                                        Tra cứu phiếu liên lạc\r\n                                    </Link>\r\n                                </NavDropdown>\r\n                            </Nav>\r\n                            <Nav>\r\n                                {this.context.user &&\r\n                                    <NavDropdown\r\n                                        alignRight\r\n                                        title={\r\n                                            <div className=\"d-inline-block\">\r\n                                                <div className=\"position-relative\">\r\n                                                    <FaUserCircle size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                    <div className=\"title-text d-inline-block\">\r\n                                                        {this.context.user && this.context.user.accountName}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        }\r\n                                        id=\"basic-nav-dropdown\"\r\n                                    >\r\n                                        <Link to=\"/account-info\" className=\"dropdown-item\">\r\n                                            Xem thông tin tài khoản\r\n                                    </Link>\r\n                                        <NavDropdown.Divider />\r\n                                        <Link to=\"/change-password\" className=\"dropdown-item\">\r\n                                            Đổi mật khẩu\r\n                                    </Link>\r\n                                        <NavDropdown.Divider />\r\n                                        <div className=\"dropdown-item\" onClick={this.logout}>\r\n                                            Đăng xuất\r\n                                    </div>\r\n                                    </NavDropdown>\r\n                                }\r\n                            </Nav>\r\n                        </Navbar.Collapse>\r\n                    </Navbar>\r\n                </header>\r\n            )\r\n        }\r\n\r\n        if (this.context.user.role === 1) {\r\n            return (\r\n                <header>\r\n                    <Navbar bg=\"primary\" expand=\"lg\" variant=\"dark\">\r\n                        <Link to=\"/\" className=\"navbar-brand\">\r\n                            <FaHome size={this.state.iconSize * 1.5} />\r\n                        </Link>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                            <Nav className=\"mr-auto\">\r\n                                <NavDropdown\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <FiMenu size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    Chức năng\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/conduct-assesssment\" className=\"dropdown-item\">\r\n                                        Cập nhật đánh giá hạnh kiểm\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/student-attendance\" className=\"dropdown-item\">\r\n                                        Điểm danh\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/pll\" className=\"dropdown-item\">\r\n                                        Xuất phiếu liên lạc\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link\r\n                                        to={{\r\n                                            pathname: \"/my-teaching-assignment-edit\",\r\n                                            state: { kind: \"edit\" }\r\n                                        }}\r\n                                        className=\"dropdown-item\"\r\n                                    >\r\n                                        Nhập điểm\r\n                                    </Link>\r\n                                </NavDropdown>\r\n                                <NavDropdown\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <BiLineChart size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    Thống kê\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/homeroom-statistic-rank\" className=\"dropdown-item\">\r\n                                        Thông kê danh sách theo hạng\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/homeroom-statistic-subject\" className=\"dropdown-item\">\r\n                                        Thống kê kết quả môn học\r\n                                    </Link>\r\n                                    {/* <NavDropdown.Divider />\r\n                                    <Link to=\"/\" className=\"dropdown-item\">\r\n                                        Thống kê điểm bài thi theo cá nhân\r\n                                    </Link> */}\r\n                                </NavDropdown>\r\n                                <NavDropdown\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <BsSearch size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    Tra cứu\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/search-homeroom-class-info\" className=\"dropdown-item\">\r\n                                        Xem thông tin lớp chủ nhiệm\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link\r\n                                        to={{\r\n                                            pathname: \"/my-teaching-assignment\",\r\n                                            state: { kind: \"info\" }\r\n                                        }}\r\n                                        className=\"dropdown-item\"\r\n                                    >\r\n                                        Tra cứu điểm các lớp giảng dạy\r\n                                    </Link>\r\n                                </NavDropdown>\r\n                            </Nav>\r\n                            <Nav>\r\n                                {this.context.user &&\r\n                                    <NavDropdown\r\n                                        alignRight\r\n                                        title={\r\n                                            <div className=\"d-inline-block\">\r\n                                                <div className=\"position-relative\">\r\n                                                    <FaUserCircle size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                    <div className=\"title-text d-inline-block\">\r\n                                                        {this.context.user && this.context.user.accountName}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        }\r\n                                        id=\"basic-nav-dropdown\"\r\n                                    >\r\n                                        <Link to=\"/account-info\" className=\"dropdown-item\">\r\n                                            Xem thông tin tài khoản\r\n                                    </Link>\r\n                                        <NavDropdown.Divider />\r\n                                        <Link to=\"/change-password\" className=\"dropdown-item\">\r\n                                            Đổi mật khẩu\r\n                                    </Link>\r\n                                        <NavDropdown.Divider />\r\n                                        <div className=\"dropdown-item\" onClick={this.logout}>\r\n                                            Đăng xuất\r\n                                    </div>\r\n                                    </NavDropdown>\r\n                                }\r\n                            </Nav>\r\n                        </Navbar.Collapse>\r\n                    </Navbar>\r\n                </header >\r\n            )\r\n        }\r\n        return (\r\n            <header>\r\n                <Navbar bg=\"primary\" expand=\"lg\" variant=\"dark\">\r\n                    <Link to=\"/\" className=\"navbar-brand\">\r\n                        <FaHome size={this.state.iconSize * 1.5} />\r\n                    </Link>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <NavDropdown\r\n                                title={\r\n                                    <div className=\"d-inline-block\">\r\n                                        <div className=\"position-relative\">\r\n                                            <BsGrid3X3Gap size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                            <div className=\"title-text d-inline-block\">\r\n                                                Danh mục\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                id=\"basic-nav-dropdown\"\r\n                            >\r\n                                <Link to=\"/school-year\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục năm học\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/class\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục lớp học\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/subject\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục môn học\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/specialist-team\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục tổ chuyên môn\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/student\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục học sinh\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/teacher\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục giáo viên\r\n                                </Link>\r\n                            </NavDropdown>\r\n                            <NavDropdown\r\n                                title={\r\n                                    <div className=\"d-inline-block\">\r\n                                        <div className=\"position-relative\">\r\n                                            <FiMenu size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                            <div className=\"title-text d-inline-block\">\r\n                                                Chức năng\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                id=\"basic-nav-dropdown\"\r\n                            >\r\n                                <Link to=\"/teaching-assignment\" className=\"dropdown-item\">\r\n                                    Phân công giảng dạy\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/homeroom-teacher-assignment\" className=\"dropdown-item\">\r\n                                    Phân công GVCN\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/specialist-assignment\" className=\"dropdown-item\">\r\n                                    Phân công tổ chuyên môn\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/student-assignment\" className=\"dropdown-item\">\r\n                                    Quản lý danh sách học sinh trong lớp\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/transfer-class\" className=\"dropdown-item\">\r\n                                    Kết chuyển lớp\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/account\" className=\"dropdown-item\">\r\n                                    Quản lý tài khoản\r\n                                </Link>\r\n                            </NavDropdown>\r\n                            <NavDropdown\r\n                                title={\r\n                                    <div className=\"d-inline-block\">\r\n                                        <div className=\"position-relative\">\r\n                                            <BiLineChart size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                            <div className=\"title-text d-inline-block\">\r\n                                                Thống kê\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                id=\"basic-nav-dropdown\"\r\n                            >\r\n                                <Link to=\"/statistic-rank\" className=\"dropdown-item\">\r\n                                    Thông kê danh sách theo hạng\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/statistic-subject\" className=\"dropdown-item\">\r\n                                    Thống kê kết quả môn học\r\n                                </Link>\r\n                                {/* <NavDropdown.Divider />\r\n                                <Link to=\"/\" className=\"dropdown-item\">\r\n                                    Thống kê điểm bài thi theo cá nhân\r\n                                </Link> */}\r\n                            </NavDropdown>\r\n                            <Link to=\"/score-lock\" className=\"nav-link\">\r\n                                <div className=\"d-inline-block\">\r\n                                    <div className=\"position-relative\">\r\n                                        <BsFillLockFill size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                        <div className=\"title-text d-inline-block\">\r\n                                            Khóa/Mở nhập điểm\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                            <NavDropdown\r\n                                title={\r\n                                    <div className=\"d-inline-block\">\r\n                                        <div className=\"position-relative\">\r\n                                            <BsSearch size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                            <div className=\"title-text d-inline-block\">\r\n                                                Tra cứu\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                id=\"basic-nav-dropdown\"\r\n                            >\r\n                                <Link to=\"/search-teacher\" className=\"dropdown-item\">\r\n                                    Tra cứu thông tin giáo viên\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/search-student\" className=\"dropdown-item\">\r\n                                    Tra cứu thông tin học sinh\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/search-homeroom-teacher-assignment\" className=\"dropdown-item\">\r\n                                    Tra cứu phân công GVCN\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/search-teaching-assignment\" className=\"dropdown-item\">\r\n                                    Tra cứu phân công giảng dạy\r\n                                </Link>\r\n                            </NavDropdown>\r\n                        </Nav>\r\n                        <Nav>\r\n                            {this.context.user &&\r\n                                <NavDropdown\r\n                                    alignRight\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <FaUserCircle size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    {this.context.user && this.context.user.accountName}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/account-info\" className=\"dropdown-item\">\r\n                                        Xem thông tin tài khoản\r\n                                </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/change-password\" className=\"dropdown-item\">\r\n                                        Đổi mật khẩu\r\n                                </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <div className=\"dropdown-item\" onClick={this.logout}>\r\n                                        Đăng xuất\r\n                                </div>\r\n                                </NavDropdown>\r\n                            }\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </Navbar>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nHeader.contextType = AppContext\r\n\r\nexport default Header","import React, { Component } from \"react\";\r\nimport '../../css/Home.css';\r\n\r\nclass Home extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"150px\" }}>\r\n                    <div className=\"col-12 text-center panel-home\">\r\n                        <div className=\"shadow\">\r\n                            Hệ thống sổ liên lạc điện tử <br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import axios from 'axios';\r\nimport packagejson from \"../../package.json\"\r\n\r\nconst baseUrl = packagejson.proxy.charAt(packagejson.proxy.length - 1) === \"/\" ? packagejson.proxy.slice(0, -1) : packagejson.proxy\r\n\r\nconst user = axios.create({ timeout: 30000 });\r\nconst guest = axios.create({ timeout: 30000 });\r\n\r\nguest.defaults.withCredentials = true;\r\n\r\nuser.interceptors.request.use(function (config) {\r\n    //console.log(config)\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n    if (accessToken) {\r\n        config.headers[\"x-access-token\"] = accessToken;\r\n    }\r\n    return config;\r\n}, function (error) {\r\n    return Promise.reject(error);\r\n});\r\n\r\nuser.interceptors.response.use(function (response) {\r\n    return response;\r\n}, async function (error) {\r\n    const originalRequest = error.config;\r\n    //console.log(error.response)\r\n    if (!originalRequest.retry && error.response && error.response.status === 401) {\r\n        try {\r\n            originalRequest.retry = true;\r\n            let res = await Api.refreshToken()\r\n            localStorage.setItem(\"accessToken\", res.data.accessToken)\r\n            console.log(\"Access token refreshed\")\r\n            return user(originalRequest)\r\n        } catch (err) {\r\n            return Promise.reject(error);\r\n        }\r\n    }\r\n    return Promise.reject(error);\r\n});\r\n\r\nconst Api = {\r\n    login: (username, password) => {\r\n        return guest.post(`${baseUrl}/auth/login`, { username: username, password: password })\r\n    },\r\n    refreshToken: () => {\r\n        return guest.post(`${baseUrl}/auth/refresh-token`)\r\n    },\r\n    checkAuth: () => {\r\n        return user.get(`${baseUrl}/auth/check-auth`)\r\n    },\r\n    getAccountInfo: (id) => {\r\n        return user.get(`${baseUrl}/account/id/${id}`)\r\n    },\r\n    checkPassword: (id, password) => {\r\n        return user.post(`${baseUrl}/account/check-password/${id}`, {\r\n            password: password,\r\n        })\r\n    },\r\n    changePassword: (id, oldPassword, newPassword) => {\r\n        return user.put(`${baseUrl}/account/change-password/${id}`, {\r\n            old_password: oldPassword,\r\n            new_password: newPassword\r\n        })\r\n    },\r\n    sendOTP: (username) => {\r\n        return user.post(`${baseUrl}/auth/send-otp`, {\r\n            username: username\r\n        })\r\n    },\r\n    checkOTP: (otpToken, otp) => {\r\n        return user.post(`${baseUrl}/auth/check-otp`, {\r\n            otpToken: otpToken,\r\n            otp: otp\r\n        })\r\n    },\r\n    forgetPassword: (accessToken, newPassword) => {\r\n        return user.post(`${baseUrl}/auth/forget-password`, {\r\n            accessToken: accessToken,\r\n            newPassword: newPassword\r\n        })\r\n    },\r\n    getSchoolYearList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/school-year/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addSchoolYear: (data) => {\r\n        return user.post(`${baseUrl}/school-year/`, {\r\n            schoolYear: data.schoolYear,\r\n            beginSemester1: data.startFirstSemester,\r\n            endSemester1: data.finishFirstSemester,\r\n            beginSemester2: data.startSecondSemester,\r\n            endSemester2: data.finishSecondSemester,\r\n            description: data.description\r\n        })\r\n    },\r\n    editSchoolYear: (data) => {\r\n        return user.put(`${baseUrl}/school-year/id/${data.schoolYearId}`, {\r\n            schoolYear: data.schoolYear,\r\n            beginSemester1: data.startFirstSemester,\r\n            endSemester1: data.finishFirstSemester,\r\n            beginSemester2: data.startSecondSemester,\r\n            endSemester2: data.finishSecondSemester,\r\n            description: data.description\r\n        })\r\n    },\r\n    deleteSchoolYear: (id) => {\r\n        return user.delete(`${baseUrl}/school-year/id/${id}`)\r\n    },\r\n    getClassList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/class/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchClassByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/class/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addClass: (data) => {\r\n        return user.post(`${baseUrl}/class/`, {\r\n            className: data.className,\r\n            classCode: data.classCode,\r\n            description: data.description,\r\n            schoolYearId: 4,\r\n        })\r\n    },\r\n    editClass: (data) => {\r\n        return user.put(`${baseUrl}/class/id/${data.classId}`, {\r\n            className: data.className,\r\n            classCode: data.classCode,\r\n            description: data.description,\r\n            schoolYearId: 4,\r\n        })\r\n    },\r\n    deleteClass: (id) => {\r\n        return user.delete(`${baseUrl}/class/id/${id}`)\r\n    },\r\n    getSubjectList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/subject/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchSubjectByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/subject/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addSubject: (data) => {\r\n        return user.post(`${baseUrl}/subject/`, {\r\n            subjectName: data.subjectName,\r\n            subjectCode: data.subjectCode,\r\n            description: data.description,\r\n        })\r\n    },\r\n    editSubject: (data) => {\r\n        return user.put(`${baseUrl}/subject/id/${data.subjectId}`, {\r\n            subjectName: data.subjectName,\r\n            subjectCode: data.subjectCode,\r\n            description: data.description,\r\n        })\r\n    },\r\n    deleteSubject: (id) => {\r\n        return user.delete(`${baseUrl}/subject/id/${id}`)\r\n    },\r\n    getSpecialistTeamList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/specialist-team/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchSpecialistTeamByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/specialist-team/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addSpecialistTeam: (data) => {\r\n        return user.post(`${baseUrl}/specialist-team/`, {\r\n            specialistName: data.specialistName,\r\n            description: data.description\r\n        })\r\n    },\r\n    editSpecialistTeam: (data) => {\r\n        return user.put(`${baseUrl}/specialist-team/id/${data.specialistTeamId}`, {\r\n            specialistName: data.specialistName,\r\n            description: data.description\r\n        })\r\n    },\r\n    deleteSpecialistTeam: (id) => {\r\n        return user.delete(`${baseUrl}/specialist-team/id/${id}`)\r\n    },\r\n    getStudentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/student/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    getStudent: (id) => {\r\n        return user.get(`${baseUrl}/student/id/${id}`)\r\n    },\r\n    getStudentByCode: (code) => {\r\n        return user.get(`${baseUrl}/student/code/${code}`)\r\n    },\r\n    searchStudentByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/student/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchStudentByNameOrCode: (page, perpage, query) => {\r\n        return user.get(`${baseUrl}/student/search?page=${page}&perpage=${perpage}&query=${query}`)\r\n    },\r\n    addStudent: (data) => {\r\n        return user.post(`${baseUrl}/student/`, {\r\n            studentCode: data.studentCode,\r\n            studentName: data.studentName,\r\n            address: data.address,\r\n            permanentResidence: data.permanentResidence,\r\n            gender: data.gender,\r\n            pId: data.pId,\r\n            image: data.image,\r\n            dateOfBirth: data.dateOfBirth,\r\n            email: data.email,\r\n            phoneNumber: data.phoneNumber,\r\n            dateOfParty: data.dateOfParty,\r\n            dateOfUnion: data.dateOfUnion,\r\n            accountName: data.accountName,\r\n            fatherName: data.fatherName,\r\n            fatherPhone: data.fatherPhone,\r\n            fatherMail: data.fatherMail,\r\n            motherName: data.motherName,\r\n            motherPhone: data.motherPhone,\r\n            motherMail: data.motherMail\r\n        })\r\n    },\r\n    editStudent: (data) => {\r\n        return user.put(`${baseUrl}/student/id/${data.studentId}`, {\r\n            studentCode: data.studentCode,\r\n            studentName: data.studentName,\r\n            address: data.address,\r\n            permanentResidence: data.permanentResidence,\r\n            gender: data.gender,\r\n            pId: data.pId,\r\n            image: data.image,\r\n            dateOfBirth: data.dateOfBirth,\r\n            email: data.email,\r\n            phoneNumber: data.phoneNumber,\r\n            dateOfParty: data.dateOfParty,\r\n            dateOfUnion: data.dateOfUnion,\r\n            accountName: data.accountName,\r\n            fatherName: data.fatherName,\r\n            fatherPhone: data.fatherPhone,\r\n            fatherMail: data.fatherMail,\r\n            motherName: data.motherName,\r\n            motherPhone: data.motherPhone,\r\n            motherMail: data.motherMail\r\n        })\r\n    },\r\n    deleteStudent: (id) => {\r\n        return user.delete(`${baseUrl}/student/id/${id}`)\r\n    },\r\n    getTeacherList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/teacher/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    getTeacher: (id) => {\r\n        return user.get(`${baseUrl}/teacher/id/${id}`)\r\n    },\r\n    getTeacherByCode: (code) => {\r\n        return user.get(`${baseUrl}/teacher/code/${code}`)\r\n    },\r\n    searchTeacherByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/teacher/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchTeacherByNameOrCode: (page, perpage, query) => {\r\n        return user.get(`${baseUrl}/teacher/search?page=${page}&perpage=${perpage}&query=${query}`)\r\n    },\r\n    addTeacher: (data) => {\r\n        return user.post(`${baseUrl}/teacher/`, {\r\n            teacherCode: data.teacherCode,\r\n            teacherName: data.teacherName,\r\n            address: data.address,\r\n            permanentResidence: data.permanentResidence,\r\n            gender: data.gender,\r\n            pId: data.pId,\r\n            image: data.image,\r\n            dateOfBirth: data.dateOfBirth,\r\n            email: data.email,\r\n            phoneNumber: data.phoneNumber,\r\n            dateOfParty: data.dateOfParty,\r\n            dateOfUnion: data.dateOfUnion,\r\n            civilServantNumber: data.civilServantNumber,\r\n            major: data.major\r\n        })\r\n    },\r\n    editTeacher: (data) => {\r\n        return user.put(`${baseUrl}/teacher/id/${data.teacherId}`, {\r\n            teacherCode: data.teacherCode,\r\n            teacherName: data.teacherName,\r\n            address: data.address,\r\n            permanentResidence: data.permanentResidence,\r\n            gender: data.gender,\r\n            pId: data.pId,\r\n            image: data.image,\r\n            dateOfBirth: data.dateOfBirth,\r\n            email: data.email,\r\n            phoneNumber: data.phoneNumber,\r\n            dateOfParty: data.dateOfParty,\r\n            dateOfUnion: data.dateOfUnion,\r\n            civilServantNumber: data.civilServantNumber,\r\n            major: data.major\r\n        })\r\n    },\r\n    deleteTeacher: (id) => {\r\n        return user.delete(`${baseUrl}/teacher/id/${id}`)\r\n    },\r\n    getTeachingAssignmentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/teaching-assignment/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchTeachingAssignment: (page, perpage, searchCondition) => {\r\n        let url = `${baseUrl}/teaching-assignment/search?page=${page}&perpage=${perpage}`\r\n        //console.log(searchCondition)\r\n        if (searchCondition.schoolYearId) url += `&schoolYearId=${searchCondition.schoolYearId}`\r\n        if (searchCondition.teacherId) url += `&teacherId=${searchCondition.teacherId}`\r\n        if (searchCondition.classId) url += `&classId=${searchCondition.classId}`\r\n        if (searchCondition.subjectId) url += `&subjectId=${searchCondition.subjectId}`\r\n        return user.get(url)\r\n    },\r\n    addTeachingAssignment: (data) => {\r\n        return user.post(`${baseUrl}/teaching-assignment/`, {\r\n            schoolYearId: data.schoolYearId,\r\n            teacherId: data.teacherId,\r\n            classId: data.classId,\r\n            subjectId: data.subjectId\r\n        })\r\n    },\r\n    deleteTeachingAssignment: (id) => {\r\n        return user.delete(`${baseUrl}/teaching-assignment/id/${id}`)\r\n    },\r\n    getHomeroomTeacherAssignmentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/homeroom-teacher-assignment/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchHomeroomTeacherAssignment: (page, perpage, searchCondition) => {\r\n        let url = `${baseUrl}/homeroom-teacher-assignment/search?page=${page}&perpage=${perpage}`\r\n        //console.log(searchCondition)\r\n        if (searchCondition.schoolYearId) url += `&schoolYearId=${searchCondition.schoolYearId}`\r\n        if (searchCondition.teacherId) url += `&teacherId=${searchCondition.teacherId}`\r\n        if (searchCondition.classId) url += `&classId=${searchCondition.classId}`\r\n        return user.get(url)\r\n    },\r\n    addHomeroomTeacherAssignment: (data) => {\r\n        return user.post(`${baseUrl}/homeroom-teacher-assignment`, {\r\n            schoolYearId: data.schoolYearId,\r\n            teacherId: data.teacherId,\r\n            classId: data.classId,\r\n        })\r\n    },\r\n    editHomeroomTeacherAssignment: (data) => {\r\n        return user.put(`${baseUrl}/homeroom-teacher-assignment/id/${data.homeroomTeacherAssignmentId}`, {\r\n            schoolYearId: data.schoolYearId,\r\n            teacherId: data.teacherId,\r\n            classId: data.classId,\r\n        })\r\n    },\r\n    deleteHomeroomTeacherAssignment: (id) => {\r\n        return user.delete(`${baseUrl}/homeroom-teacher-assignment/id/${id}`)\r\n    },\r\n    getSpecialistAssignmentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/specialist-assignment/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchSpecialistAssignment: (page, perpage, searchCondition) => {\r\n        let url = `${baseUrl}/specialist-assignment/search?page=${page}&perpage=${perpage}`\r\n        console.log(searchCondition)\r\n        if (searchCondition.schoolYearId) url += `&schoolYearId=${searchCondition.schoolYearId}`\r\n        if (searchCondition.teacherId) url += `&teacherId=${searchCondition.teacherId}`\r\n        if (searchCondition.specialistTeamId) url += `&specialistTeamId=${searchCondition.specialistTeamId}`\r\n        return user.get(url)\r\n    },\r\n    addSpecialistAssignment: (data) => {\r\n        return user.post(`${baseUrl}/specialist-assignment`, {\r\n            schoolYearId: data.schoolYearId,\r\n            teacherId: data.teacherId,\r\n            specialistTeamId: data.specialistTeamId\r\n        })\r\n    },\r\n    deleteSpecialistAssignment: (id) => {\r\n        return user.delete(`${baseUrl}/specialist-assignment/id/${id}`)\r\n    },\r\n    getStudentAssignmentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/student-assignment/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchStudentAssignment: (page, perpage, searchCondition) => {\r\n        let url = `${baseUrl}/student-assignment/search?page=${page}&perpage=${perpage}`\r\n        console.log(searchCondition)\r\n        if (searchCondition.schoolYearId) url += `&schoolYearId=${searchCondition.schoolYearId}`\r\n        if (searchCondition.studentId) url += `&studentId=${searchCondition.studentId}`\r\n        if (searchCondition.classId) url += `&classId=${searchCondition.classId}`\r\n        return user.get(url)\r\n    },\r\n    addStudentAssignment: (data) => {\r\n        return user.post(`${baseUrl}/student-assignment`, {\r\n            schoolYearId: data.schoolYearId,\r\n            studentId: data.studentId,\r\n            classId: data.classId\r\n        })\r\n    },\r\n    deleteStudentAssignment: (id) => {\r\n        return user.delete(`${baseUrl}/student-assignment/id/${id}`)\r\n    },\r\n    tranferClass: (list) => {\r\n        return user.post(`${baseUrl}/student-assignment/transform-class`, {\r\n            data: list\r\n        })\r\n    },\r\n    getAccountList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/account/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchAccountByName: (page, perpage, key) => {\r\n        return user.get(`${baseUrl}/account/search?page=${page}&perpage=${perpage}&username=${key}`)\r\n    },\r\n    addAccount: (data) => {\r\n        return user.post(`${baseUrl}/account/`, {\r\n            accountName: data.accountName,\r\n            password: data.password,\r\n            userCode: data.userCode,\r\n            role: data.role\r\n        })\r\n    },\r\n    editAccount: (data) => {\r\n        return user.put(`${baseUrl}/account/${data.accountId}`, {\r\n            accountName: data.accountName,\r\n            password: data.password,\r\n            userCode: data.userCode,\r\n            role: parseInt(data.role)\r\n        })\r\n    },\r\n    deleteAccount: (id) => {\r\n        return user.delete(`${baseUrl}/account/${id}`)\r\n    },\r\n    getScoreLockList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/score-lock/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addScoreLock: (data) => {\r\n        return user.post(`${baseUrl}/score-lock/`, {\r\n            schoolYearId: data.schoolYearId,\r\n            term: data.term,\r\n            lock: data.lock\r\n        })\r\n    },\r\n    lockScoreLock: (data) => {\r\n        return user.put(`${baseUrl}/score-lock/lock/`, {\r\n            schoolYearId: data.schoolYearId,\r\n            term: data.term,\r\n        })\r\n    },\r\n    unlockScoreLock: (data) => {\r\n        return user.put(`${baseUrl}/score-lock/unlock/`, {\r\n            schoolYearId: data.schoolYearId,\r\n            term: data.term,\r\n        })\r\n    },\r\n    deleteScoreLock: (id) => {\r\n        return user.delete(`${baseUrl}/score-lock/id/${id}`)\r\n    },\r\n    checkLock: (schoolYearId, term) => {\r\n        return user.get(`${baseUrl}/score/check-lock?schoolYearId=${schoolYearId}&term=${term}`)\r\n    },\r\n    getSubjectScore: (studentId, subjectId, schoolYearId, term) => {\r\n        return user.get(`${baseUrl}/score/student/subject-scores?studentId=${studentId}&subjectId=${subjectId}&schoolYearId=${schoolYearId}&term=${term}`)\r\n    },\r\n    getStudentScore: (studentId, schoolYearId, term) => {\r\n        return user.get(`${baseUrl}/score/student/scores?studentId=${studentId}&schoolYearId=${schoolYearId}&term=${term}`)\r\n    },\r\n    editScore: (data) => {\r\n        return user.put(`${baseUrl}/score/`, data)\r\n    },\r\n    getClassConduct: (searchCondition) => {\r\n        return user.get(`${baseUrl}/conduct/class?teacherId=${searchCondition.teacherId}&schoolYearId=${searchCondition.schoolYearId}&term=${searchCondition.term}`)\r\n    },\r\n    getStudentConduct: (searchCondition) => {\r\n        return user.get(`${baseUrl}/conduct/student?studentId=${searchCondition.studentId}&schoolYearId=${searchCondition.schoolYearId}&term=${searchCondition.term}`)\r\n    },\r\n    assessConduct: (data) => {\r\n        return user.post(`${baseUrl}/conduct`, {\r\n            studentId: data.studentId,\r\n            classId: data.classId,\r\n            teacherId: data.teacherId,\r\n            schoolYearId: data.schoolYearId,\r\n            conduct: data.conduct,\r\n            term: data.term,\r\n            note: data.note\r\n        })\r\n    },\r\n    getRankReport: (page, perpage, searchCondition) => {\r\n        return user.get(`${baseUrl}/class-report/rank?page=${page}&perpage=${perpage}&schoolYearId=${searchCondition.schoolYearId}&classId=${searchCondition.classId}&term=${searchCondition.term}`)\r\n    },\r\n    getSubjectReport: (page, perpage, searchCondition) => {\r\n        return user.get(`${baseUrl}/class-report/subject?page=${page}&perpage=${perpage}&schoolYearId=${searchCondition.schoolYearId}&classId=${searchCondition.classId}&term=${searchCondition.term}`)\r\n    },\r\n    getStudentScoreSummary: (searchCondition) => {\r\n        return user.get(`${baseUrl}/score/student/score-summary?studentId=${searchCondition.studentId}&schoolYearId=${searchCondition.schoolYearId}`)\r\n    },\r\n    getHomeroomClassInfo: (teacherId) => {\r\n        return user.get(`${baseUrl}/class/homeroom?key=${teacherId}`)\r\n    },\r\n    getClassAttendance: (searchCondition) => {\r\n        let getDateString = (date) => {\r\n            let d = new Date(date)\r\n            let dd = d.getDate()\r\n            let mm = d.getMonth() + 1\r\n            let yyyy = d.getFullYear()\r\n            if (dd < 10) { dd = '0' + dd }\r\n            if (mm < 10) { mm = '0' + mm }\r\n            return yyyy + \"-\" + mm + \"-\" + dd\r\n        }\r\n        return user.get(`${baseUrl}/attendance/class/between?classId=${searchCondition.classId}&schoolYearId=${searchCondition.schoolYearId}&&firstDate=${getDateString(searchCondition.beginDate)}&lastDate=${getDateString(searchCondition.endDate)}`)\r\n    },\r\n    updateAttendance: (data) => {\r\n        return user.put(`${baseUrl}/attendance`, data)\r\n    },\r\n    getPLL: (searchCondition) => {\r\n\r\n        return user.get(`${baseUrl}/pll?studentId=${searchCondition.studentId}&schoolYearId=${searchCondition.schoolYearId}`)\r\n    },\r\n    uploadImage: (image) => {\r\n        let data = new FormData();\r\n        data.append(\"avatar\", image)\r\n        return user.post(`${baseUrl}/account/upload-image/`, data, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default Api","import React from \"react\";\r\nimport { Modal } from \"react-bootstrap\"\r\n\r\nclass Loading extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Modal show={this.props.show} backdrop=\"static\">\r\n                <Modal.Body >\r\n                    <div className=\"d-flex justify-content-center text-primary\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Modal >\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loading","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Api from \"../../api/api\";\r\nimport AppContext from '../../context/AppContext'\r\nimport jwt from 'jwt-decode'\r\nimport Loading from '../Loading/Loading'\r\nimport { store } from 'react-notifications-component';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            formData: {},\r\n            loading: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.context.user) {\r\n            this.props.history.push('/')\r\n        }\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        let formData = this.state.formData;\r\n        formData[name] = value;\r\n        this.setState({ 'formData': formData });\r\n    }\r\n\r\n    submitHandler = async (e) => {\r\n        let data = this.state.formData;\r\n        e.preventDefault();\r\n        //console.log(data);\r\n\r\n        try {\r\n            this.setState({ loading: true });\r\n            let res = await Api.login(data.username, data.password)\r\n            //console.log(res.data.accessToken)\r\n            localStorage.setItem(\"accessToken\", res.data.accessToken)\r\n            let user = jwt(res.data.accessToken)\r\n            //console.log(user)\r\n            this.context.setUser(user)\r\n            //Notification\r\n            store.addNotification({\r\n                title: \"Đăng nhập thành công\",\r\n                message: `Xin chào ${user.accountName}`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 3000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            //redirect\r\n            //console.log(this.props.location)\r\n            let from = this.props.location.state && this.props.location.state.from\r\n            this.setState({ loading: false })\r\n            this.props.history.push(from || '/')\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 401) {\r\n                store.addNotification({\r\n                    title: \"Đăng nhập thất bại\",\r\n                    message: \"Tài khoản hoặc mật khẩu không chính xác\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.loading} />\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }}>\r\n                    <div className=\"col-12 text-center\">\r\n                        <h1>Hệ thống sổ liên lạc điện tử</h1>\r\n                        <h1>Trường Trung học cơ sở ABC</h1>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/login\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Tên tài khoản:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"username\"\r\n                                    name=\"username\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label >Mật khẩu:</label>\r\n                                <input type=\"password\" className=\"form-control\" id=\"pwd\"\r\n                                    name=\"password\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\" style={{ marginRight: \"10px\" }}>Đăng nhập</button>\r\n                            <Link to=\"/forgetpassword\">Quên mật khẩu</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLogin.contextType = AppContext\r\n\r\nexport default withRouter(Login);\r\n","import React, { Component } from \"react\";\r\nimport '../../css/AccountInfo.css';\r\nimport Api from '../../api/api'\r\nimport AppContext from '../../context/AppContext'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport packagejson from '../../../package.json';\r\n\r\nclass AccountInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            accountInfo: {}\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true });\r\n        try {\r\n            //console.log(this.context)\r\n            let res;\r\n            if (this.context.user.role === 0) {\r\n                res = await Api.getStudentByCode(this.context.user.userCode)\r\n            } else {\r\n                res = await Api.getTeacherByCode(this.context.user.userCode)\r\n            }\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                accountInfo: res.data.result\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    render() {\r\n        let { accountInfo } = this.state\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thông tin tài khoản\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-3\" >\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                        <img src={packagejson.proxy + \"\\\\\" + this.state.accountInfo.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} />\r\n                    </div>\r\n                    <div className=\"panel-account-info col-9\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Tên đăng nhập:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.context.user.accountName}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Họ tên:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.state.accountInfo.studentName || this.state.accountInfo.teacherName}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">{this.context.user.role ? \"Mã giáo viên\" : \"Mã học sinh:\"}</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.context.user.userCode}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Ngày sinh:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.state.accountInfo.dateOfBirth && this.formatDate(new Date(this.state.accountInfo.dateOfBirth))}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Giới tính:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.gender ? \"Nam\" : \"Nữ\"}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Số CMND:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.pId}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Hộ khẩu thường trú:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.permanentResidence}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Nơi ở hiện nay:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.address}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Ngày vào Đoàn:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.dateOfUnion && this.formatDate(new Date(accountInfo.dateOfUnion))}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Ngày vào Đảng:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.dateOfParty && this.formatDate(new Date(accountInfo.dateOfParty))}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Điện thoại:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.phoneNumber}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Email:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.email}</div>\r\n                            </div>\r\n                        </div>\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Họ tên bố:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.fatherName}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Điện thoại bố:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.fatherPhone}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Email bố:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.fatherMail}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Họ tên mẹ:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.motherName}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Điện thoại mẹ:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.motherPhone}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Email mẹ:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.motherMail}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role !== 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Số hiệu công chức:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.civilServantNumber}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role !== 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Chuyên môn:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.major}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAccountInfo.contextType = AppContext\r\n\r\nexport default withRouter(AccountInfo);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass UsernameInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { username } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceiveUsername(username);\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Tên tài khoản:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"username\"\r\n                                    name=\"username\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/login\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default UsernameInput;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass OtpInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            otp: '',\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { otp } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceiveOtp(otp);\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <div >\r\n                                    Mã OTP đã được gửi vào email đăng ký tài khoản của bạn !\r\n                                </div>\r\n                                <label >Mã OTP:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"otp\"\r\n                                    name=\"otp\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/login\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default OtpInput;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass PasswordInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            password1: '',\r\n            password2: ''\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { password1, password2 } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceivePassword(password1, password2);\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Mật khẩu mới:</label>\r\n                                <input type=\"password\" className=\"form-control\"\r\n                                    name=\"password1\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label >Nhập lại mật khẩu mới:</label>\r\n                                <input type=\"password\" className=\"form-control\"\r\n                                    name=\"password2\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/login\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default PasswordInput;\r\n","import React, { Component } from \"react\";\r\nimport UsernameInput from './usernameInput';\r\nimport OtpInput from './otpInput';\r\nimport PasswordInput from './passwordInput';\r\nimport Api from \"../../api/api\";\r\nimport Loading from '../Loading/Loading'\r\nimport { store } from 'react-notifications-component';\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass ForgetPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDisplayUsernameInput: true,\r\n            isDisplayOtpInput: false,\r\n            isDisplayPasswordInput: false,\r\n            username: '',\r\n            otp: '',\r\n            password1: '',\r\n            password2: '',\r\n            loading: false,\r\n            tokenOTP: \"\",\r\n        };\r\n    }\r\n    setUsername = async (username) => {\r\n        //console.log(username);\r\n        this.setState({\r\n            username: username,\r\n            loading: true,\r\n        });\r\n        try {\r\n            let res = await Api.sendOTP(username)\r\n            this.setState({\r\n                otpToken: res.data.otpToken,\r\n                isDisplayUsernameInput: false,\r\n                isDisplayOtpInput: true,\r\n                isDisplayPasswordInput: false,\r\n                loading: false,\r\n            })\r\n            console.log(res)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Lỗi\",\r\n                    message: \"Tài khoản không chính xác vui lòng kiểm tra lại\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    setOtp = async (otp) => {\r\n        console.log(otp);\r\n        this.setState({\r\n            otp: otp,\r\n            loading: true,\r\n        });\r\n        try {\r\n            let res = await Api.checkOTP(this.state.otpToken, otp)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                accessToken: res.data.accessToken,\r\n                isDisplayUsernameInput: false,\r\n                isDisplayOtpInput: false,\r\n                isDisplayPasswordInput: true,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Lỗi\",\r\n                    message: \"OTP không chính xác vui lòng kiểm tra lại\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    setPassword = async (password1, password2) => {\r\n        this.setState({\r\n            password1: password1,\r\n            password2: password2,\r\n        });\r\n        let isDigit = password1.replace(/[^0-9]/g, \"\").length > 0 ? 1 : 0;\r\n        let isLetter = password1.replace(/[^a-zA-Z]/g, '').length > 0 ? 1 : 0;\r\n        let isPunctuation = (password1.length - password1.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\").length) > 0 ? 1 : 0;\r\n        if (password1.length < 8 || (isDigit + isLetter + isPunctuation < 2)) {\r\n            store.addNotification({\r\n                title: \"Lỗi\",\r\n                message: \"Mật khẩu không hợp lệ! Mật khẩu phải dài tối thiểu 8 kí tự và chứa 2 trong 3 loại chữ, số, kí tự đặc biệt!\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return\r\n        }\r\n        if (password1 !== password2) {\r\n            store.addNotification({\r\n                title: \"Cảnh báo\",\r\n                message: \"Mật khẩu nhập lại không giống\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return\r\n        }\r\n        this.setState({\r\n            loading: true\r\n        })\r\n\r\n        try {\r\n            let res = await Api.forgetPassword(this.state.accessToken, password1)\r\n            console.log(res)\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: \"Đổi mật khẩu thành công\",\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({\r\n                loading: false,\r\n                accessToken: res.data.accessToken,\r\n                isDisplayUsernameInput: false,\r\n                isDisplayOtpInput: false,\r\n                isDisplayPasswordInput: false,\r\n            })\r\n            this.props.history.push('/login')\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { isDisplayUsernameInput,\r\n            isDisplayOtpInput,\r\n            isDisplayPasswordInput } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.loading} />\r\n                { isDisplayUsernameInput ? <UsernameInput onReceiveUsername={this.setUsername} /> : \"\"}\r\n                { isDisplayOtpInput ? <OtpInput onReceiveOtp={this.setOtp} /> : \"\"}\r\n                { isDisplayPasswordInput ? <PasswordInput onReceivePassword={this.setPassword} /> : \"\"}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(ForgetPassword);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass OldPasswordInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            oldPassword: '',\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { oldPassword } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceiveOldPassword(oldPassword);\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Nhập mật khẩu cũ:</label>\r\n                                <input type=\"password\" className=\"form-control\" id=\"oldPassword\"\r\n                                    name=\"oldPassword\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default OldPasswordInput;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass PasswordInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            password1: '',\r\n            password2: ''\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { password1, password2 } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceivePassword(password1, password2);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Mật khẩu mới:</label>\r\n                                <input type=\"password\" className=\"form-control\"\r\n                                    name=\"password1\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label >Nhập lại mật khẩu mới:</label>\r\n                                <input type=\"password\" className=\"form-control\"\r\n                                    name=\"password2\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default PasswordInput;\r\n","import React, { Component } from \"react\";\r\nimport UsernameInput from './OldPasswordInput';\r\nimport PasswordInput from './passwordInput';\r\nimport Loading from '../Loading/Loading'\r\nimport Api from \"../../api/api\";\r\nimport AppContext from '../../context/AppContext'\r\nimport { store } from 'react-notifications-component';\r\nimport { withRouter } from 'react-router-dom'\r\nclass ChangePassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDisplayOldPasswordInput: true,\r\n            isDisplayPasswordInput: false,\r\n            oldPassword: '',\r\n            password1: '',\r\n            password2: '',\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    setOldPassword = async (oldPassword) => {\r\n        console.log(oldPassword);\r\n        this.setState({\r\n            oldPassword: oldPassword,\r\n            loading: true,\r\n        });\r\n        try {\r\n            //console.log(this.context, oldPassword)\r\n            await Api.checkPassword(this.context.user.accountId, oldPassword);\r\n            this.setState({\r\n                loading: false,\r\n                isDisplayOldPasswordInput: false,\r\n                isDisplayPasswordInput: true,\r\n            })\r\n        } catch (err) {\r\n            console.log(err);\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Lỗi\",\r\n                    message: \"Mật khẩu không chính xác vui lòng kiểm tra lại\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n    setOtp = (otp) => {\r\n        console.log(otp);\r\n        this.setState({\r\n            otp: otp\r\n        });\r\n    }\r\n    setPassword = async (password1, password2) => {\r\n        //console.log(password1, password2);\r\n        let isDigit = password1.replace(/[^0-9]/g,\"\").length > 0 ? 1 : 0;\r\n        let isLetter = password1.replace(/[^a-zA-Z]/g, '').length > 0 ? 1 : 0;\r\n        let isPunctuation = (password1.length - password1.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g,\"\").length) > 0 ? 1 : 0;\r\n        if(password1.length < 8 || (isDigit+isLetter+isPunctuation < 2)){\r\n            store.addNotification({\r\n                title: \"Lỗi\",\r\n                message: \"Mật khẩu không hợp lệ! Mật khẩu phải dài tối thiểu 8 kí tự và chứa 2 trong 3 loại chữ, số, kí tự đặc biệt!\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return\r\n        }\r\n        if (password1 !== password2) {\r\n            store.addNotification({\r\n                title: \"Lỗi\",\r\n                message: \"Mật khẩu nhập lại không đúng\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return\r\n        }\r\n        this.setState({\r\n            password1: password1,\r\n            password2: password2,\r\n            loading: true,\r\n        });\r\n        try {\r\n            await Api.changePassword(this.context.user.accountId, this.state.oldPassword, password1)\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Đổi mật khẩu thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({ loading: false })\r\n            this.props.history.push('/')\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        let { isDisplayOldPasswordInput,\r\n            isDisplayPasswordInput } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.loading} />\r\n                { isDisplayOldPasswordInput ? <UsernameInput onReceiveOldPassword={this.setOldPassword} /> : \"\"}\r\n                { isDisplayPasswordInput ? <PasswordInput onReceivePassword={this.setPassword} /> : \"\"}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nChangePassword.contextType = AppContext\r\n\r\nexport default withRouter(ChangePassword);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/StudentScore.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass StudentScore extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            student: {},\r\n            scoreList: [],\r\n            studentAssignment: {},\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, student] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getStudentByCode(this.context.user.userCode),\r\n            ])\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                studentId: student.data.result.studentId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                student: student.data.result,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n            await this.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let [res, studentAssignment] = await Promise.all([\r\n                Api.getStudentScoreSummary(searchCondition || this.state.searchCondition),\r\n                Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            ])\r\n            console.log(res, studentAssignment)\r\n            this.setState({\r\n                scoreList: res.data.data,\r\n                studentAssignment: studentAssignment.data.result.data[0] || {},\r\n                loading: false,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n        this.refresh(searchCondition)\r\n    }\r\n\r\n    renderTableData() {\r\n        let scoreList = this.state.scoreList;\r\n        let row = [];\r\n        for (let i = 0; i < scoreList.length; i++) {\r\n            let { subjectName, score1, score2, avgScore1, avgScore2, avgScoreYear } = scoreList[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{score1[0][0]}</td>\r\n                    <td>{score1[0][1]}</td>\r\n                    <td>{score1[0][2]}</td>\r\n                    <td>{score1[0][3]}</td>\r\n                    <td>{score1[0][4]}</td>\r\n                    <td>{score1[1][0]}</td>\r\n                    <td>{score1[1][1]}</td>\r\n                    <td>{score1[1][2]}</td>\r\n                    <td>{score1[1][3]}</td>\r\n                    <td>{score1[1][4]}</td>\r\n                    <td>{score1[2][0]}</td>\r\n                    <td>{score1[2][1]}</td>\r\n                    <td>{score1[2][2]}</td>\r\n                    <td>{score1[3][0]}</td>\r\n                    <td>{score2[0][0]}</td>\r\n                    <td>{score2[0][1]}</td>\r\n                    <td>{score2[0][2]}</td>\r\n                    <td>{score2[0][3]}</td>\r\n                    <td>{score2[0][4]}</td>\r\n                    <td>{score2[1][0]}</td>\r\n                    <td>{score2[1][1]}</td>\r\n                    <td>{score2[1][2]}</td>\r\n                    <td>{score2[1][3]}</td>\r\n                    <td>{score2[1][4]}</td>\r\n                    <td>{score2[2][0]}</td>\r\n                    <td>{score2[2][1]}</td>\r\n                    <td>{score2[2][2]}</td>\r\n                    <td>{score2[3][0]}</td>\r\n                    <td>{avgScore1}</td>\r\n                    <td>{avgScore2}</td>\r\n                    <td>{avgScoreYear}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row;\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu điểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-4\">\r\n                        <div className=\"form-inline\">\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                        <div>\r\n                            <b>Học sinh: </b> {this.state.student.studentName}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                        <div>\r\n                            <b>Ngày sinh: </b> {this.formatDate(new Date(this.state.student.dateOfBirth))}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                        <div>\r\n                            <b>Lớp: </b> {this.state.studentAssignment && this.state.studentAssignment.className}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                        <div>\r\n                            <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                        <table className=\"table table-bordered student-score-summary\">\r\n                            <thead className=\"text-center\">\r\n                                <tr>\r\n                                    <th rowSpan=\"2\">STT</th>\r\n                                    <th rowSpan=\"2\" className=\"subject\">Môn học</th>\r\n                                    <th colSpan=\"14\">Học kỳ 1</th>\r\n                                    <th colSpan=\"14\">Học kỳ 2</th>\r\n                                    <th rowSpan=\"2\">TB kỳ 1</th>\r\n                                    <th rowSpan=\"2\">TB kỳ 2</th>\r\n                                    <th rowSpan=\"2\">TB năm</th>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th colSpan=\"5\">Miệng</th>\r\n                                    <th colSpan=\"5\">15 phút</th>\r\n                                    <th colSpan=\"3\">1 tiết</th>\r\n                                    <th >Thi</th>\r\n                                    <th colSpan=\"5\">Miệng</th>\r\n                                    <th colSpan=\"5\">15 phút</th>\r\n                                    <th colSpan=\"3\">1 tiết</th>\r\n                                    <th >Thi</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.renderTableData()}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nStudentScore.contextType = AppContext\r\n\r\nexport default withRouter(StudentScore);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/StudentPLL.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\nimport Pdf from \"react-to-pdf\";\r\nconst ref = React.createRef()\r\nclass PLL extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            studentList: [],\r\n            classList: [],\r\n            loading: false,\r\n            showReport: false,\r\n            scoreList: [],\r\n            PLL: {},\r\n            date: new Date()\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId,\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            let studentList\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n                studentList = await Api.searchStudentAssignment(1, 1000000, searchCondition)\r\n                if (studentList.data.result.data.length) {\r\n                    searchCondition.studentId = studentList.data.result.data[0].studentId\r\n                }\r\n            }\r\n            console.log(searchCondition)\r\n            this.setState({\r\n                classList: homeroomClass.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                studentList: studentList ? studentList.data.result.data : [],\r\n                searchCondition: searchCondition,\r\n                loading: false,\r\n                homeroomTeacher: teacher.data.result,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({\r\n                    loading: false,\r\n                    showReport: false\r\n                })\r\n                return\r\n            }\r\n            if (!this.state.searchCondition.studentId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách học sinh rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, showReport: false })\r\n                return\r\n            }\r\n            let [res, score] = await Promise.all([\r\n                Api.getPLL(searchCondition || this.state.searchCondition),\r\n                Api.getStudentScoreSummary(searchCondition || this.state.searchCondition)\r\n            ])\r\n            console.log(res, score)\r\n            this.setState({\r\n                scoreList: score.data.data,\r\n                PLL: res.data,\r\n                showReport: true,\r\n                loading: false,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getStudentOption = () => {\r\n        let list = this.state.studentList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { studentId, studentName, studentCode } = list[i];\r\n            options.push({\r\n                name: studentName + \" - \" + studentCode,\r\n                value: studentId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        //console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            searchCondition.studentId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                let studentList\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                    studentList = await Api.searchStudentAssignment(1, 1000000, searchCondition)\r\n                    if (studentList.data.result.data.length) {\r\n                        searchCondition.studentId = studentList.data.result.data[0].studentId\r\n                    } else {\r\n                        store.addNotification({\r\n                            title: \"Thông báo\",\r\n                            message: \"Danh sách học sinh rỗng\",\r\n                            type: \"info\",\r\n                            container: \"top-center\",\r\n                            dismiss: {\r\n                                duration: 5000,\r\n                                showIcon: true,\r\n                            },\r\n                            animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                            animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                        })\r\n                    }\r\n                } else {\r\n                    store.addNotification({\r\n                        title: \"Thông báo\",\r\n                        message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                        type: \"info\",\r\n                        container: \"top-center\",\r\n                        dismiss: {\r\n                            duration: 5000,\r\n                            showIcon: true,\r\n                        },\r\n                        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                    })\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: classList.data.result.data,\r\n                    studentList: studentList.data.result.data,\r\n                    searchCondition: searchCondition,\r\n                })\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    studentList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let scoreList = this.state.scoreList;\r\n        let row = [];\r\n        for (let i = 0; i < scoreList.length; i++) {\r\n            let { subjectName, score1, score2, avgScore1, avgScore2, avgScoreYear } = scoreList[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{score1[0][0]}</td>\r\n                    <td>{score1[0][1]}</td>\r\n                    <td>{score1[0][2]}</td>\r\n                    <td>{score1[0][3]}</td>\r\n                    <td>{score1[0][4]}</td>\r\n                    <td>{score1[1][0]}</td>\r\n                    <td>{score1[1][1]}</td>\r\n                    <td>{score1[1][2]}</td>\r\n                    <td>{score1[1][3]}</td>\r\n                    <td>{score1[1][4]}</td>\r\n                    <td>{score1[2][0]}</td>\r\n                    <td>{score1[2][1]}</td>\r\n                    <td>{score1[2][2]}</td>\r\n                    <td>{score1[3][0]}</td>\r\n                    <td>{score2[0][0]}</td>\r\n                    <td>{score2[0][1]}</td>\r\n                    <td>{score2[0][2]}</td>\r\n                    <td>{score2[0][3]}</td>\r\n                    <td>{score2[0][4]}</td>\r\n                    <td>{score2[1][0]}</td>\r\n                    <td>{score2[1][1]}</td>\r\n                    <td>{score2[1][2]}</td>\r\n                    <td>{score2[1][3]}</td>\r\n                    <td>{score2[1][4]}</td>\r\n                    <td>{score2[2][0]}</td>\r\n                    <td>{score2[2][1]}</td>\r\n                    <td>{score2[2][2]}</td>\r\n                    <td>{score2[3][0]}</td>\r\n                    <td>{avgScore1}</td>\r\n                    <td>{avgScore2}</td>\r\n                    <td>{avgScoreYear}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        let { PLL } = this.state\r\n        let student = this.state.studentList.find(e => e.studentId === this.state.searchCondition.studentId)\r\n        let _class = this.state.classList.find(e => e.classId === this.state.searchCondition.classId)\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Xuất phiếu liên lạc\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"form-inline\">\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                    disabled={true}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học sinh:</label>\r\n                            <div className=\"ml-1 select-student\">\r\n                                <SelectSearch\r\n                                    options={this.getStudentOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.studentId}\r\n                                    onChange={v => this.changeSearchCondition(\"studentId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button onClick={() => this.refresh()} type=\"button\" className=\"btn btn-primary ml-auto\">Xem phiếu liên lạc</button>\r\n\r\n                            {this.state.showReport &&\r\n                                <div className=\"col-3\">\r\n                                    <Pdf targetRef={ref} filename=\"phieu-lien-lac.pdf\" scale={0.52} y={7}>\r\n                                        {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary ml-3\" onClick={toPdf}>Xuất file phiếu liên lạc</button>}\r\n                                    </Pdf>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} className=\"d-flex\" style={{ overflow: \"auto\" }} >\r\n                        <div style={{ width: \"380mm\" }} className=\"ml-auto mr-auto\">\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-12 text-center pll-title\">\r\n                                    <div>\r\n                                        <b>Phiếu liên lạc điện tử</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Học sinh: </b>{student.studentName}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Ngày sinh: </b>{this.formatDate(new Date(student.dateOfBirth))}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Lớp: </b> { } {_class.className}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Năm học: </b>{_class.schoolYear}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered student-score-summary\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th rowSpan=\"2\">STT</th>\r\n                                                <th rowSpan=\"2\" className=\"subject\">Môn học</th>\r\n                                                <th colSpan=\"14\">Học kỳ 1</th>\r\n                                                <th colSpan=\"14\">Học kỳ 2</th>\r\n                                                <th rowSpan=\"2\">TB kỳ 1</th>\r\n                                                <th rowSpan=\"2\">TB kỳ 2</th>\r\n                                                <th rowSpan=\"2\">TB năm</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th colSpan=\"5\">Miệng</th>\r\n                                                <th colSpan=\"5\">15 phút</th>\r\n                                                <th colSpan=\"3\">1 tiết</th>\r\n                                                <th >Thi</th>\r\n                                                <th colSpan=\"5\">Miệng</th>\r\n                                                <th colSpan=\"5\">15 phút</th>\r\n                                                <th colSpan=\"3\">1 tiết</th>\r\n                                                <th >Thi</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th >Tổng kết</th>\r\n                                                <th >Điểm trung bình</th>\r\n                                                <th >Học lực</th>\r\n                                                <th >Hạnh kiểm</th>\r\n                                                <th >Xếp hạng</th>\r\n                                                <th >Danh hiệu</th>\r\n                                                <th >Vắng có phép</th>\r\n                                                <th >Vắng không phép</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Học kỳ 1</td>\r\n                                                <td>{PLL.result1.avgScore}</td>\r\n                                                <td>{PLL.result1.scoreTitle}</td>\r\n                                                <td>{PLL.result1.conductTitle}</td>\r\n                                                <td>{PLL.result1.rank}</td>\r\n                                                <td>{PLL.result1.title}</td>\r\n                                                <td>{PLL.result1.nVangCoPhep}</td>\r\n                                                <td>{PLL.result1.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Học kỳ 2</td>\r\n                                                <td>{PLL.result2.avgScore}</td>\r\n                                                <td>{PLL.result2.scoreTitle}</td>\r\n                                                <td>{PLL.result2.conductTitle}</td>\r\n                                                <td>{PLL.result2.rank}</td>\r\n                                                <td>{PLL.result2.title}</td>\r\n                                                <td>{PLL.result2.nVangCoPhep}</td>\r\n                                                <td>{PLL.result2.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Cả năm</td>\r\n                                                <td>{PLL.result0.avgScore}</td>\r\n                                                <td>{PLL.result0.scoreTitle}</td>\r\n                                                <td>{PLL.result0.conductTitle}</td>\r\n                                                <td>{PLL.result0.rank}</td>\r\n                                                <td>{PLL.result0.title}</td>\r\n                                                <td>{PLL.result0.nVangCoPhep}</td>\r\n                                                <td>{PLL.result0.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th colSpan=\"2\">Ý kiến PHHS</th>\r\n                                                <th colSpan=\"2\">Ý kiến GVCN</th>\r\n                                                <th colSpan=\"2\">Kết quả cuối năm</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr className=\"text-left\">\r\n                                                <td colSpan=\"2\"></td>\r\n                                                <td colSpan=\"2\">\r\n                                                    {PLL.result1.note} {\"\\n\"} {PLL.result2.note}\r\n                                                </td>\r\n                                                <td colSpan=\"2\">\r\n                                                    Được lên lớp:<br />{PLL.result0.isGradeUp}\r\n                                        Thi lại môn:\r\n                                    </td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td colSpan=\"3\">\r\n                                                    <b>Hiệu trưởng</b>\r\n                                                </td>\r\n                                                <td colSpan=\"3\">\r\n                                                    Hà Nội, ngày {this.state.date.getDate() < 10 ? \"0\" + this.state.date.getDate() : this.state.date.getDate()} tháng {this.state.date.getMonth() < 9 ? \"0\" + (this.state.date.getMonth() + 1) : this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    {this.state.homeroomTeacher.teacherName}\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nPLL.contextType = AppContext\r\n\r\nexport default withRouter(PLL);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/Statistic/RankStatistic.css';\r\nimport { store } from 'react-notifications-component'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Pdf from \"react-to-pdf\";\r\nimport ReactToPrint from 'react-to-print';\r\nconst ref = React.createRef()\r\nclass RankStatistic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            searchCondition: {},\r\n            iconSize: '15px',\r\n            homeroomTeacher: \"\",\r\n            studentList: [],\r\n            date: new Date()\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                classId: classList.data.result.data[0].classId,\r\n                term: 1,\r\n            }\r\n            console.log(searchCondition)\r\n            this.setState({\r\n                classList: classList.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            let res = await Api.getRankReport(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                showReport: true,\r\n                loading: false,\r\n                studentList: res.data.data,\r\n                homeroomTeacher: res.data.homeroomTeacher,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.studentList.map((data, index) => {\r\n            const { studentName, gender, address, avgScore, scoreLevel, conduct } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{avgScore}</td>\r\n                    <td>{conduct}</td>\r\n                    <td>{scoreLevel}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thống kê danh sách theo hạng\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"Cả năm\", value: 0 }, { name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-3\" onClick={(e) => { e.preventDefault(); this.refresh() }}>Xem kết quả</button>\r\n                        </form>\r\n                    </div>\r\n                    {this.state.showReport &&\r\n                        <div className=\"col-3\">\r\n                            <Pdf targetRef={ref} filename=\"rank-report.pdf\" scale={0.7} y={7}>\r\n                                {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary mr-2\" onClick={toPdf}>Xuất file</button>}\r\n                            </Pdf>\r\n                            <ReactToPrint\r\n                                trigger={() => {\r\n\r\n                                    return <button type=\"button\" className=\"btn btn-primary mr-2\">In thống kê</button>;\r\n                                }}\r\n                                content={ () => this.componentRef}\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} style={{ overflow: \"auto\" }} >\r\n                        <div id=\"report\" ref={el => (this.componentRef = el)} className=\"container-fluid\" style={{ width: \"280mm\" }}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12 text-center statistic-title\">\r\n                                    <div>\r\n                                        <b>Danh sách học sinh theo xếp hạng</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Lớp: </b> {this.state.classList.find(e => e.classId === this.state.searchCondition.classId) && this.state.classList.find(e => e.classId === this.state.searchCondition.classId).className}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Học kỳ: </b> {this.state.searchCondition.term === 0 ? \"Cả năm\" : this.state.searchCondition.term}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th>Xếp hạng</th>\r\n                                                <th>Họ tên</th>\r\n                                                <th>Giới tính</th>\r\n                                                <th>Điểm trung bình</th>\r\n                                                <th>Hạnh kiểm</th>\r\n                                                <th>Học lực</th>\r\n                                                <th>Danh hiệu</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3 mb-2 justify-content-end\">\r\n                                <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5 text-center\">\r\n                                    Hà Nội, ngày {this.state.date.getDate()} tháng {this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                    <br />\r\n                                    <br />\r\n                                    <br />\r\n                                    {this.state.homeroomTeacher}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(RankStatistic);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/Statistic/SubjectStatistic.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Pdf from \"react-to-pdf\";\r\nimport ReactToPrint from 'react-to-print';\r\nconst ref = React.createRef()\r\nclass SubjectStatistic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            homeroomTeacher: \"\",\r\n            date: new Date(),\r\n            scoreList: [],\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                classId: classList.data.result.data[0].classId,\r\n                term: 1,\r\n            }\r\n            //console.log(searchCondition)\r\n            this.setState({\r\n                classList: classList.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            let res = await Api.getSubjectReport(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                scoreList: res.data.data,\r\n                homeroomTeacher: res.data.homeroomTeacher,\r\n                loading: false,\r\n                showReport: true,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let row = []\r\n        let list = this.state.scoreList\r\n        for (let i = 0; i < list.length; i++) {\r\n            const { nGioi, nKem, nKha, nNuGioi, nNuKem, nNuKha, nNuTB, nNuYeu, nTB, nYeu, subjectName, tlGioi, tlKem, tlKha, tlNuGioi, tlNuKem, tlNuKha, tlNuTB, tlNuYeu, tlTB, tlYeu } = list[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td rowSpan=\"2\" className=\"align-middle\">{subjectName}</td>\r\n                    <td>Nữ</td>\r\n                    <td>{nNuGioi}</td>\r\n                    <td>{tlNuGioi}</td>\r\n                    <td>{nNuKha}</td>\r\n                    <td>{tlNuKha}</td>\r\n                    <td>{nNuTB}</td>\r\n                    <td>{tlNuTB}</td>\r\n                    <td>{nNuYeu}</td>\r\n                    <td>{tlNuYeu}</td>\r\n                    <td>{nNuKem}</td>\r\n                    <td>{tlNuKem}</td>\r\n                </tr>\r\n            )\r\n            row.push(\r\n                <tr className=\"text-center\" key={\"TC\" + i}>\r\n                    <td>TC</td>\r\n                    <td>{nGioi}</td>\r\n                    <td>{tlGioi}</td>\r\n                    <td>{nKha}</td>\r\n                    <td>{tlKha}</td>\r\n                    <td>{nTB}</td>\r\n                    <td>{tlTB}</td>\r\n                    <td>{nYeu}</td>\r\n                    <td>{tlYeu}</td>\r\n                    <td>{nKem}</td>\r\n                    <td>{tlKem}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thống kê kết quả môn học\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" >\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"Cả năm\", value: 0 }, { name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-3\" onClick={(e) => { e.preventDefault(); this.refresh() }}>Xem kết quả</button>\r\n                        </form>\r\n                    </div>\r\n                    {this.state.showReport &&\r\n                        <div className=\"col-3\">\r\n                            <Pdf targetRef={ref} filename=\"subject-report.pdf\" scale={0.7} y={7}>\r\n                                {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary mr-2\" onClick={toPdf}>Xuất file</button>}\r\n                            </Pdf>\r\n                            <ReactToPrint\r\n                                copyStyles={true}\r\n                                trigger={() => {\r\n\r\n                                    return <button type=\"button\" className=\"btn btn-primary mr-2\">In thống kê</button>;\r\n                                }}\r\n                                content={() => this.componentRef}\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} style={{ overflow: \"auto\" }} >\r\n                        <div ref={el => (this.componentRef = el)} className=\"container-fluid text-center\" id=\"report\" style={{ width: \"280mm\" }}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12 text-center statistic-title\">\r\n                                    <div>\r\n                                        <b>Thống kê xếp loại môn học của lớp {this.state.classList[this.state.class]}</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Học kỳ: </b> {this.state.searchCondition.term === 0 ? \"Cả năm\" : this.state.searchCondition.term}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered table-striped\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th rowSpan=\"2\" colSpan=\"2\"></th>\r\n                                                <th colSpan=\"2\">Giỏi</th>\r\n                                                <th colSpan=\"2\">Khá</th>\r\n                                                <th colSpan=\"2\">Trung Bình</th>\r\n                                                <th colSpan=\"2\">Yếu</th>\r\n                                                <th colSpan=\"2\">Kém</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3 mb-2 \">\r\n                                <div className=\"col-xs-7 col-sm-7 col-md-7 col-lg-7\"> </div>\r\n                                <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5 text-center ml-auto\">\r\n                                    Hà Nội, ngày {this.state.date.getDate()} tháng {this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                    <br />\r\n                                    <br />\r\n                                    <br />\r\n                                    {this.state.homeroomTeacher}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(SubjectStatistic);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/TeachingClassScore.css';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { Modal, Button } from 'react-bootstrap'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport XLSX from \"xlsx\";\r\n\r\n\r\nclass TeachingClassScore extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            info: {},\r\n            scoreList: [],\r\n            edited: false,\r\n            submitLoading: false,\r\n            showConfirm: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n        })\r\n        //console.log(this.props.location.state);\r\n        if (!this.props.location.state) {\r\n            this.props.history.push(\"/my-teaching-assignment\", {\r\n                kind: \"edit\"\r\n            })\r\n            return\r\n        }\r\n\r\n        this.unblock = this.props.history.block(tx => {\r\n            if (!this.state.edited) {\r\n                this.unblock()\r\n                return true\r\n            } else {\r\n                this.setState({\r\n                    showConfirm: true,\r\n                })\r\n                return false\r\n            }\r\n        });\r\n        let info = this.props.location.state\r\n        this.setState({ info: info })\r\n        try {\r\n            let checkLock = await Api.checkLock(info.schoolYearId, info.term)\r\n            console.log(checkLock)\r\n            if (checkLock.data.result.lock) {\r\n                store.addNotification({\r\n                    title: \"Không thể nhập điểm\",\r\n                    message: \"Hiện tại đang khóa nhập điểm vui lòng chờ đến thời điểm nhập điểm hoặc liên hệ quản trị viên\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.props.history.push(\"/my-teaching-assignment\", {\r\n                    kind: \"edit\"\r\n                })\r\n                return\r\n            }\r\n            await this.refresh()\r\n            this.setState({ loading: false })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.unblock) {\r\n            this.unblock()\r\n        }\r\n    }\r\n\r\n    refresh = async () => {\r\n        let info = this.props.location.state\r\n        this.setState({ loading: true })\r\n        try {\r\n            let studentAssignmentList = await Api.searchStudentAssignment(1, 1000000, {\r\n                schoolYearId: info.schoolYearId,\r\n                classId: info.classId,\r\n            })\r\n            studentAssignmentList = studentAssignmentList.data.result.data\r\n            //console.log(studentAssignmentList)\r\n            let listApi = []\r\n            for (let i = 0; i < studentAssignmentList.length; i++) {\r\n                listApi.push(\r\n                    Api.getSubjectScore(studentAssignmentList[i].studentId, info.subjectId, info.schoolYearId, info.term)\r\n                )\r\n            }\r\n            let scoreList = await Promise.all(listApi);\r\n            //console.log(scoreList)\r\n            let list = [];\r\n            for (let i = 0; i < scoreList.length; i++) {\r\n                list.push({\r\n                    ...studentAssignmentList[i],\r\n                    scoreMouth: [],\r\n                    score15: [],\r\n                    score45: [],\r\n                    scoreTerm: {},\r\n                })\r\n                let scores = scoreList[i].data.scores\r\n                for (let j = 0; j < scores.length; j++) {\r\n                    switch (scores[j].kind) {\r\n                        case 0: list[i].scoreMouth.push(scores[j]);\r\n                            break;\r\n                        case 1: list[i].score15.push(scores[j]);\r\n                            break;\r\n                        case 2: list[i].score45.push(scores[j]);\r\n                            break;\r\n                        case 3: list[i].scoreTerm = scores[j];\r\n                            break;\r\n                        default:\r\n                    }\r\n                }\r\n                while (list[i].scoreMouth.length < 5) {\r\n                    list[i].scoreMouth.push({\r\n                        kind: 0,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                while (list[i].score15.length < 5) {\r\n                    list[i].score15.push({\r\n                        kind: 1,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                while (list[i].score45.length < 3) {\r\n                    list[i].score45.push({\r\n                        kind: 2,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                if (!list[i].scoreTerm.scoreId) {\r\n                    list[i].scoreTerm = {\r\n                        kind: 3,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    }\r\n                }\r\n            }\r\n            console.log(list)\r\n            this.setState({\r\n                loading: false,\r\n                scoreList: list,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.scoreList.map((data, index) => {\r\n            const { studentCode, studentName, scoreMouth, score15, score45, scoreTerm } = data;\r\n            let list = []\r\n            for (let i = 0; i < scoreMouth.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"mouth\" + i}>\r\n                        <input className=\"score-input form-control\" type=\"text\" value={scoreMouth[i].score} onChange={(e) => this.changeScore(index, 0, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            for (let i = 0; i < score15.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"score15\" + i}>\r\n                        <input className=\"score-input form-control\" type=\"text\" value={score15[i].score} onChange={(e) => this.changeScore(index, 1, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            for (let i = 0; i < score45.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"score45\" + i}>\r\n                        <input className=\"score-input form-control\" type=\"text\" value={score45[i].score} onChange={(e) => this.changeScore(index, 2, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            list.push(\r\n                <td className=\"td-score\" key={\"score-term\"}>\r\n                    <input className=\"score-input form-control\" type=\"text\" value={scoreTerm.score} onChange={(e) => this.changeScore(index, 3, 0, e)} />\r\n                </td>\r\n            )\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    {list}\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    changeScore = (index, kind, pos, event) => {\r\n        let value = event.target.value;\r\n        let scoreList = this.state.scoreList\r\n        switch (kind) {\r\n            case 0: scoreList[index].scoreMouth[pos].score = value; scoreList[index].scoreMouth[pos].edited = true; break;\r\n            case 1: scoreList[index].score15[pos].score = value; scoreList[index].score15[pos].edited = true; break;\r\n            case 2: scoreList[index].score45[pos].score = value; scoreList[index].score45[pos].edited = true; break;\r\n            case 3: scoreList[index].scoreTerm.score = value; scoreList[index].scoreTerm.edited = true; break;\r\n            default:\r\n        }\r\n        this.setState({\r\n            edited: true,\r\n            scoreList: scoreList\r\n        })\r\n    }\r\n\r\n    validateScore = (score) => {\r\n        if (score === \"\") {\r\n            return true\r\n        }\r\n        if (isNaN(score)) {\r\n            store.addNotification({\r\n                title: \"Lỗi \",\r\n                message: \"Điểm nhập phải là số\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false\r\n        }\r\n\r\n        if (parseFloat(score) < 0 || parseFloat(score) > 10) {\r\n            store.addNotification({\r\n                title: \"Lỗi \",\r\n                message: \"Điểm nhập phải >= 0 và <= 10\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false\r\n        }\r\n\r\n        return true\r\n    }\r\n\r\n    submit = async () => {\r\n        if (!this.state.edited) {\r\n            return\r\n        }\r\n        this.setState({\r\n            submitLoading: true,\r\n        })\r\n        try {\r\n            let list = [];\r\n            let scoreList = this.state.scoreList;\r\n            for (let i = 0; i < scoreList.length; i++) {\r\n                let scores = []\r\n                for (let j = 0; j < scoreList[i].scoreMouth.length; j++) {\r\n                    let score = scoreList[i].scoreMouth[j];\r\n                    if (!score.edited) {\r\n                        continue\r\n                    }\r\n\r\n                    if (!this.validateScore(score.score)) {\r\n                        return\r\n                    }\r\n\r\n                    if (!score.scoreId) {\r\n                        if (score.score === \"\") {\r\n                            continue\r\n                        }\r\n                        scores.push({\r\n                            method: \"add\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    if (score.score === \"\") {\r\n                        scores.push({\r\n                            method: \"delete\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    scores.push({\r\n                        method: \"edit\",\r\n                        ...score,\r\n                    })\r\n                }\r\n\r\n                for (let j = 0; j < scoreList[i].score15.length; j++) {\r\n                    let score = scoreList[i].score15[j];\r\n                    if (!score.edited) {\r\n                        continue\r\n                    }\r\n                    if (!this.validateScore(score.score)) {\r\n                        return\r\n                    }\r\n                    if (!score.scoreId) {\r\n                        if (score.score === \"\") {\r\n                            continue\r\n                        }\r\n                        scores.push({\r\n                            method: \"add\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    if (score.score === \"\") {\r\n                        scores.push({\r\n                            method: \"delete\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    scores.push({\r\n                        method: \"edit\",\r\n                        ...score,\r\n                    })\r\n                }\r\n\r\n                for (let j = 0; j < scoreList[i].score45.length; j++) {\r\n                    let score = scoreList[i].score45[j];\r\n                    if (!score.edited) {\r\n                        continue\r\n                    }\r\n                    if (!this.validateScore(score.score)) {\r\n                        return\r\n                    }\r\n                    if (!score.scoreId) {\r\n                        if (score.score === \"\") {\r\n                            continue\r\n                        }\r\n\r\n                        scores.push({\r\n                            method: \"add\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    if (score.score === \"\") {\r\n                        scores.push({\r\n                            method: \"delete\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    scores.push({\r\n                        method: \"edit\",\r\n                        ...score,\r\n                    })\r\n                }\r\n\r\n                let score = scoreList[i].scoreTerm;\r\n                if (score.edited) {\r\n                    if (!this.validateScore(score.score)) {\r\n                        return\r\n                    }\r\n                    if (!score.scoreId) {\r\n                        scores.push({\r\n                            method: \"add\",\r\n                            ...score,\r\n                        })\r\n                    } else {\r\n                        if (score.score === \"\") {\r\n                            scores.push({\r\n                                method: \"delete\",\r\n                                ...score,\r\n                            })\r\n                        } else {\r\n                            scores.push({\r\n                                method: \"edit\",\r\n                                ...score,\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n                list.push({\r\n                    studentId: scoreList[i].studentId,\r\n                    scores: scores\r\n                })\r\n            }\r\n            await Api.editScore({ students: list })\r\n            await this.refresh()\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Cập nhật điểm thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({ submitLoading: false, edited: false })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ submitLoading: false })\r\n            if (err.response && err.response.data.message && err.response.data.message.includes(\"locked\")) {\r\n                store.addNotification({\r\n                    title: \"Thêm tài khoản thất bại\",\r\n                    message: \"Hiện tại đang khóa nhập điểm vui lòng chờ đến thời điểm nhập điểm hoặc liên hệ quản trị viên\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({ showConfirm: false })\r\n    }\r\n\r\n    exportFile = () => {\r\n        let data = []\r\n        data.push([\"STT\", \"MSHS\", \"Họ tên\", \"Miệng\", \"\", \"\", \"\", \"\", \"15 phút\", \"\", \"\", \"\", \"\", \"1 tiết\", \"\", \"\", \"Thi\"])\r\n        let scoreList = this.state.scoreList\r\n        scoreList.forEach((score, index) => {\r\n            let row = [index + 1, score.studentCode, score.studentName]\r\n            let scoreMouth = score.scoreMouth.map((e) => e.score)\r\n            row.push(...scoreMouth)\r\n            let score15 = score.score15.map((e) => e.score)\r\n            row.push(...score15)\r\n            let score45 = score.score45.map((e) => e.score)\r\n            row.push(...score45)\r\n            row.push(score.scoreTerm.score)\r\n            data.push(row)\r\n        })\r\n        let ws = XLSX.utils.aoa_to_sheet(data)\r\n        ws['!merges'] = [\r\n            {\r\n                s: { r: 0, c: 3 },\r\n                e: { r: 0, c: 7 }\r\n            },\r\n            {\r\n                s: { r: 0, c: 8 },\r\n                e: { r: 0, c: 12 }\r\n            },\r\n            {\r\n                s: { r: 0, c: 13 },\r\n                e: { r: 0, c: 15 }\r\n            },\r\n        ]\r\n        const wb = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(wb, ws, \"Score\");\r\n        // /* generate XLSX file and send to client */\r\n        XLSX.writeFile(wb, \"score.xlsx\");\r\n    }\r\n\r\n    SheetJSFT = [\r\n        \"xlsx\", \"xlsb\", \"xlsm\", \"xls\", \"xml\", \"csv\", \"txt\", \"ods\", \"fods\", \"uos\", \"sylk\", \"dif\", \"dbf\", \"prn\", \"qpw\", \"123\", \"wb*\", \"wq*\", \"html\", \"htm\"\r\n    ].map(x => `.${x}`).join(\",\");\r\n\r\n    importFile = (e) => {\r\n        const files = e.target.files;\r\n        if (!files || !files[0]) {\r\n            return\r\n        }\r\n        const file = files[0]\r\n        const reader = new FileReader();\r\n        const rABS = !!reader.readAsBinaryString;\r\n        reader.onload = (e) => {\r\n            const bstr = e.target.result;\r\n            const wb = XLSX.read(bstr, { type: rABS ? 'binary' : 'array' });\r\n            /* Get first worksheet */\r\n            const wsname = wb.SheetNames[0];\r\n            const ws = wb.Sheets[wsname];\r\n            /* Convert array of arrays */\r\n            const data = XLSX.utils.sheet_to_json(ws, { header: 1 });\r\n            let scoreList = this.state.scoreList\r\n            console.log(scoreList, data)\r\n            try {\r\n                for (let i = 1; i < data.length; i++) {\r\n                    let scoreNew = data[i]\r\n                    let scoreOld = scoreList[i - 1]\r\n                    console.log(scoreNew, scoreOld)\r\n                    if (scoreOld.studentCode !== scoreNew[1]) {\r\n                        store.addNotification({\r\n                            title: \"Lỗi\",\r\n                            message: \"File nhập không đúng định dạng\",\r\n                            type: \"danger\",\r\n                            container: \"top-center\",\r\n                            dismiss: {\r\n                                duration: 5000,\r\n                                showIcon: true,\r\n                            },\r\n                            animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                            animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                        })\r\n                        this.refresh()\r\n                        return\r\n                    }\r\n                    for (let j = 3; j <= 7; j++) {\r\n                        if (scoreOld.scoreMouth[j - 3].score !== scoreNew[j]) {\r\n                            scoreOld.scoreMouth[j - 3].edited = true;\r\n                            if (!scoreNew[j]) {\r\n                                scoreOld.scoreMouth[j - 3].score = \"\"\r\n                            } else {\r\n                                scoreOld.scoreMouth[j - 3].score = scoreNew[j]\r\n                            }\r\n                        }\r\n                    }\r\n                    for (let i = 8; i <= 12; i++) {\r\n                        if (scoreOld.score15[i - 8].score !== scoreNew[i]) {\r\n                            scoreOld.score15[i - 8].edited = true;\r\n                            if (!scoreNew[i]) {\r\n                                scoreOld.score15[i - 8].score = \"\"\r\n                            } else {\r\n                                scoreOld.score15[i - 8].score = scoreNew[i]\r\n                            }\r\n                        }\r\n                    }\r\n                    for (let i = 13; i <= 15; i++) {\r\n                        if (scoreOld.score45[i - 13].score !== scoreNew[i]) {\r\n                            scoreOld.score45[i - 13].edited = true;\r\n                            if (!scoreNew[i]) {\r\n                                scoreOld.score45[i - 13].score = \"\"\r\n                            } else {\r\n                                scoreOld.score45[i - 13].score = scoreNew[i]\r\n                            }\r\n                        }\r\n                    }\r\n                    if (scoreOld.scoreTerm.score !== scoreNew[16]) {\r\n                        scoreOld.scoreTerm.edited = true;\r\n                        if (!scoreNew[16]) {\r\n                            scoreOld.scoreTerm.score = \"\"\r\n                        } else {\r\n                            scoreOld.scoreTerm.score = scoreNew[16]\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({\r\n                    scoreList: scoreList,\r\n                    edited: true,\r\n                })\r\n                store.addNotification({\r\n                    title: \"Thành công\",\r\n                    message: `Nhập file thành công!    Kết quả được hiển thị ở bảng.     Ấn lưu để lưu lại`,\r\n                    type: \"success\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        //showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n                store.addNotification({\r\n                    title: \"Lỗi\",\r\n                    message: \"File nhập không đúng định dạng\",\r\n                    type: \"danger\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.refresh()\r\n            }\r\n        };\r\n        if (rABS) reader.readAsBinaryString(file); else reader.readAsArrayBuffer(file);\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.state)\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Confirm\r\n                    show={this.state.showConfirm}\r\n                    close={this.closeConfirm}\r\n                    unblock={this.unblock}\r\n                    goBack={this.back}\r\n                />\r\n                <Loading show={this.state.submitLoading} />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Nhập điểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-6 mt-1\">\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Năm học: </b>{this.state.info.schoolYear}\r\n                        </span>\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Lớp: </b>{this.state.info.className}\r\n                        </span>\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Học kỳ: </b>{this.state.info.term}\r\n                        </span>\r\n\r\n                        <span className=\"align-middle\">\r\n                            <b>Môn: </b>{this.state.info.subjectName}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                        <input\r\n                            type=\"file\"\r\n                            ref={el => this.inputRef = el}\r\n                            onChange={this.importFile}\r\n                            style={{ display: \"none\" }}\r\n                            accept={this.SheetJSFT}\r\n                        />\r\n                        <button type=\"button\" className=\"btn btn-primary mr-4\" onClick={() => { this.inputRef.click() }} >Nhập điểm từ file Excel</button>\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.exportFile()}>Xuất file điểm</button>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <form className=\"text-center\">\r\n                            <table id=\"score-table\" className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>MSHS</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th colSpan=\"5\">Miệng</th>\r\n                                        <th colSpan=\"5\">15 phút</th>\r\n                                        <th colSpan=\"3\">1 tiết</th>\r\n                                        <th>Thi</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </form>\r\n                        <button className=\"btn btn-primary\" onClick={() => { this.submit(); this.setState({ submitLoading: false }) }}>Lưu</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Confirm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận thoát</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn thoát, các thay đổi sẽ không được lưu ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.unblock(); this.props.goBack() }}>Thoát</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(TeachingClassScore);","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { FiEdit } from 'react-icons/fi'\r\nimport { Modal, Form, Button } from 'react-bootstrap';\r\nimport '../../css/ConductAssessment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass ConductAssessment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            conductList: [],\r\n            term: 0,\r\n            iconSize: '20px',\r\n            searchCondition: {},\r\n            teacher: {},\r\n            class: {},\r\n            loading: true,\r\n            modalData: {\r\n\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showList: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                term: 1,\r\n                teacherId: teacher.data.result.teacherId\r\n            }\r\n            this.setState({\r\n                teacher: teacher.data.result,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        searchCondition = searchCondition || this.state.searchCondition\r\n        //console.log(this.state)\r\n        this.setState({ loading: true })\r\n        try {\r\n            let _class = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            if (_class.data.result.data.length === 0) {\r\n                store.addNotification({\r\n                    title: \"Cảnh báo\",\r\n                    message: \"Bạn không được phân công làm GVCN năm này\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, showList: false })\r\n                return\r\n            }\r\n\r\n            searchCondition[\"classId\"] = _class.data.result.data[0].classId\r\n\r\n            let [res, studentList] = await Promise.all([\r\n                Api.getClassConduct(searchCondition || this.state.searchCondition),\r\n                Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            ])\r\n            console.log(res, studentList)\r\n            let conducts = res.data.result\r\n            let conductList = studentList.data.result.data\r\n            for (let i = 0; i < conductList.length; i++) {\r\n                let conduct = conducts.find(e => e.studentId === conductList[i].studentId)\r\n                if (conduct) {\r\n                    conductList[i] = {\r\n                        ...conductList[i],\r\n                        conduct: conduct.conduct,\r\n                        note: conduct.note,\r\n                        teacherId: conduct.teacherId,\r\n                        term: searchCondition.term,\r\n                    }\r\n                } else {\r\n                    conductList[i] = {\r\n                        ...conductList[i],\r\n                        conduct: 5,\r\n                        note: \"\",\r\n                        teacherId: this.state.teacher.teacherId,\r\n                        term: this.state.searchCondition.term,\r\n                    }\r\n                }\r\n            }\r\n            console.log(conductList)\r\n\r\n            this.setState({\r\n                class: _class.data.result.data[0],\r\n                loading: false,\r\n                conductList: conductList,\r\n                showList: true,\r\n                searchCondition: this.state.searchCondition\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n\t\tsearchCondition.classId = null\r\n        this.setState({ searchCondition: searchCondition })\r\n        this.refresh(searchCondition)\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    conductName = [\"Tốt\", \"Khá\", \"Trung bình\", \"Yếu\"]\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.conductList.map((data, index) => {\r\n            const { studentCode, studentName, dateOfBirth, address, gender, conduct, note } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                    <td>{this.conductName[conduct]}</td>\r\n                    <td>{note}</td>\r\n                    <td>\r\n                        <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => this.editConduct(index)}>\r\n                            <FiEdit size={this.state.iconSize} />\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    editConduct = (index) => {\r\n        let conduct = this.state.conductList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"edit\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...conduct\r\n            }\r\n        })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Cập nhật đánh giá hạnh kiểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\">\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-3\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {this.state.showList &&\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 text-center conduct-title\">\r\n                            <div>\r\n                                <b>Phiếu đánh giá hạnh kiểm</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.state.showList &&\r\n                    <div className=\"row mt-3\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                            <span className=\"mr-5\">\r\n                                <b>Năm học: </b>{this.state.class.schoolYear}\r\n                            </span>\r\n                            <span className=\"mr-5\">\r\n                                <b>Học kỳ: </b>{this.state.searchCondition.term}\r\n                            </span>\r\n                            <span className=\"mr-5\">\r\n                                <b>Lớp: </b>{this.state.class.className}\r\n                            </span>\r\n                            <span className=\"mr-5\">\r\n                                <b>Sĩ số: </b> {this.state.conductList.length}\r\n                            </span>\r\n                            <span className=\"mr-5\">\r\n                                <b>Giáo viên chủ nhiệm: </b>{this.state.teacher.teacherName}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.state.showList &&\r\n                    <div className=\"row mt-4\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>MSHS</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Ngày sinh</th>\r\n                                        <th>Giới tính</th>\r\n                                        <th>Nơi sinh</th>\r\n                                        <th>Hạnh kiểm</th>\r\n                                        <th>Ý kiến giáo viên</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm đánh giá\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Cập nhật đánh giá\"\r\n        }\r\n        return \"Thông tin đánh giá\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addConduct}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editConduct}>Cập nhật</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    editConduct = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.assessConduct(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Cập nhật đánh giá thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Hạnh kiểm</Form.Label>\r\n                                        <SelectSearch\r\n                                            options={[{ name: \"Tốt\", value: 0 }, { name: \"Khá\", value: 1 }, { name: \"Trung bình\", value: 2 }, { name: \"Yếu\", value: 3 }]}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            value={this.props.data.conduct}\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"conduct\", value: v } }) }}\r\n                                        />\r\n                                    </Form.Group>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Ý kiến giáo viên</Form.Label>\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            placeholder=\"Nhập ý kiên giáo viên\"\r\n                                            name=\"note\"\r\n                                            value={this.props.data.note}\r\n                                            onChange={this.changeHandler}\r\n                                            readOnly={this.props.kind === \"info\"}\r\n                                        />\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nConductAssessment.contextType = AppContext\r\n\r\nexport default withRouter(ConductAssessment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/StudentAttendance.css';\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport AppContext from '../../context/AppContext'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { Modal, Button } from 'react-bootstrap'\r\n\r\nclass StudentAttendance extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            studentList: [],\r\n            searchCondition: {\r\n                beginDate: new Date(),\r\n                endDate: new Date()\r\n            },\r\n            iconSize: '15px',\r\n            edited: false,\r\n            showReport: false,\r\n            showLoading: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.unblock = this.props.history.block(tx => {\r\n            if (!this.state.edited) {\r\n                this.unblock()\r\n                return true\r\n            } else {\r\n                this.setState({\r\n                    showConfirm: true,\r\n                })\r\n                return false\r\n            }\r\n        });\r\n        this.setState({ loading: true })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ])\r\n            let now = new Date()\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId,\r\n                beginDate: (new Date()).setDate(now.getDate() - 3),\r\n                endDate: (new Date()).setDate(now.getDate() + 3)\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n            }\r\n            this.setState({\r\n                classList: homeroomClass.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                homeroomTeacher: teacher.data.result,\r\n                searchCondition: searchCondition,\r\n                class: homeroomClass.data.result.data.length ? homeroomClass.data.result.data[0] : {},\r\n                loading: false\r\n            })\r\n            await this.refresh(searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.unblock) {\r\n            this.unblock()\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, studentList: [] })\r\n                return\r\n            }\r\n            let [res, studentList] = await Promise.all([\r\n                Api.getClassAttendance(searchCondition || this.state.searchCondition),\r\n                Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            ])\r\n            studentList = this.processData(studentList.data.result.data, res.data.result)\r\n            console.log(res, studentList)\r\n            this.setState({\r\n                loading: false,\r\n                studentList: studentList,\r\n                showReport: true,\r\n                attendanceList: res.data.result\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getDateString = (date) => {\r\n        let d = new Date(date)\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return yyyy + \"-\" + mm + \"-\" + dd\r\n    }\r\n\r\n    processData = (studentList, attendanceList) => {\r\n        let attendances = {}\r\n        for (let i = 0; i < attendanceList.length; i++) {\r\n            let attendance = attendanceList[i];\r\n            if (!attendances[attendance.studentId]) {\r\n                attendances[attendance.studentId] = {}\r\n            }\r\n            attendances[attendance.studentId][this.getDateString(attendance.date)] = attendance\r\n        }\r\n        for (let i = 0; i < studentList.length; i++) {\r\n            let attendance = attendances[studentList[i].studentId] || {}\r\n            studentList[i] = {\r\n                attendance,\r\n                ...studentList[i]\r\n            }\r\n        }\r\n        return studentList\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"beginDate\") {\r\n            searchCondition.endDate = (new Date(value)).setDate(value.getDate() + 6)\r\n        }\r\n        if (name === \"endDate\") {\r\n            searchCondition.beginDate = (new Date(value)).setDate(value.getDate() - 6)\r\n        }\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                } else {\r\n                    store.addNotification({\r\n                        title: \"Thông báo\",\r\n                        message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                        type: \"info\",\r\n                        container: \"top-center\",\r\n                        dismiss: {\r\n                            duration: 5000,\r\n                            showIcon: true,\r\n                        },\r\n                        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                    })\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    class: classList.data.result.data.length ? classList.data.result.data[0] : {},\r\n                    classList: classList.data.result.data,\r\n                    searchCondition: searchCondition,\r\n                })\r\n                return\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n        this.setState({ searchCondition: searchCondition, showReport: false })\r\n    }\r\n\r\n    renderTableHeader = () => {\r\n        let tdList = [];\r\n        tdList.push(<td key=\"stt\">STT</td>)\r\n        tdList.push(<td key=\"code\">Mã HS</td>)\r\n        tdList.push(<td key=\"name\">Họ tên</td>)\r\n        let i = new Date(this.state.searchCondition.beginDate)\r\n        while (i <= this.state.searchCondition.endDate) {\r\n            tdList.push(\r\n                <td key={i.toString()}>{i.getDate() + \"/\" + (i.getMonth() + 1)}</td>\r\n            )\r\n            i.setDate(i.getDate() + 1);\r\n        }\r\n        return (\r\n            <tr>\r\n                {tdList}\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    renderTableData = () => {\r\n        let studentList = this.state.studentList;\r\n        let trList = [];\r\n        for (let i = 0; i < studentList.length; i++) {\r\n            let tdList = [];\r\n            let student = studentList[i];\r\n            tdList.push(<td key={\"stt\" + i}>{i + 1}</td>)\r\n            tdList.push(<td key={\"code\" + i}>{student.studentCode}</td>)\r\n            tdList.push(<td key={\"name\" + i}>{student.studentName}</td>)\r\n            let date = new Date(this.state.searchCondition.beginDate)\r\n            let attendance = student.attendance\r\n            let schoolYear = this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId)\r\n            while (date <= this.state.searchCondition.endDate) {\r\n                let key = this.getDateString(date)\r\n                if (!attendance[key]) {\r\n                    attendance[key] = {\r\n                        schoolYearId: this.state.searchCondition.schoolYearId,\r\n                        teacherId: this.state.searchCondition.teacherId,\r\n                        date: key,\r\n                        attendance: 2,\r\n                        term: date <= schoolYear.endSemester1 ? 1 : 2\r\n                    }\r\n                }\r\n                tdList.push(\r\n                    <td key={date.toString() + i}>\r\n                        <select\r\n                            className=\"attendance-cell\"\r\n                            onChange={e => this.changeAttendance(attendance[key], e.target.value)}\r\n                            value={attendance[key].attendance}\r\n                        >\r\n                            <option value=\"2\"></option>\r\n                            <option value=\"0\">KP</option>\r\n                            <option value=\"1\">P</option>\r\n                        </select>\r\n                    </td>\r\n                )\r\n                date.setDate(date.getDate() + 1);\r\n            }\r\n            trList.push(\r\n                <tr key={i}>\r\n                    {tdList}\r\n                </tr>\r\n            )\r\n        }\r\n        return trList;\r\n    }\r\n\r\n    changeAttendance = (attendance, value) => {\r\n        attendance.attendance = parseInt(value);\r\n        attendance.edited = true;\r\n        this.setState({ edited: true });\r\n    }\r\n\r\n    submit = async () => {\r\n        this.setState({ showLoading: true })\r\n        let list = [];\r\n        let studentList = this.state.studentList;\r\n        for (let i = 0; i < studentList.length; i++) {\r\n            let element = {\r\n                studentId: studentList[i].studentId,\r\n                classId: this.state.searchCondition.classId,\r\n                attendances: []\r\n            }\r\n            let attendance = studentList[i].attendance\r\n            for (let date in attendance) {\r\n                if (attendance[date].edited) {\r\n                    if (!attendance[date].attendanceId) {\r\n                        if (attendance[date].attendance !== 2) {\r\n                            element.attendances.push({\r\n                                ...attendance[date],\r\n                                method: \"add\"\r\n                            })\r\n                        } else {\r\n                            continue\r\n                        }\r\n                    } else {\r\n                        if (attendance[date].attendance !== 2) {\r\n                            element.attendances.push({\r\n                                ...attendance[date],\r\n                                method: \"edit\"\r\n                            })\r\n                        } else {\r\n                            element.attendances.push({\r\n                                ...attendance[date],\r\n                                method: \"delete\",\r\n                                attendance: 1,\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            list.push(element)\r\n        }\r\n        try {\r\n            if (this.state.edited) {\r\n                await Api.updateAttendance({ students: list })\r\n            }\r\n\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: \"Cập nhật điểm danh thành công\",\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({ showLoading: false, edited: false })\r\n            await this.refresh()\r\n        } catch (err) {\r\n            this.setState({ showLoading: false })\r\n            console.log(err)\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({ showConfirm: false })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        // console.log(this.state.studentList)\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.showLoading} />\r\n                <Confirm\r\n                    show={this.state.showConfirm}\r\n                    close={this.closeConfirm}\r\n                    unblock={this.unblock}\r\n                    goBack={this.back}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Điểm danh\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                    disabled={true}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Từ ngày:</label>\r\n                            <div style={{ width: \"120px\" }} className=\"ml-1\">\r\n                                <DatePicker\r\n                                    selected={this.state.searchCondition.beginDate}\r\n                                    onChange={v => this.changeSearchCondition(\"beginDate\", v)}\r\n                                    dateFormat=\"dd/MM/yyyy\"\r\n                                    className=\"form-control w-100 text-center\"\r\n                                    readOnly={this.props.kind === \"info\"}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Đến ngày:</label>\r\n                            <div style={{ width: \"120px\" }} className=\"ml-1\">\r\n                                <DatePicker\r\n                                    selected={this.state.searchCondition.endDate}\r\n                                    onChange={v => this.changeSearchCondition(\"endDate\", v)}\r\n                                    dateFormat=\"dd/MM/yyyy\"\r\n                                    className=\"form-control w-100 text-center\"\r\n                                    readOnly={this.props.kind === \"info\"}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-auto\" onClick={e => { e.preventDefault(); this.refresh() }}>Lấy danh sách</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div className=\"row mt-3\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    {this.renderTableHeader()}\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.submit()}>\r\n                                Lưu\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Confirm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận thoát</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn thoát, các thay đổi sẽ không được lưu ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.unblock(); this.props.goBack() }}>Thoát</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nStudentAttendance.contextType = AppContext\r\n\r\nexport default withRouter(StudentAttendance);\r\n","import React from \"react\";\r\nimport {\r\n    BsChevronRight,\r\n    BsChevronLeft,\r\n    BsChevronDoubleRight,\r\n    BsChevronDoubleLeft,\r\n} from \"react-icons/bs\"\r\nimport '../../css/pagination.css'\r\nclass Pagination extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    beginPage = () => {\r\n        if (this.props.pagination.currentPage !== 1) {\r\n            return (\r\n                <li className=\"page-item\" onClick={() => this.props.changePage(1)}>\r\n                    <div className=\"page-link\">\r\n                        <BsChevronDoubleLeft />\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return (\r\n            <li className=\"page-item disabled\">\r\n                <div className=\"page-link\">\r\n                    <BsChevronDoubleLeft />\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n    prePage = () => {\r\n        if (this.props.pagination.currentPage !== 1) {\r\n            return (\r\n                <li className=\"page-item\" onClick={() => this.props.changePage(this.props.pagination.currentPage - 1)} >\r\n                    <div className=\"page-link \">\r\n                        <BsChevronLeft />\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return (\r\n            <li className=\"page-item disabled\">\r\n                <div className=\"page-link \">\r\n                    <BsChevronLeft />\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n    nextPage = () => {\r\n        if (this.props.pagination.currentPage !== this.props.pagination.lastPage) {\r\n            return (\r\n                <li className=\"page-item\" onClick={() => this.props.changePage(this.props.pagination.currentPage + 1)} >\r\n                    <div className=\"page-link\">\r\n                        <BsChevronRight />\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return (\r\n            <li className=\"page-item disabled\">\r\n                <div className=\"page-link \">\r\n                    <BsChevronRight />\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n    lastPage = () => {\r\n        if (this.props.pagination.currentPage !== this.props.pagination.lastPage) {\r\n            return (\r\n                <li className=\"page-item\" onClick={() => this.props.changePage(this.props.pagination.lastPage)}>\r\n                    <div className=\"page-link\">\r\n                        <BsChevronDoubleRight />\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return (\r\n            <li className=\"page-item disabled\">\r\n                <div className=\"page-link\">\r\n                    <BsChevronDoubleRight />\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n    pageList = () => {\r\n        let start = this.props.pagination.currentPage > 5 ? this.props.pagination.currentPage - 5 : 1\r\n        let end = this.props.pagination.currentPage < this.props.pagination.lastPage - 5 ? this.props.pagination.currentPage + 5 : this.props.pagination.lastPage\r\n        let list = []\r\n        for (let i = start; i <= end; i++) {\r\n            if (i === this.props.pagination.currentPage) {\r\n                list.push(\r\n                    <li className=\"page-item disabled\" key={i}>\r\n                        <div className=\"page-link page-element\">{i}</div>\r\n                    </li>\r\n                )\r\n                continue\r\n            }\r\n            list.push(\r\n                <li className=\"page-item\" key={i} onClick={() => this.props.changePage(i)}>\r\n                    <div className=\"page-link page-element\">{i}</div>\r\n                </li>\r\n            )\r\n        }\r\n        return list\r\n    }\r\n\r\n    render() {\r\n        if (this.props.pagination.lastPage === 0) {\r\n            this.props.pagination.lastPage = 1\r\n        }\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <nav aria-label=\"Pagination\">\r\n                    <ul className=\"pagination\">\r\n                        {this.beginPage()}\r\n                        {this.prePage()}\r\n                        {this.pageList()}\r\n                        {this.nextPage()}\r\n                        {this.lastPage()}\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Pagination","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/ScoreLock.css';\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { store } from 'react-notifications-component';\r\nimport { BiRefresh } from 'react-icons/bi';\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\nclass ScoreLock extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            scoreLockList: [],\r\n            schoolYearList: [],\r\n            loading: true,\r\n            showConfirm: false,\r\n            modalData: {},\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let [schoolYearList, scoreLockList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getScoreLockList(1, 1000000)\r\n            ])\r\n            schoolYearList = schoolYearList.data.result.data\r\n            scoreLockList = scoreLockList.data.result.data\r\n            //console.log(schoolYearList, scoreLockList)\r\n            let listAdd = []\r\n            for (let i = 0; i < schoolYearList.length; i++) {\r\n                if (scoreLockList.findIndex(e => e.schoolYearId === schoolYearList[i].schoolYearId) === -1) {\r\n                    listAdd.push(\r\n                        Api.addScoreLock({\r\n                            schoolYearId: schoolYearList[i].schoolYearId,\r\n                            term: 1,\r\n                            lock: 1,\r\n                        }),\r\n                        Api.addScoreLock({\r\n                            schoolYearId: schoolYearList[i].schoolYearId,\r\n                            term: 2,\r\n                            lock: 1,\r\n                        }),\r\n                    );\r\n                }\r\n            }\r\n            this.setState({ schoolYearList: schoolYearList })\r\n            await Promise.all(listAdd)\r\n            await this.refresh(1, this.state.perpage)\r\n            this.setState({ loading: false })\r\n        } catch (err) {\r\n            this.setState({ loading: false })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.getScoreLockList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n            console.log(res)\r\n            this.setState({ loading: false, scoreLockList: res.data.result.data, pagination: res.data.result.pagination })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    renderTableData = () => {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        let schoolYearList = this.state.schoolYearList\r\n        return this.state.scoreLockList.map((data, index) => {\r\n            const { schoolYearId, term, lock } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td className=\"text-center\">{sttBase + index}</td>\r\n                    <td className=\"text-center\">{schoolYearList.find(e => e.schoolYearId === schoolYearId).schoolYear}</td>\r\n                    <td className=\"text-center\">{term}</td>\r\n                    <td className=\"text-center\">{lock ? \"Khóa\" : \"Mở\"}</td>\r\n                    <td className=\"text-center\">\r\n                        <button type=\"button\" className=\"change-state-btn\" onClick={() => lock ? this.unlock(index) : this.lock(index)} >{lock ? \"Mở\" : \"Khóa\"}</button>\r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    lock = (index) => {\r\n        let scoreLock = this.state.scoreLockList[index]\r\n        this.setState({\r\n            showConfirm: true,\r\n            modalData: {\r\n                method: \"lock\",\r\n                schoolYear: this.state.schoolYearList.find(e => e.schoolYearId === scoreLock.schoolYearId).schoolYear,\r\n                ...scoreLock,\r\n            }\r\n        })\r\n    }\r\n\r\n    unlock = (index) => {\r\n        let scoreLock = this.state.scoreLockList[index]\r\n        this.setState({\r\n            showConfirm: true,\r\n            modalData: {\r\n                method: \"unlock\",\r\n                schoolYear: this.state.schoolYearList.find(e => e.schoolYearId === scoreLock.schoolYearId).schoolYear,\r\n                ...scoreLock,\r\n            }\r\n        })\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({ showConfirm: false })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Confirm\r\n                    show={this.state.showConfirm}\r\n                    close={this.closeConfirm}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Khóa mở nhập điểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refresh() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                            {/* <div className=\"d-flex ml-auto\">\r\n                                <div className=\"input-group\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" />\r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-primary\" type=\"button\"><BsSearch /></button>\r\n                                    </div>\r\n                                </div>\r\n                            </div> */}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                        <div style={{ minHeight: \"430px\" }}>\r\n                            <table className=\"table table-bordered\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>Kì học</th>\r\n                                        <th>Trạng thái</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Confirm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    submit = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            this.props.data.method === \"lock\" ? await Api.lockScoreLock(this.props.data) : await Api.unlockScoreLock(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: this.props.data.method === \"lock\" ? \"Khóa thành công\" : \"Mở thành công\",\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn \"} {this.props.data.method === \"lock\" ? \"khóa nhập điểm\" : \"mở nhập điểm\"} {\" kì học \"} <b> {this.props.data.term} </b> {\" năm học \"} <b> {this.props.data.schoolYear} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.submit}>{this.props.data.method === \"lock\" ? \"Khóa\" : \"Mở\"}</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ScoreLock);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { FiEdit } from 'react-icons/fi';\r\nimport { BiSearch, BiRefresh } from 'react-icons/bi';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/TeachingAssignment.css';\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Loading from '../Loading/Loading'\r\n\r\n\r\nclass HomeroomTeacherAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            teacherList: [],\r\n            homeroomTeacherAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n            },\r\n            perpage: 1000000,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                homeroomTeacherAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchHomeroomTeacherAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            let data = res.data.result.data;\r\n            if (!(this.state.searchCondition.classId || this.state.searchCondition.teacherId)) {\r\n                let mark = {}\r\n                for (let i = 0; i < data.length; i++) {\r\n                    mark[data[i].classId] = 1\r\n                }\r\n                let classList = this.state.classList\r\n                let schoolYear = this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId)\r\n                for (let i = 0; i < classList.length; i++) {\r\n                    if (!mark[classList[i].classId]) {\r\n                        data.push({\r\n                            ...classList[i],\r\n                            ...schoolYear\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            this.setState({\r\n                loading: false,\r\n                homeroomTeacherAssignmentList: data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.homeroomTeacherAssignmentList.map((year, index) => {\r\n            const { teacherCode, teacherName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{className}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName ? teacherName : \"Chưa phân công\"}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td className=\"text-center\">\r\n                        <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => this.editHomeroomTeacherAssignment(index)}>\r\n                            <FiEdit size={this.state.iconSize} />\r\n                        </button></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    editHomeroomTeacherAssignment = (index) => {\r\n        let homeroomTeacherAssignment = this.state.homeroomTeacherAssignmentList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"edit\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...homeroomTeacherAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý phân công giáo viên chủ nhiệm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Năm học</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công giáo viên chủ nhiệm\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Cập nhật phân công giáo viên chủ nhiệm\"\r\n        }\r\n        return \"Thông tin phân công giáo viên chủ nhiệm\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addHomeroomTeacherAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editHomeroomTeacherAssignment}>Cập nhật</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    editHomeroomTeacherAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            if (this.props.data.teacherId) {\r\n                if (this.props.data.homeroomTeacherAssignmentId) {\r\n                    await Api.editHomeroomTeacherAssignment(this.props.data)\r\n                } else {\r\n                    await Api.addHomeroomTeacherAssignment(this.props.data)\r\n                }\r\n            } else {\r\n                if (this.props.data.homeroomTeacherAssignmentId) {\r\n                    await Api.deleteHomeroomTeacherAssignment(this.props.data.homeroomTeacherAssignmentId)\r\n                }\r\n            }\r\n\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Cập nhật giáo viên chủ nhiệm thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Cập nhật thất bại\",\r\n                    message: \"Giáo viên này đã được phân công làm chủ nhiệm một lớp khác\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                            disabled={true}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-11\">\r\n                                            <SelectSearch\r\n                                                options={this.props.getTeacherOption()}\r\n                                                search\r\n                                                filterOptions={fuzzySearch}\r\n                                                emptyMessage=\"Không tìm thấy\"\r\n                                                placeholder=\" \"\r\n                                                onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                                value={this.props.data.teacherId}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col d-flex\">\r\n                                            <BsTrash className=\"align-self-center\" onClick={() => this.changeHandler({ target: { name: \"teacherId\", value: null } })} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                            disabled={true}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(HomeroomTeacherAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh, } from 'react-icons/bi';\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\nimport { IoIosAdd } from 'react-icons/io';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/TeachingAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nclass TeachingAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            teacherList: [],\r\n            subjectList: [],\r\n            teachingAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n\r\n            },\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList, subjectList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n                Api.getSubjectList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                subjectList: subjectList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchTeachingAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                teachingAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSubjectOption = () => {\r\n        let list = this.state.subjectList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { subjectId, subjectName } = list[i];\r\n            options.push({\r\n                name: subjectName,\r\n                value: subjectId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teachingAssignmentList.map((year, index) => {\r\n            const { teacherCode, teacherName, subjectName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{className}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td className=\"text-center\"><BsTrash onClick={() => this.deleteTeachingAssignment(index)} /></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addTeachingAssignment = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: this.state.searchCondition.schoolYearId,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteTeachingAssignment = (index) => {\r\n        let teachingAssignment = this.state.teachingAssignmentList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...teachingAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                    getSubjectOption={this.getSubjectOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý phân công giảng dạy\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            {/* Button trigger modal */}\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={this.addTeachingAssignment}>\r\n                                <IoIosAdd size={this.state.iconSize} color=\"\" />Thêm phân công\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Môn học:</label>\r\n                            <div className=\"ml-1 select-subject\">\r\n                                <SelectSearch\r\n                                    options={this.getSubjectOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.subjectId}\r\n                                    onChange={v => this.changeSearchCondition(\"subjectId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Môn học</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>\r\n                                            <BsTrash />\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteTeachingAssignment(this.props.data.teachingAssignmentId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa phân công giảng dạy thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn xóa phân công của giáo viên \"} <b> {this.props.data.teacherName} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công giảng dạy\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa phân công giảng dạy\"\r\n        }\r\n        return \"Thông tin phân công giảng dạy\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addTeachingAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeachingAssignment}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    validate = () => {\r\n        if (!this.props.data.teacherId) {\r\n            store.addNotification({\r\n                title: \"Thông tin không hợp lệ\",\r\n                message: \"Giáo viên không được để trống\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false\r\n        }\r\n\r\n        if (!this.props.data.classId) {\r\n            store.addNotification({\r\n                title: \"Thông tin không hợp lệ\",\r\n                message: \"Lớp học không được để trống\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false\r\n        }\r\n\r\n        if (!this.props.data.subjectId) {\r\n            store.addNotification({\r\n                title: \"Thông tin không hợp lệ\",\r\n                message: \"Môn học không được để trống\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    addTeachingAssignment = async () => {\r\n        if (!this.validate()) {\r\n            return\r\n        }\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addTeachingAssignment(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm phân công giảng dạy thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Thêm phân công thất bại\",\r\n                    message: \"Đã tồn tại phân công cho lớp và môn học này trong năm học\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getTeacherOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                            value={this.props.data.teacherId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"\">Môn học</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getSubjectOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"subjectId\", value: v } }) }}\r\n                                            value={this.props.data.subjectId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(TeachingAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh } from 'react-icons/bi';\r\nimport { IoIosAdd } from 'react-icons/io';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/SpecialistAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\n\r\n\r\nclass SpecialistAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            teacherList: [],\r\n            specialistTeamList: [],\r\n            specialistAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n\r\n            },\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList, specialistTeamList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n                Api.getSpecialistTeamList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                specialistTeamList: specialistTeamList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchSpecialistAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                specialistAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSpecialistTeamOption = () => {\r\n        let list = this.state.specialistTeamList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { specialistTeamId, specialistName } = list[i];\r\n            options.push({\r\n                name: specialistName,\r\n                value: specialistTeamId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.specialistAssignmentList.map((data, index) => {\r\n            const { teacherCode, teacherName, specialistName, schoolYear } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName}</td>\r\n                    <td>{specialistName}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td className=\"text-center\"><BsTrash onClick={() => this.deleteSpecialistAssignment(index)} /></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addSpecialistAssignment = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: this.state.searchCondition.schoolYearId,\r\n                specialistTeamId: this.state.searchCondition.specialistTeamId,\r\n                specialistTeamName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteSpecialistAssignment = (index) => {\r\n        let specialistAssignment = this.state.specialistAssignmentList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...specialistAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                    getSpecialistTeamOption={this.getSpecialistTeamOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý phân công tổ chuyên môn\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={this.addSpecialistAssignment}>\r\n                                <IoIosAdd size={this.state.iconSize} color=\"\" />Thêm phân công\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Tổ:</label>\r\n                            <div className=\"ml-1 select-specialist-team\">\r\n                                <SelectSearch\r\n                                    options={this.getSpecialistTeamOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.specialistTeamId}\r\n                                    onChange={v => this.changeSearchCondition(\"specialistTeamId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Tổ</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>\r\n                                            <BsTrash />\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteSpecialistAssignment(this.props.data.specialistAssignmentId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa phân công tổ chuyên môn thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn phân công của giáo viên \"} <b> {this.props.data.teacherName} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công tổ chuyên môn\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa phân công tổ chuyên môn\"\r\n        }\r\n        return \"Thông tin phân công tổ chuyên môn\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addSpecialistAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeachingAssignment}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    addSpecialistAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addSpecialistAssignment(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm phân công tổ chuyên môn thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Thêm thất bại\",\r\n                    message: \"Giáo viên đã tồn tại trong tổ chuyên môn\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getTeacherOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                            value={this.props.data.teacherId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"\">Tổ chuyên môn</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getSpecialistTeamOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"specialistTeamId\", value: v } }) }}\r\n                                            value={this.props.data.specialistTeamId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SpecialistAssignment);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nclass SchoolYear extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      schoolYearList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        schoolYearId: 0,\r\n        startFirstSemester: new Date(),\r\n        finishFirstSemester: new Date(),\r\n        startSecondSemester: new Date(),\r\n        finishSecondSemester: new Date(),\r\n        schoolYear: \"\",\r\n        description: \"\",\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res = await Api.getSchoolYearList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      this.setState({ loading: false, schoolYearList: res.data.result.data, pagination: res.data.result.pagination })\r\n      //console.log(res)\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Năm học</th>\r\n        <th>Mô tả</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.schoolYearList.map((year, index) => {\r\n      const { schoolYear, description } = year;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{schoolYear}</span></td>\r\n          <td>{description}</td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteSchoolYear(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editSchoolYear(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addSchoolYear = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        startFirstSemester: new Date(),\r\n        finishFirstSemester: new Date(),\r\n        startSecondSemester: new Date(),\r\n        finishSecondSemester: new Date(),\r\n        schoolYear: \"\",\r\n        description: \"\",\r\n        schoolYearId: 0,\r\n      }\r\n    })\r\n  }\r\n\r\n  editSchoolYear = async (index) => {\r\n    let schoolYear = this.state.schoolYearList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        schoolYearId: schoolYear.schoolYearId,\r\n        startFirstSemester: new Date(schoolYear.beginSemester1),\r\n        finishFirstSemester: new Date(schoolYear.endSemester1),\r\n        startSecondSemester: new Date(schoolYear.beginSemester2),\r\n        finishSecondSemester: new Date(schoolYear.endSemester2),\r\n        schoolYear: schoolYear.schoolYear,\r\n        description: schoolYear.description,\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteSchoolYear = (index) => {\r\n    let schoolYear = this.state.schoolYearList[index]\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        schoolYearId: schoolYear.schoolYearId,\r\n        startFirstSemester: new Date(schoolYear.beginSemester1),\r\n        finishFirstSemester: new Date(schoolYear.endSemester1),\r\n        startSecondSemester: new Date(schoolYear.beginSemester2),\r\n        finishSecondSemester: new Date(schoolYear.endSemester2),\r\n        schoolYear: schoolYear.schoolYear,\r\n        description: schoolYear.description,\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let schoolYear = this.state.schoolYearList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        schoolYearId: schoolYear.schoolYearId,\r\n        startFirstSemester: new Date(schoolYear.beginSemester1),\r\n        finishFirstSemester: new Date(schoolYear.endSemester1),\r\n        startSecondSemester: new Date(schoolYear.beginSemester2),\r\n        finishSecondSemester: new Date(schoolYear.endSemester2),\r\n        schoolYear: schoolYear.schoolYear,\r\n        description: schoolYear.description,\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục năm học\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addSchoolYear}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm năm học\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteSchoolYear(this.props.data.schoolYearId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa năm học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Năm học này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu trong năm học này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa năm học \"}  <b>{this.props.data.schoolYear}</b>  {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm năm học\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa năm học\"\r\n    }\r\n    return \"Thông tin năm học\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addSchoolYear}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editSchoolYear}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    if (this.props.data.schoolYear.length > 15) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên năm học không được lớn hơn 15 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.schoolYear.length === 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên năm học không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.finishFirstSemester <= this.props.data.startFirstSemester) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra ngày Kết thúc kì 1 phải lớn hơn ngày Bắt đầu kì 1!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.startSecondSemester <= this.props.data.finishFirstSemester) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra ngày Bắt đầu kì 2 phải lớn hơn ngày Kết thúc kì 1!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.finishSecondSemester <= this.props.data.startSecondSemester) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra ngày Kết thúc kì 2 phải lớn hơn ngày Bắt đầu kì 2!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  addSchoolYear = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.addSchoolYear(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm năm học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Thêm thất bại\",\r\n          message: \"Năm học đã tồn tại\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editSchoolYear = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.editSchoolYear(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa năm học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Sửa thất bại\",\r\n          message: \"Năm học đã tồn tại\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <Form.Group>\r\n                    <Form.Label>Năm học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập năm học\"\r\n                      name=\"schoolYear\"\r\n                      value={this.props.data.schoolYear}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Thời gian bắt đầu kỳ 1\r\n                    </Form.Label>\r\n                    <div className=\"w-100\">\r\n                      <DatePicker\r\n                        selected={this.props.data.startFirstSemester}\r\n                        onChange={value => this.changeHandler({ target: { name: \"startFirstSemester\", value: value } })}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        className=\"form-control w-100\"\r\n                        readOnly={this.props.kind === \"info\"}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Thời gian kết thúc kỳ 1\r\n                    </Form.Label>\r\n                    <div className=\"w-100\">\r\n                      <DatePicker\r\n                        selected={this.props.data.finishFirstSemester}\r\n                        onChange={value => this.changeHandler({ target: { name: \"finishFirstSemester\", value: value } })}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        className=\"form-control w-100\"\r\n                        readOnly={this.props.kind === \"info\"}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Thời gian bắt đầu kỳ 2\r\n                    </Form.Label>\r\n                    <div className=\"w-100\">\r\n                      <DatePicker\r\n                        selected={this.props.data.startSecondSemester}\r\n                        onChange={value => this.changeHandler({ target: { name: \"startSecondSemester\", value: value } })}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        className=\"form-control w-100\"\r\n                        readOnly={this.props.kind === \"info\"}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Thời gian kết thúc kỳ 2\r\n                    </Form.Label>\r\n                    <div className=\"w-100\">\r\n                      <DatePicker\r\n                        selected={this.props.data.finishSecondSemester}\r\n                        onChange={value => this.changeHandler({ target: { name: \"finishSecondSemester\", value: value } })}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        className=\"form-control w-100\"\r\n                        readOnly={this.props.kind === \"info\"}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Mô tả\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      placeholder=\"Nhập mô tả\"\r\n                      value={this.props.data.description}\r\n                      name=\"description\"\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(SchoolYear);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh } from 'react-icons/bi';\r\nimport { IoIosAdd } from 'react-icons/io';\r\nimport { FaFileDownload, FaFileUpload } from 'react-icons/fa';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/StudentAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\n\r\nclass StudentAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            studentList: [],\r\n            studentAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n\r\n            },\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                studentCode: \"\",\r\n                studentId: null,\r\n                studentName: \"\",\r\n                studentAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, studentList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getStudentList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                classId: classList.data.result.data[0].classId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                studentList: studentList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchStudentAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                studentAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId,\r\n            classId: this.state.searchCondition.classId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    getStudentOption = () => {\r\n        let list = this.state.studentList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { studentId, studentName, studentCode } = list[i];\r\n            options.push({\r\n                name: studentName + \" - \" + studentCode,\r\n                value: studentId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.studentAssignmentList.map((data, index) => {\r\n            const { studentCode, studentName, dateOfBirth, gender, address } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                    <td className=\"text-center\"><BsTrash onClick={() => this.deleteStudentAssignment(index)} /></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addStudentAssignment = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                classId: this.state.searchCondition.classId,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: this.state.searchCondition.schoolYearId,\r\n                studentCode: \"\",\r\n                studentId: null,\r\n                studentName: \"\",\r\n                studentAssignmentId: 0,\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteStudentAssignment = (index) => {\r\n        let studentAssignment = this.state.studentAssignmentList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...studentAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getStudentOption={this.getStudentOption}\r\n                    getClassOption={this.getClassOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý danh sách học sinh trong lớp\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={this.addStudentAssignment}>\r\n                                <IoIosAdd size={this.state.iconSize} />Thêm học sinh vào lớp\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học sinh:</label>\r\n                            <div className=\"ml-1 select-student\">\r\n                                <SelectSearch\r\n                                    options={this.getStudentOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.studentId}\r\n                                    onChange={v => this.changeSearchCondition(\"studentId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số học sinh</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Ngày sinh</th>\r\n                                        <th>Giới tính</th>\r\n                                        <th>Địa chỉ</th>\r\n                                        <th>\r\n                                            <BsTrash />\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteStudentAssignment(this.props.data.studentAssignmentId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa phân học sinh khỏi lớp thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn xóa học sinh \"} <b> {this.props.data.studentName} </b> {\" khỏi lớp ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm học sinh vào lớp\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa phân công học sinh\"\r\n        }\r\n        return \"Thông tin phân công học sinh\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addStudentAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeachingAssignment}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    addStudentAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addStudentAssignment(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm phân học sinh vào lớp thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Thêm thất bại\",\r\n                    message: \"Học sinh này đã được phân vào một lớp trong năm học này\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Học sinh</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getStudentOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"studentId\", value: v } }) }}\r\n                                            value={this.props.data.studentId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(StudentAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Loading from '../Loading/Loading'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\n\r\n\r\nclass TransferClass extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            newSchoolYearId: 0,\r\n            classList: [],\r\n            newClassId: 0,\r\n            studentList: [],\r\n            checkboxList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {}\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                classId: classList.data.result.data[0].classId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                newSchoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                newClassId: classList.data.result.data[0].classId,\r\n                loading: false,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            let studentList = res.data.result.data;\r\n            this.state.checkboxList.length = studentList.length\r\n            this.state.checkboxList.fill(false)\r\n            this.setState({\r\n                loading: false,\r\n                studentList: studentList,\r\n                checkboxList: this.state.checkboxList\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    check = (index) => {\r\n        let checkboxList = this.state.checkboxList\r\n        checkboxList[index] = true\r\n        this.setState({\r\n            checkboxList: checkboxList\r\n        })\r\n    }\r\n\r\n    uncheck = (index) => {\r\n        let checkboxList = this.state.checkboxList\r\n        checkboxList[index] = false\r\n        this.setState({\r\n            checkboxList: checkboxList\r\n        })\r\n    }\r\n\r\n    checkAll = () => {\r\n        let checkboxList = this.state.checkboxList\r\n        checkboxList.fill(true)\r\n        this.setState({\r\n            checkboxList: checkboxList\r\n        })\r\n    }\r\n\r\n    uncheckAll = () => {\r\n        let checkboxList = this.state.checkboxList\r\n        checkboxList.fill(false)\r\n        this.setState({\r\n            checkboxList: checkboxList\r\n        })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.studentList.map((data, index) => {\r\n            const { studentCode, studentName, dateOfBirth, gender, address } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <th>\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            className=\"checkbox-assignment\"\r\n                            checked={this.state.checkboxList[index]}\r\n                            onClick={() => this.state.checkboxList[index] ? this.uncheck(index) : this.check(index)}\r\n                        />\r\n                    </th>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    tranferClass = async () => {\r\n        this.setState({ loadingModal: true })\r\n        try {\r\n            let studentList = this.state.studentList\r\n            let checkboxList = this.state.checkboxList\r\n            let list = []\r\n            for (let i = 0; i < studentList.length; i++) {\r\n                if (checkboxList[i]) {\r\n                    list.push({\r\n                        studentId: studentList[i].studentId,\r\n                        classId: this.state.newClassId,\r\n                        schoolYearId: this.state.newSchoolYearId\r\n                    })\r\n                }\r\n            }\r\n            if (list.length === 0) {\r\n                this.setState({ loadingModal: false })\r\n                return\r\n            }\r\n            await Api.tranferClass(list)\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Kết chuyển lớp thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n\r\n            this.setState({\r\n                loadingModal: false\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loadingModal: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Kết chuyển thất bại\",\r\n                    message: \"Có học sinh trong danh sách chọn đã được phân vào một lớp trong kỳ kết chuyên lên\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.loadingModal} />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Kết chuyển lớp\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label>Chọn lớp kết chuyển:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\" >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={() => { this.refresh() }}>\r\n                                OK\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {this.state.studentList.length !== 0 &&\r\n                    <div className=\"row mt-4\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                className=\"checkbox-assignment\"\r\n                                                checked={this.state.checkboxList.indexOf(false) === -1}\r\n                                                onClick={() => this.state.checkboxList.indexOf(false) === -1 ? this.uncheckAll() : this.checkAll()}\r\n                                            />\r\n                                        </th>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số học sinh</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Ngày sinh</th>\r\n                                        <th>Giới tính</th>\r\n                                        <th>Địa chỉ</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.state.studentList.length !== 0 &&\r\n                    <div className=\"row mt-3\">\r\n                        <div className=\"col-12\">\r\n                            <form className=\"form-inline\">\r\n                                <label>Chọn lớp kết chuyển lên:</label>\r\n                                <div className=\"ml-1 select-class\">\r\n                                    <SelectSearch\r\n                                        options={this.getClassOption()}\r\n                                        search\r\n                                        filterOptions={fuzzySearch}\r\n                                        emptyMessage=\"Không tìm thấy\"\r\n                                        placeholder=\" \"\r\n                                        value={this.state.newClassId}\r\n                                        onChange={v => this.setState({ newClassId: v })}\r\n                                    />\r\n                                </div>\r\n                                <label className=\"ml-2\" >Năm học:</label>\r\n                                <div className=\"ml-1 select-school-year\">\r\n                                    <SelectSearch\r\n                                        options={this.getSchoolYearOption()}\r\n                                        search\r\n                                        filterOptions={fuzzySearch}\r\n                                        emptyMessage=\"Không tìm thấy\"\r\n                                        placeholder=\" \"\r\n                                        value={this.state.newSchoolYearId}\r\n                                        onChange={v => this.setState({ newSchoolYearId: v })}\r\n                                    />\r\n                                </div>\r\n                                <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={() => { this.tranferClass() }}>\r\n                                    Kết chuyển lên\r\n                            </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(TransferClass);\r\n","import React from 'react'\r\nexport default class Page404 extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"content-container container-fluid\">\r\n                <div className=\"d-flex justify-content-center h-100\">\r\n                    <h1 className=\"align-self-center\">404 Không tìm thấy trang này</h1>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nclass Class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      classList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        classId: 0,\r\n        className: \"\",\r\n        classCode: \"\",\r\n        description: \"\",\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\"\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchClassByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getClassList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, classList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Mã lớp</th>\r\n        <th>Tên lớp</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.classList.map((year, index) => {\r\n      const { classCode, className } = year;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td>{classCode}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{className}</span></td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteClass(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editClass(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addClass = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        classId: 0,\r\n        className: \"\",\r\n        classCode: \"\",\r\n        description: \"\",\r\n      }\r\n    })\r\n  }\r\n\r\n  editClass = async (index) => {\r\n    let _class = this.state.classList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ..._class\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteClass = (index) => {\r\n    let _class = this.state.classList[index]\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ..._class\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let _class = this.state.classList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ..._class\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục lớp học\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addClass}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm lớp học\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteClass(this.props.data.classId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa lớp học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Lớp học này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu liên quan đến lớp học này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa lớp học \"} <b> {this.props.data.className} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm lớp học\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa lớp học\"\r\n    }\r\n    return \"Thông tin lớp học\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addClass}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editClass}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    function removeAscent(str) {\r\n      if (str === null || str === undefined) return str;\r\n      str = str.toLowerCase();\r\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n      str = str.replace(/đ/g, \"d\");\r\n      return str;\r\n    }\r\n    const isName = /^[a-zA-Z0-9 ]{2,}$/\r\n    const isCode = /^[a-zA-Z0-9]+$/\r\n    if (this.props.data.className.length > 30) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên lớp không được lớn hơn 30 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.classCode.length > 10) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã lớp không được lớn hơn 10 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isName.test(removeAscent(this.props.data.className))) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên lớp không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isCode.test(this.props.data.classCode)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã lớp chỉ chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  addClass = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.addClass(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm lớp học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Thêm thất bại\",\r\n          message: \"Mã lớp đã tồn tại\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editClass = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.editClass(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa lớp học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Sửa thất bại\",\r\n          message: \"Mã lớp đã tồn tại\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <Form.Group>\r\n                    <Form.Label>Tên lớp học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập tên lớp học\"\r\n                      name=\"className\"\r\n                      value={this.props.data.className}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mã lớp học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập mã lớp học\"\r\n                      name=\"classCode\"\r\n                      value={this.props.data.classCode}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      placeholder=\"Nhập mô tả\"\r\n                      value={this.props.data.description}\r\n                      name=\"description\"\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Class);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nclass Subject extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      subjectList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        subjectId: 0,\r\n        subjectName: \"\",\r\n        subjectCode: \"\",\r\n        description: \"\",\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\"\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchSubjectByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getSubjectList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, subjectList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Mã môn học</th>\r\n        <th>Tên môn học</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.subjectList.map((data, index) => {\r\n      const { subjectCode, subjectName } = data;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td>{subjectCode}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{subjectName}</span></td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteSubject(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editSubject(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addSubject = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        subjectId: 0,\r\n        subjectName: \"\",\r\n        subjectCode: \"\",\r\n        description: \"\",\r\n      }\r\n    })\r\n  }\r\n\r\n  editSubject = async (index) => {\r\n    let subject = this.state.subjectList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...subject\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteSubject = (index) => {\r\n    let subject = this.state.subjectList[index]\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ...subject\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let subject = this.state.subjectList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...subject\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục môn học\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addSubject}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm môn học\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteSubject(this.props.data.subjectId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa môn học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Môn học này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu liên quan đến môn học này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa môn học \"} <b> {this.props.data.subjectName} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm môn học\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa môn học\"\r\n    }\r\n    return \"Thông tin môn học\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addSubject}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editSubject}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    function removeAscent(str) {\r\n      if (str === null || str === undefined) return str;\r\n      str = str.toLowerCase();\r\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n      str = str.replace(/đ/g, \"d\");\r\n      return str;\r\n    }\r\n    const isName = /^[a-zA-Z0-9 ]{2,}$/\r\n    const isCode = /^[a-zA-Z0-9]+$/\r\n    if (this.props.data.subjectName.length > 30) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên lớp không được lớn hơn 30 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isName.test(removeAscent(this.props.data.subjectName))) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên môn học không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    if (!isCode.test(this.props.data.subjectCode)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã môn chỉ chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    if (this.props.data.subjectCode.length > 10) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã môn không được lớn hơn 10 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  addSubject = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.addSubject(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm môn học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Thêm thất bại\",\r\n          message: \"Mã môn học đã tồn tại\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editSubject = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.editSubject(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa môn học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Sửa thất bại\",\r\n          message: \"Mã môn học đã tồn tại\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <Form.Group>\r\n                    <Form.Label>Tên môn học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập tên môn học\"\r\n                      name=\"subjectName\"\r\n                      value={this.props.data.subjectName}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mã môn học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập mã môn học\"\r\n                      name=\"subjectCode\"\r\n                      value={this.props.data.subjectCode}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      placeholder=\"Nhập mô tả\"\r\n                      value={this.props.data.description}\r\n                      name=\"description\"\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Subject);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nclass SpecialistTeam extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      specialistTeamList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        specialistTeamId: 0,\r\n        specialistName: \"\",\r\n        description: \"\",\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\"\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchSpecialistTeamByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getSpecialistTeamList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, specialistTeamList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Tên tổ chuyên môn</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.specialistTeamList.map((specialistTeam, index) => {\r\n      const { specialistName } = specialistTeam;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{specialistName}</span></td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteSpecialistTeam(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editSpecialistTeam(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addSpecialistTeam = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        specialistTeamId: 0,\r\n        specialistName: \"\",\r\n        description: \"\",\r\n      }\r\n    })\r\n  }\r\n\r\n  editSpecialistTeam = async (index) => {\r\n    let specialistTeam = this.state.specialistTeamList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...specialistTeam\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteSpecialistTeam = (index) => {\r\n    let specialistTeam = this.state.specialistTeamList[index]\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ...specialistTeam\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let specialistTeam = this.state.specialistTeamList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...specialistTeam\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục tổ chuyên môn\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addSpecialistTeam}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm tổ chuyên môn\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteSpecialistTeam(this.props.data.specialistTeamId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa tổ chuyên môn thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Tổ chuyên môn này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu phân công của tổ chuyên môn này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa tổ chuyên môn \"} <b> {this.props.data.specialistName} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm tổ chuyên môn\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa tổ chuyên môn\"\r\n    }\r\n    return \"Thông tin tổ chuyên môn\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addSpecialistTeam}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editSpecialistTeam}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    if (this.props.data.specialistName.length > 30) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên tổ chuyên môn không được lớn hơn 30 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.specialistName.length === 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên tổ chuyên môn không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  addSpecialistTeam = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.addSpecialistTeam(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm tổ chuyên môn thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Thêm thất bại\",\r\n          message: \"Tổ chuyên môn đã tồn tại\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editSpecialistTeam = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.editSpecialistTeam(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa tổ chuyên môn thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Sửa thất bại\",\r\n          message: \"Tổ chuyên môn đã tồn tại\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <Form.Group>\r\n                    <Form.Label>Tên tổ chuyên môn</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập tên tổ chuyên môn\"\r\n                      name=\"specialistName\"\r\n                      value={this.props.data.specialistName}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      placeholder=\"Nhập mô tả\"\r\n                      value={this.props.data.description}\r\n                      name=\"description\"\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(SpecialistTeam);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport ImageUploader from 'react-images-upload';\r\nimport packagejson from '../../../package.json';\r\n\r\nclass Student extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      studentList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        studentId: 0,\r\n        studentCode: \"\",\r\n        studentName: \"\",\r\n        address: \"\",\r\n        permanentResidence: \"\",\r\n        gender: 1,\r\n        pId: \"\",\r\n        image: \"public/images/default_avatar.jpg\",\r\n        dateOfBirth: new Date(),\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        dateOfParty: new Date(),\r\n        dateOfUnion: new Date(),\r\n        accountName: \"\",\r\n        fatherName: \"\",\r\n        fatherPhone: \"\",\r\n        fatherMail: \"\",\r\n        motherName: \"\",\r\n        motherPhone: \"\",\r\n        motherMail: \"\"\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\",\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchStudentByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getStudentList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, studentList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Mã số học sinh</th>\r\n        <th>Họ tên</th>\r\n        <th>Ngày sinh</th>\r\n        <th>Giới tính</th>\r\n        <th>Nơi sinh</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  formatDate = (d) => {\r\n    let dd = d.getDate()\r\n    let mm = d.getMonth() + 1\r\n    let yyyy = d.getFullYear()\r\n    if (dd < 10) { dd = '0' + dd }\r\n    if (mm < 10) { mm = '0' + mm }\r\n    return dd + '/' + mm + '/' + yyyy\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.studentList.map((year, index) => {\r\n      const { studentCode, studentName, dateOfBirth, gender, address } = year;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td>{studentCode}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentName}</span></td>\r\n          <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n          <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n          <td>{address}</td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteStudent(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editStudent(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addStudent = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        studentId: 0,\r\n        studentCode: \"\",\r\n        studentName: \"\",\r\n        address: \"\",\r\n        permanentResidence: \"\",\r\n        gender: 1,\r\n        pId: \"\",\r\n        image: \"/public/images/default_avatar.jpg\",\r\n        dateOfBirth: new Date(),\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        dateOfParty: null,\r\n        dateOfUnion: null,\r\n        accountName: \"\",\r\n        fatherName: \"\",\r\n        fatherPhone: \"\",\r\n        fatherMail: \"\",\r\n        motherName: \"\",\r\n        motherPhone: \"\",\r\n        motherMail: \"\"\r\n      }\r\n    })\r\n  }\r\n\r\n  editStudent = async (index) => {\r\n    let student = this.state.studentList[index]\r\n    student.dateOfBirth = student.dateOfBirth && new Date(student.dateOfBirth)\r\n    student.dateOfUnion = student.dateOfUnion && new Date(student.dateOfUnion)\r\n    student.dateOfParty = student.dateOfParty && new Date(student.dateOfParty)\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...student\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteStudent = (index) => {\r\n    let student = this.state.studentList[index]\r\n    student.dateOfBirth = student.dateOfBirth && new Date(student.dateOfBirth)\r\n    student.dateOfUnion = student.dateOfUnion && new Date(student.dateOfUnion)\r\n    student.dateOfParty = student.dateOfParty && new Date(student.dateOfParty)\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ...student\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let student = this.state.studentList[index]\r\n    student.dateOfBirth = student.dateOfBirth && new Date(student.dateOfBirth)\r\n    student.dateOfUnion = student.dateOfUnion && new Date(student.dateOfUnion)\r\n    student.dateOfParty = student.dateOfParty && new Date(student.dateOfParty)\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...student\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục học sinh\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addStudent}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm học sinh\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteStudent(this.props.data.studentId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa học sinh thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Học sinh này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu liên quan đến học sinh này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa học sinh \"} <b> {this.props.data.studentName} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm học sinh\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa học sinh\"\r\n    }\r\n    return \"Thông tin học sinh\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addStudent}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editStudent}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    function removeAscent(str) {\r\n      if (str === null || str === undefined) return str;\r\n      str = str.toLowerCase();\r\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n      str = str.replace(/đ/g, \"d\");\r\n      return str;\r\n    }\r\n    const isName = /^[a-zA-Z ]{2,}$/\r\n    const isPId = /[0-9]{9,12}/\r\n    const isCode = /^[a-zA-Z0-9]+$/\r\n    const isVNPhoneMobile = /[0-9]{1,10}/\r\n    const isEmail = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;\r\n    if (this.props.data.studentName.length > 30) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên học sinh không được lớn hơn 30 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isName.test(removeAscent(this.props.data.studentName))) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên học sinh không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isPId.test(this.props.data.pId) && this.props.data.pId.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số CMND phải bao gồm 9 đến 12 số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.studentCode.length > 10) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã học sinh không được lớn hơn 10 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isCode.test(this.props.data.studentCode)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã học sinh chỉ chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isVNPhoneMobile.test(this.props.data.phoneNumber) && this.props.data.phoneNumber.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số điện thoại học sinh không hợp lệ! Chỉ bao gồm số, tối đa 10 chữ số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isEmail.test(this.props.data.email)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra email hợp lệ và không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.fatherName.length > 30) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên bố không được lớn hơn 30 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isName.test(removeAscent(this.props.data.fatherName)) && this.props.data.fatherName.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên bố không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isVNPhoneMobile.test(this.props.data.fatherPhone) && this.props.data.fatherPhone.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số điện thoại bố không hợp lệ! Chỉ bao gồm số, tối đa 10 chữ số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isEmail.test(this.props.data.fatherMail) && this.props.data.fatherMail.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Email bố không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.motherName.length > 30) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên mẹ không được lớn hơn 30 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isName.test(removeAscent(this.props.data.motherName)) && this.props.data.motherName.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên mẹ không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isVNPhoneMobile.test(this.props.data.motherPhone) && this.props.data.motherPhone.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số điện thoại mẹ không hợp lệ! Chỉ bao gồm số, tối đa 10 chữ số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isEmail.test(this.props.data.motherMail) && this.props.data.motherMail.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Email mẹ không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  addStudent = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      if (this.props.data.image[0] instanceof File) {\r\n        let res = await Api.uploadImage(this.props.data.image[0])\r\n        this.props.data.image = res.data.result\r\n      }\r\n      await Api.addStudent(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm học sinh thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Thêm thất bại\",\r\n          message: \"Mã học sinh/Email đã được sử dụng\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editStudent = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      if (this.props.data.image[0] instanceof File) {\r\n        let res = await Api.uploadImage(this.props.data.image[0])\r\n        this.props.data.image = res.data.result\r\n      }\r\n      await Api.editStudent(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa học sinh thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Sửa thất bại\",\r\n          message: \"Mã học sinh đã được sử dụng vui lòng chọn mã khác\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Họ tên</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập họ tên học sinh\"\r\n                          name=\"studentName\"\r\n                          value={this.props.data.studentName}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Mã học sinh</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập mã học sinh\"\r\n                          name=\"studentCode\"\r\n                          value={this.props.data.studentCode}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày sinh</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfBirth}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfBirth\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số điện thoại</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số điện thoại\"\r\n                          name=\"phoneNumber\"\r\n                          value={this.props.data.phoneNumber}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Giới tính</Form.Label>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          name=\"gender\"\r\n                          value={this.props.data.gender}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        >\r\n                          <option value=\"1\">Nam</option>\r\n                          <option value=\"0\">Nữ</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          value={this.props.data.email}\r\n                          onChange={this.changeHandler}\r\n                          placeholder=\"Nhập email\"\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ảnh</Form.Label>\r\n                      </Form.Group>\r\n                      {this.props.kind === \"info\" ?\r\n                        <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} /> :\r\n                        <ImageUploader\r\n                          withIcon={true}\r\n                          buttonText='Choose images'\r\n                          onChange={(pic) => this.changeHandler({ target: { name: \"image\", value: pic } })}\r\n                          imgExtension={['.jpg', '.gif', '.png', '.gif', 'jpeg']}\r\n                          maxFileSize={5242880}\r\n                          singleImage={true}\r\n                          withPreview={true}\r\n                        />\r\n                      }\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Họ tên bố</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập họ tên bố\"\r\n                          name=\"fatherName\"\r\n                          value={this.props.data.fatherName}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số CMND</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số CMND\"\r\n                          name=\"pId\"\r\n                          value={this.props.data.pId}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số điện thoại bố</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số điện thoại bố\"\r\n                          name=\"fatherPhone\"\r\n                          value={this.props.data.fatherPhone}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập hộ khẩu thường trú\"\r\n                          name=\"permanentResidence\"\r\n                          value={this.props.data.permanentResidence}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Email bố</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập email bố\"\r\n                          name=\"fatherMail\"\r\n                          value={this.props.data.fatherMail}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập nơi ở hiện nay\"\r\n                          name=\"address\"\r\n                          value={this.props.data.address}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Họ tên mẹ</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập họ tên mẹ\"\r\n                          name=\"motherName\"\r\n                          value={this.props.data.motherName}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfUnion}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số điện thoại mẹ</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số điện thoại mẹ\"\r\n                          name=\"motherPhone\"\r\n                          value={this.props.data.motherPhone}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày vào Đảng</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfParty}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfParty\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Email mẹ</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập email mẹ\"\r\n                          name=\"motherMail\"\r\n                          value={this.props.data.motherMail}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Student);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport ImageUploader from 'react-images-upload';\r\nimport packagejson from '../../../package.json';\r\nclass Teacher extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      teacherList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        teacherId: 0,\r\n        teacherCode: \"\",\r\n        teacherName: \"\",\r\n        civilServantNumber: \"\",\r\n        address: \"\",\r\n        permanentResidence: \"\",\r\n        gender: 1,\r\n        pId: \"\",\r\n        image: \"\",\r\n        dateOfBirth: new Date(),\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        dateOfParty: new Date(),\r\n        dateOfUnion: new Date(),\r\n        major: \"\"\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\",\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchTeacherByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getTeacherList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, teacherList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Mã số giáo viên</th>\r\n        <th>Họ tên</th>\r\n        <th>Ngày sinh</th>\r\n        <th>Giới tính</th>\r\n        <th>Địa chỉ</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  formatDate = (d) => {\r\n    let dd = d.getDate()\r\n    let mm = d.getMonth() + 1\r\n    let yyyy = d.getFullYear()\r\n    if (dd < 10) { dd = '0' + dd }\r\n    if (mm < 10) { mm = '0' + mm }\r\n    return dd + '/' + mm + '/' + yyyy\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.teacherList.map((year, index) => {\r\n      const { teacherCode, teacherName, dateOfBirth, gender, address } = year;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td>{teacherCode}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{teacherName}</span></td>\r\n          <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n          <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n          <td>{address}</td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteTeacher(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editTeacher(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addTeacher = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        teacherId: 0,\r\n        teacherCode: \"\",\r\n        teacherName: \"\",\r\n        civilServantNumber: \"\",\r\n        address: \"\",\r\n        permanentResidence: \"\",\r\n        gender: 1,\r\n        pId: \"\",\r\n        image: \"public/images/default_avatar.jpg\",\r\n        dateOfBirth: new Date(),\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        dateOfParty: null,\r\n        dateOfUnion: null,\r\n        major: \"\"\r\n      }\r\n    })\r\n  }\r\n\r\n  editTeacher = async (index) => {\r\n    let teacher = this.state.teacherList[index]\r\n    teacher.dateOfBirth = teacher.dateOfBirth && new Date(teacher.dateOfBirth)\r\n    teacher.dateOfUnion = teacher.dateOfUnion && new Date(teacher.dateOfUnion)\r\n    teacher.dateOfParty = teacher.dateOfParty && new Date(teacher.dateOfParty)\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...teacher\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteTeacher = (index) => {\r\n    let teacher = this.state.teacherList[index]\r\n    teacher.dateOfBirth = teacher.dateOfBirth && new Date(teacher.dateOfBirth)\r\n    teacher.dateOfUnion = teacher.dateOfUnion && new Date(teacher.dateOfUnion)\r\n    teacher.dateOfParty = teacher.dateOfParty && new Date(teacher.dateOfParty)\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ...teacher\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let teacher = this.state.teacherList[index]\r\n    teacher.dateOfBirth = teacher.dateOfBirth && new Date(teacher.dateOfBirth)\r\n    teacher.dateOfUnion = teacher.dateOfUnion && new Date(teacher.dateOfUnion)\r\n    teacher.dateOfParty = teacher.dateOfParty && new Date(teacher.dateOfParty)\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...teacher\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục giáo viên\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addTeacher}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm giáo viên\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteTeacher(this.props.data.teacherId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa giáo viên thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Giáo viên này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu liên quan đến giáo viên này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa giáo viên \"} <b> {this.props.data.studentName} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm giáo viên\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa giáo viên\"\r\n    }\r\n    return \"Thông tin giáo viên\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addTeacher}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editTeacher}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n\r\n  validateData = () => {\r\n    function removeAscent(str) {\r\n      if (str === null || str === undefined) return str;\r\n      str = str.toLowerCase();\r\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n      str = str.replace(/đ/g, \"d\");\r\n      return str;\r\n    }\r\n    const isName = /^[a-zA-Z ]{2,}$/\r\n    const isPId = /[0-9]{9,12}/\r\n    const isTeacherCode = /^[a-zA-Z0-9]+$/\r\n    const isVNPhoneMobile = /[0-9]{1,10}/\r\n    const isEmail = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;\r\n    if (this.props.data.teacherName.length > 30) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên giáo viên không được lớn hơn 30 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isName.test(removeAscent(this.props.data.teacherName))) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isPId.test(this.props.data.pId) && this.props.data.pId.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số CMND phải bao gồm 9 đến 12 số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.teacherCode.length > 10) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã giáo viên không được lớn hơn 10 kí tự`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isTeacherCode.test(this.props.data.teacherCode)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã giáo viên chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isVNPhoneMobile.test(this.props.data.phoneNumber) && this.props.data.phoneNumber.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số điện thoại không hợp lệ! Chỉ bao gồm số, tối đa 10 chữ số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isEmail.test(this.props.data.email)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra email hợp lệ và không được bỏ trống!!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  addTeacher = async () => {\r\n    //validate TODO\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      if (this.props.data.image[0] instanceof File) {\r\n        let res = await Api.uploadImage(this.props.data.image[0])\r\n        this.props.data.image = res.data.result\r\n      }\r\n      await Api.addTeacher(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm giáo viên thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Thêm thất bại\",\r\n          message: \"Mã giáo viên đã được sử dụng vui lòng chọn mã khác\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editTeacher = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      if (this.props.data.image[0] instanceof File) {\r\n        let res = await Api.uploadImage(this.props.data.image[0])\r\n        this.props.data.image = res.data.result\r\n      }\r\n      await Api.editTeacher(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa giáo viên thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Sửa thất bại\",\r\n          message: \"Mã giáo viên/Email đã được sử dụng\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Họ tên</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập họ tên giáo viên\"\r\n                          name=\"teacherName\"\r\n                          value={this.props.data.teacherName}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfUnion}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày sinh</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfBirth}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfBirth\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày vào Đảng</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfParty}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfParty\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Giới tính</Form.Label>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          name=\"gender\"\r\n                          value={this.props.data.gender}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        >\r\n                          <option value=\"1\">Nam</option>\r\n                          <option value=\"0\">Nữ</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Mã giáo viên</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập mã giáo viên\"\r\n                          name=\"teacherCode\"\r\n                          value={this.props.data.teacherCode}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ảnh</Form.Label>\r\n                      </Form.Group>\r\n                      {this.props.kind === \"info\" ?\r\n                        <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} /> :\r\n                        <ImageUploader\r\n                          withIcon={true}\r\n                          buttonText='Choose images'\r\n                          onChange={(pic) => this.changeHandler({ target: { name: \"image\", value: pic } })}\r\n                          imgExtension={['.jpg', '.gif', '.png', '.gif', 'jpeg']}\r\n                          maxFileSize={5242880}\r\n                          singleImage={true}\r\n                          withPreview={true}\r\n                        />\r\n                      }\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số điện thoại</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số điện thoại\"\r\n                          name=\"phoneNumber\"\r\n                          value={this.props.data.phoneNumber}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số CMND</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số CMND\"\r\n                          name=\"pId\"\r\n                          value={this.props.data.pId}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          value={this.props.data.email}\r\n                          onChange={this.changeHandler}\r\n                          placeholder=\"Nhập email\"\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập hộ khẩu thường trú\"\r\n                          name=\"permanentResidence\"\r\n                          value={this.props.data.permanentResidence}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số hiệu công chức</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số hiệu công chức\"\r\n                          name=\"civilServantNumber\"\r\n                          value={this.props.data.civilServantNumber}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập nơi ở hiện nay\"\r\n                          name=\"address\"\r\n                          value={this.props.data.address}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Chuyên môn</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập chuyên môn\"\r\n                          name=\"major\"\r\n                          value={this.props.data.major}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Teacher);\r\n","import {\r\n    BsArrowLeftShort,\r\n    BsArrowRepeat,\r\n    BsTrash,\r\n    BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport 'react-select-search/style.css'\r\nclass Account extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //state is by default an object\r\n            accountList: [],\r\n            studentList: [],\r\n            teacherList: [],\r\n            perpage: 10,\r\n            loading: true,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            modalData: {\r\n                accountId: 0,\r\n                accountName: \"\",\r\n                role: 0,\r\n                userCode: \"\"\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            searchValue: \"\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [teacherList, studentList] = await Promise.all([\r\n                Api.getTeacherList(1, 1000000),\r\n                Api.getStudentList(1, 1000000),\r\n            ]);\r\n            this.setState({\r\n                teacherList: teacherList.data.result.data,\r\n                studentList: studentList.data.result.data\r\n            })\r\n            await this.refresh(1, this.state.perpage)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchValue) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res\r\n            if (searchValue || this.state.searchValue) {\r\n                res = await Api.searchAccountByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n            } else {\r\n                res = await Api.getAccountList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n            }\r\n            let accountList = res.data.result.data\r\n            let teacherList = this.state.teacherList\r\n            let studentList = this.state.studentList\r\n            let map = {}\r\n            for (let i = 0; i < teacherList.length; i++) {\r\n                map[teacherList[i].teacherCode] = {\r\n                    ...teacherList[i]\r\n                }\r\n            }\r\n            for (let i = 0; i < studentList.length; i++) {\r\n                map[studentList[i].studentCode] = {\r\n                    ...studentList[i]\r\n                }\r\n            }\r\n            for (let i = 0; i < accountList.length; i++) {\r\n                accountList[i] = {\r\n                    ...accountList[i],\r\n                    ...map[accountList[i].userCode]\r\n                }\r\n            }\r\n            console.log(accountList)\r\n            this.setState({ loading: false, accountList: accountList, pagination: res.data.result.pagination })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherCode\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getStudentOption = () => {\r\n        let list = this.state.studentList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { studentName, studentCode } = list[i];\r\n            options.push({\r\n                name: studentName + \" - \" + studentCode,\r\n                value: studentCode\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    renderTableHeader() {\r\n        return (\r\n            <tr>\r\n                <th>STT</th>\r\n                <th>Tên tài khoản</th>\r\n                <th>Họ tên</th>\r\n                <th>Mã giáo viên/học sinh</th>\r\n                <th>Loại tài khoản</th>\r\n                <th className=\"text-center\"><BsTrash /></th>\r\n                <th className=\"text-center\"><FaPencilAlt /></th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.accountList.map((data, index) => {\r\n            const { accountName, studentName, role, teacherName, userCode } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{accountName}</span></td>\r\n                    <td>{role === 0 ? studentName : teacherName}</td>\r\n                    <td>{userCode}</td>\r\n                    <td>{role === 0 ? \"Học sinh\" : role === 1 ? \"Giáo viên\" : \"Quản trị viên\"}</td>\r\n                    <td className=\"text-center\"><BsTrash onClick={() => this.deleteAccount(index)} /></td>\r\n                    <td className=\"text-center\"><FaPencilAlt onClick={() => this.editAccount(index)} /></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addAccount = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                accountId: 0,\r\n                accountName: \"\",\r\n                role: 0,\r\n                userCode: \"\"\r\n            }\r\n        })\r\n    }\r\n\r\n    editAccount = async (index) => {\r\n        let account = this.state.accountList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"edit\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...account\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteAccount = (index) => {\r\n        let account = this.state.accountList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...account\r\n            }\r\n        })\r\n    }\r\n\r\n    showInfo = (index) => {\r\n        let account = this.state.accountList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"info\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...account\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getStudentOption={this.getStudentOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý tài khoản\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div className=\"d-flex\">\r\n                    <div>\r\n                        <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n                            <div className=\"d-flex\">\r\n                                <div>\r\n                                    Tải lại trang\r\n                                </div>\r\n                                <div className=\"ml-2\">\r\n                                    <BsArrowRepeat />\r\n                                </div>\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"ml-3\">\r\n                        <button type=\"button\" className=\"btn btn-light\" onClick={this.addAccount}>\r\n                            <div className=\"d-flex\">\r\n                                <div>\r\n                                    Thêm tài khoản\r\n                                </div>\r\n                                <div className=\"ml-2\">\r\n                                    <GoPlus />\r\n                                </div>\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"d-flex ml-4\">\r\n                        <div className=\"align-self-center\" >\r\n                            Số lượng bản ghi mỗi trang:\r\n                        </div>\r\n                        <div className=\"align-self-center\" >\r\n                            <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex ml-auto\">\r\n                        <div className=\"input-group\">\r\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n                            <div className=\"input-group-append\">\r\n                                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <br></br>\r\n                <div style={{ minHeight: \"430px\" }}>\r\n                    <Table striped bordered hover >\r\n                        <thead className=\"table-header\">\r\n                            {this.renderTableHeader()}\r\n                        </thead>\r\n                        <tbody>{this.renderTableData()}</tbody>\r\n                    </Table>\r\n                </div>\r\n                <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteAccount(this.props.data.accountId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa tài khoản thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn xóa tài khoản \"} <b> {this.props.data.accountName} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm tài khoản\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa tài khoản\"\r\n        }\r\n        return \"Thông tin tài khoản\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addAccount}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editAccount}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    validateData = () => {\r\n        const isAccountName = /^[a-zA-Z0-9]+$/;\r\n        if (this.props.data.accountName.length > 30) {\r\n            store.addNotification({\r\n                title: \"Nhập dữ liệu không chính xác\",\r\n                message: `Tên tài khoản không được lớn hơn 30 kí tự`,\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false;\r\n        }\r\n        if (!isAccountName.test(this.props.data.accountName)) {\r\n            store.addNotification({\r\n                title: \"Nhập dữ liệu không chính xác\",\r\n                message: `Tên tài khoản chỉ chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false;\r\n        }\r\n        let password = this.props.data.password ? this.props.data.password.slice() : \"\";\r\n        let isDigit = password.replace(/[^0-9]/g, \"\").length > 0 ? 1 : 0;\r\n        let isLetter = password.replace(/[^a-zA-Z]/g, '').length > 0 ? 1 : 0;\r\n        let isPunctuation = (password.length - password.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\").length) > 0 ? 1 : 0;\r\n        if (password.length < 8 || (isDigit + isLetter + isPunctuation < 2)) {\r\n            store.addNotification({\r\n                title: \"Lỗi\",\r\n                message: \"Mật khẩu không hợp lệ! Mật khẩu phải dài tối thiểu 8 kí tự và chứa 2 trong 3 loại chữ, số, kí tự đặc biệt!\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false;\r\n        }\r\n        if (!this.props.data.userCode) {\r\n            store.addNotification({\r\n                title: \"Nhập dữ liệu không chính xác\",\r\n                message: `Chưa chọn Học sinh hoặc Giáo viên`,\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    addAccount = async () => {\r\n        if (!this.validateData()) {\r\n            return;\r\n        }\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addAccount(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm tài khoản thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Thêm tài khoản thất bại\",\r\n                    message: \"Tên tài khoản đã sử dụng hoặc giáo viên/học sinh này đã có tài khoản\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    editAccount = async () => {\r\n        if (!this.validateData()) {\r\n            return;\r\n        }\r\n        this.setState({ loading: true })\r\n        if (!this.props.data.password) {\r\n            store.addNotification({\r\n                title: \"Cập nhật tài khoản thất bại\",\r\n                message: \"Mật khẩu không được để trống\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({ loading: false })\r\n            return\r\n        }\r\n        try {\r\n            await Api.editAccount(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Sửa tài khoản thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Cập nhật tài khoản thất bại\",\r\n                    message: \"Tên tài khoản đã sử dụng hoặc giáo viên/học sinh này đã có tài khoản\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Tên tài khoản</Form.Label>\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            placeholder=\"Nhập tên tài khoản\"\r\n                                            name=\"accountName\"\r\n                                            value={this.props.data.accountName}\r\n                                            onChange={this.changeHandler}\r\n                                            readOnly={this.props.kind === \"info\"}\r\n                                        />\r\n                                    </Form.Group>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Mật khẩu</Form.Label>\r\n                                        <Form.Control\r\n                                            type=\"password\"\r\n                                            placeholder=\"Nhập mật khẩu\"\r\n                                            name=\"password\"\r\n                                            value={this.props.data.password}\r\n                                            onChange={this.changeHandler}\r\n                                            readOnly={this.props.kind === \"info\"}\r\n                                        />\r\n                                    </Form.Group>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Loại tài khoản</Form.Label>\r\n                                        <Form.Control\r\n                                            as=\"select\"\r\n                                            name=\"role\"\r\n                                            value={this.props.data.role}\r\n                                            onChange={(e) => { this.changeHandler({ target: { name: \"userCode\", value: \"\" } }); this.changeHandler(e) }}\r\n                                            readOnly={this.props.kind === \"info\"}\r\n                                        >\r\n                                            <option value={0}>Học sinh</option>\r\n                                            <option value={1}>Giáo viên</option>\r\n                                            <option value={2}>Quản trị viên</option>\r\n                                        </Form.Control>\r\n                                    </Form.Group>\r\n                                    <div className=\"form-group\">\r\n                                        <label >{this.props.data.role === 0 ? \"Học sinh\" : \"Giáo viên\"} </label>\r\n                                        <div>\r\n                                            <SelectSearch\r\n                                                options={this.props.data.role === 0 ? this.props.getStudentOption() : this.props.getTeacherOption()}\r\n                                                search\r\n                                                filterOptions={fuzzySearch}\r\n                                                emptyMessage=\"Không tìm thấy\"\r\n                                                placeholder=\" \"\r\n                                                onChange={v => { this.changeHandler({ target: { name: \"userCode\", value: v } }) }}\r\n                                                value={this.props.data.userCode}\r\n                                                readOnly={this.props.kind === \"info\"}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Account);\r\n","import {\r\n    BsArrowLeftShort,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { BiSearch } from 'react-icons/bi';\r\nimport packagejson from '../../../package.json';\r\nclass Teacher extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //state is by default an object\r\n            teacherList: [],\r\n            perpage: 10,\r\n            loading: true,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            modalData: {\r\n                teacherId: 0,\r\n                teacherCode: \"\",\r\n                teacherName: \"\",\r\n                civilServantNumber: \"\",\r\n                address: \"\",\r\n                permanentResidence: \"\",\r\n                gender: 1,\r\n                pId: \"\",\r\n                image: \"\",\r\n                dateOfBirth: new Date(),\r\n                email: \"\",\r\n                phoneNumber: \"\",\r\n                dateOfParty: new Date(),\r\n                dateOfUnion: new Date(),\r\n                major: \"\"\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            suggestions: [],\r\n            searchValue: \"\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true })\r\n        await this.refresh(1, this.state.perpage)\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchValue) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res\r\n            if (searchValue || this.state.searchValue) {\r\n                res = await Api.searchTeacherByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n            } else {\r\n                res = await Api.getTeacherList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n            }\r\n            console.log(res)\r\n            this.setState({ loading: false, teacherList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    renderTableHeader() {\r\n        return (\r\n            <tr>\r\n                <th>STT</th>\r\n                <th>Mã số giáo viên</th>\r\n                <th>Họ tên</th>\r\n                <th>Ngày sinh</th>\r\n                <th>Giới tính</th>\r\n                <th>Địa chỉ</th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teacherList.map((year, index) => {\r\n            const { teacherCode, teacherName, dateOfBirth, gender, address } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{teacherCode}</span></td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{teacherName}</span></td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    showInfo = (index) => {\r\n        let teacher = this.state.teacherList[index]\r\n        teacher.dateOfBirth = teacher.dateOfBirth && new Date(teacher.dateOfBirth)\r\n        teacher.dateOfUnion = teacher.dateOfUnion && new Date(teacher.dateOfUnion)\r\n        teacher.dateOfParty = teacher.dateOfParty && new Date(teacher.dateOfParty)\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"info\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...teacher\r\n            }\r\n        })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    onSuggestionsFetchRequested = ({ value }) => {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n        this.timeout = setTimeout(async () => {\r\n            let req = this.lastReq = Api.searchTeacherByNameOrCode(1, this.state.perpage, value)\r\n            try {\r\n                let res = await req;\r\n                if (req === this.lastReq) {\r\n                    this.setState({\r\n                        suggestions: res.data.result\r\n                    });\r\n                }\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }, 200)\r\n    };\r\n\r\n    onSuggestionsClearRequested = () => {\r\n        this.setState({\r\n            suggestions: []\r\n        });\r\n    };\r\n\r\n    onChangeSearch = (event, { newValue }) => {\r\n        this.setState({\r\n            searchValue: newValue\r\n        });\r\n    };\r\n\r\n    getSuggestionValue = suggestion => suggestion.teacherName;\r\n\r\n    onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n        this.refresh(null, null, suggestionValue)\r\n    }\r\n\r\n    renderSuggestion = (suggestion) => {\r\n        return (\r\n            <div className=\"w-100\">{suggestion.teacherName + \" - \" + suggestion.teacherCode}</div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { searchValue, suggestions } = this.state;\r\n        const theme = {\r\n            container: 'autosuggest',\r\n            input: 'form-control',\r\n            suggestionsContainer: 'dropdown',\r\n            suggestionsList: `dropdown-menu w-100 ${this.state.suggestions.length ? 'show' : ''}`,\r\n            suggestion: 'dropdown-item w-100',\r\n            suggestionFocused: 'active',\r\n            suggestionHighlighted: 'active'\r\n        };\r\n\r\n        const inputProps = {\r\n            placeholder: 'Nhập tên hoặc mã giáo viên',\r\n            value: searchValue,\r\n            onChange: this.onChangeSearch\r\n        };\r\n\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu thông tin giáo viên\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div className=\"d-flex\">\r\n                    <Autosuggest\r\n                        suggestions={suggestions}\r\n                        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n                        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n                        getSuggestionValue={this.getSuggestionValue}\r\n                        renderSuggestion={this.renderSuggestion}\r\n                        inputProps={inputProps}\r\n                        theme={theme}\r\n                        onSuggestionSelected={this.onSuggestionSelected}\r\n                    />\r\n                    <button type=\"button\" className=\"btn btn-primary ml-3 align-self-center\" onClick={() => this.refresh()}>\r\n                        <BiSearch size={this.state.iconSize} />Tra cứu\r\n                    </button>\r\n                </div>\r\n                <br></br>\r\n                <div style={{ minHeight: \"380px\" }}>\r\n                    <Table striped bordered hover >\r\n                        <thead className=\"table-header\">\r\n                            {this.renderTableHeader()}\r\n                        </thead>\r\n                        <tbody>{this.renderTableData()}</tbody>\r\n                    </Table>\r\n                </div>\r\n\r\n                <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                <div className=\"d-flex mt-3\">\r\n                    <div className=\"align-self-center\" >\r\n                        Số lượng bản ghi mỗi trang:\r\n                        </div>\r\n                    <div className=\"align-self-center\" >\r\n                        <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"10\">10</option>\r\n                            <option value=\"15\">15</option>\r\n                            <option value=\"20\">20</option>\r\n                            <option value=\"30\">30</option>\r\n                            <option value=\"50\">50</option>\r\n                            <option value=\"100\">100</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm giáo viên\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa giáo viên\"\r\n        }\r\n        return \"Thông tin giáo viên\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addTeacher}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeacher}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên giáo viên\"\r\n                                                    name=\"teacherName\"\r\n                                                    value={this.props.data.teacherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfUnion}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày sinh</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfBirth}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfBirth\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đảng</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfParty}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfParty\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Giới tính</Form.Label>\r\n                                                <Form.Control\r\n                                                    as=\"select\"\r\n                                                    name=\"gender\"\r\n                                                    value={this.props.data.gender}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                >\r\n                                                    <option value=\"1\">Nam</option>\r\n                                                    <option value=\"0\">Nữ</option>\r\n                                                </Form.Control>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Mã giáo viên</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập mã giáo viên\"\r\n                                                    name=\"teacherCode\"\r\n                                                    value={this.props.data.teacherCode}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ảnh</Form.Label>\r\n                                            </Form.Group>\r\n                                            <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} />\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại\"\r\n                                                    name=\"phoneNumber\"\r\n                                                    value={this.props.data.phoneNumber}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số CMND</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số CMND\"\r\n                                                    name=\"pId\"\r\n                                                    value={this.props.data.pId}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"email\"\r\n                                                    name=\"email\"\r\n                                                    value={this.props.data.email}\r\n                                                    onChange={this.changeHandler}\r\n                                                    placeholder=\"Nhập email\"\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập hộ khẩu thường trú\"\r\n                                                    name=\"permanentResidence\"\r\n                                                    value={this.props.data.permanentResidence}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số hiệu công chức</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số hiệu công chức\"\r\n                                                    name=\"civilServantNumber\"\r\n                                                    value={this.props.data.civilServantNumber}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập nơi ở hiện nay\"\r\n                                                    name=\"address\"\r\n                                                    value={this.props.data.address}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Chuyên môn</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập chuyên môn\"\r\n                                                    name=\"major\"\r\n                                                    value={this.props.data.major}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Teacher);\r\n","import {\r\n    BsArrowLeftShort,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { BiSearch } from 'react-icons/bi';\r\nimport packagejson from '../../../package.json';\r\n\r\nclass Student extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //state is by default an object\r\n            studentList: [],\r\n            perpage: 10,\r\n            loading: true,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            modalData: {\r\n                studentId: 0,\r\n                studentCode: \"\",\r\n                studentName: \"\",\r\n                address: \"\",\r\n                permanentResidence: \"\",\r\n                gender: 1,\r\n                pId: \"\",\r\n                image: \"\",\r\n                dateOfBirth: new Date(),\r\n                email: \"\",\r\n                phoneNumber: \"\",\r\n                dateOfParty: new Date(),\r\n                dateOfUnion: new Date(),\r\n                accountName: \"\",\r\n                fatherName: \"\",\r\n                fatherPhone: \"\",\r\n                fatherMail: \"\",\r\n                motherName: \"\",\r\n                motherPhone: \"\",\r\n                motherMail: \"\"\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            suggestions: [],\r\n            searchValue: \"\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.refresh(1, this.state.perpage)\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchValue) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res\r\n            if (searchValue || this.state.searchValue) {\r\n                res = await Api.searchStudentByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n            } else {\r\n                res = await Api.getStudentList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n            }\r\n            console.log(res)\r\n            this.setState({ loading: false, studentList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    renderTableHeader() {\r\n        return (\r\n            <tr>\r\n                <th>STT</th>\r\n                <th>Mã số học sinh</th>\r\n                <th>Họ tên</th>\r\n                <th>Ngày sinh</th>\r\n                <th>Giới tính</th>\r\n                <th>Nơi sinh</th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.studentList.map((year, index) => {\r\n            const { studentCode, studentName, dateOfBirth, gender, address } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentCode}</span></td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentName}</span></td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    showInfo = (index) => {\r\n        let student = this.state.studentList[index]\r\n        student.dateOfBirth = student.dateOfBirth && new Date(student.dateOfBirth)\r\n        student.dateOfUnion = student.dateOfUnion && new Date(student.dateOfUnion)\r\n        student.dateOfParty = student.dateOfParty && new Date(student.dateOfParty)\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"info\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...student\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    onSuggestionsFetchRequested = ({ value }) => {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n\r\n        this.timeout = setTimeout(async () => {\r\n            let req = this.lastReq = Api.searchStudentByNameOrCode(1, this.state.perpage, value)\r\n            try {\r\n                let res = await req;\r\n                if (req === this.lastReq) {\r\n                    this.setState({\r\n                        suggestions: res.data.result\r\n                    });\r\n                }\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }, 200)\r\n    };\r\n\r\n    onSuggestionsClearRequested = () => {\r\n        this.setState({\r\n            suggestions: []\r\n        });\r\n    };\r\n\r\n    onChangeSearch = (event, { newValue }) => {\r\n        this.setState({\r\n            searchValue: newValue\r\n        });\r\n    };\r\n\r\n    getSuggestionValue = suggestion => suggestion.studentName;\r\n\r\n    onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n        this.refresh(null, null, suggestionValue)\r\n    }\r\n\r\n    renderSuggestion = (suggestion) => {\r\n        return (\r\n            <div className=\"w-100\">{suggestion.studentName + \" - \" + suggestion.studentCode}</div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { searchValue, suggestions } = this.state;\r\n        const theme = {\r\n            container: 'autosuggest',\r\n            input: 'form-control',\r\n            suggestionsContainer: 'dropdown',\r\n            suggestionsList: `dropdown-menu w-100 ${this.state.suggestions.length ? 'show' : ''}`,\r\n            suggestion: 'dropdown-item w-100',\r\n            suggestionFocused: 'active',\r\n            suggestionHighlighted: 'active'\r\n        };\r\n\r\n        const inputProps = {\r\n            placeholder: 'Nhập tên hoặc mã học sinh',\r\n            value: searchValue,\r\n            onChange: this.onChangeSearch\r\n        }\r\n\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu thông tin học sinh\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div className=\"d-flex\">\r\n                    <Autosuggest\r\n                        suggestions={suggestions}\r\n                        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n                        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n                        getSuggestionValue={this.getSuggestionValue}\r\n                        renderSuggestion={this.renderSuggestion}\r\n                        inputProps={inputProps}\r\n                        theme={theme}\r\n                        onSuggestionSelected={this.onSuggestionSelected}\r\n                    />\r\n                    <button type=\"button\" className=\"btn btn-primary ml-3 align-self-center\" onClick={() => this.refresh()}>\r\n                        <BiSearch size={this.state.iconSize} />Tra cứu\r\n                    </button>\r\n                </div>\r\n                <br></br>\r\n                <div style={{ minHeight: \"380px\" }}>\r\n                    <Table striped bordered hover >\r\n                        <thead className=\"table-header\">\r\n                            {this.renderTableHeader()}\r\n                        </thead>\r\n                        <tbody>{this.renderTableData()}</tbody>\r\n                    </Table>\r\n                </div>\r\n\r\n                <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                <div className=\"d-flex mt-3\">\r\n                    <div className=\"align-self-center\" >\r\n                        Số lượng bản ghi mỗi trang:\r\n                        </div>\r\n                    <div className=\"align-self-center\" >\r\n                        <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"10\">10</option>\r\n                            <option value=\"15\">15</option>\r\n                            <option value=\"20\">20</option>\r\n                            <option value=\"30\">30</option>\r\n                            <option value=\"50\">50</option>\r\n                            <option value=\"100\">100</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm học sinh\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa học sinh\"\r\n        }\r\n        return \"Thông tin học sinh\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addStudent}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editStudent}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên học sinh\"\r\n                                                    name=\"studentName\"\r\n                                                    value={this.props.data.studentName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Mã học sinh</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập mã học sinh\"\r\n                                                    name=\"studentCode\"\r\n                                                    value={this.props.data.studentCode}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày sinh</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfBirth}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfBirth\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại\"\r\n                                                    name=\"phoneNumber\"\r\n                                                    value={this.props.data.phoneNumber}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Giới tính</Form.Label>\r\n                                                <Form.Control\r\n                                                    as=\"select\"\r\n                                                    name=\"gender\"\r\n                                                    value={this.props.data.gender}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                >\r\n                                                    <option value=\"1\">Nam</option>\r\n                                                    <option value=\"0\">Nữ</option>\r\n                                                </Form.Control>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"email\"\r\n                                                    name=\"email\"\r\n                                                    value={this.props.data.email}\r\n                                                    onChange={this.changeHandler}\r\n                                                    placeholder=\"Nhập email\"\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ảnh</Form.Label>\r\n                                            </Form.Group>\r\n                                            <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} />\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên bố\"\r\n                                                    name=\"fatherName\"\r\n                                                    value={this.props.data.fatherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số CMND</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số CMND\"\r\n                                                    name=\"pId\"\r\n                                                    value={this.props.data.pId}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại bố\"\r\n                                                    name=\"fatherPhone\"\r\n                                                    value={this.props.data.fatherPhone}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập hộ khẩu thường trú\"\r\n                                                    name=\"permanentResidence\"\r\n                                                    value={this.props.data.permanentResidence}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập email bố\"\r\n                                                    name=\"fatherMail\"\r\n                                                    value={this.props.data.fatherMail}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập nơi ở hiện nay\"\r\n                                                    name=\"address\"\r\n                                                    value={this.props.data.address}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên mẹ\"\r\n                                                    name=\"motherName\"\r\n                                                    value={this.props.data.motherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfUnion}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại mẹ\"\r\n                                                    name=\"motherPhone\"\r\n                                                    value={this.props.data.motherPhone}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đảng</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfParty}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfParty\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập email mẹ\"\r\n                                                    name=\"motherMail\"\r\n                                                    value={this.props.data.motherMail}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Student);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh } from 'react-icons/bi';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/TeachingAssignment.css';\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Loading from '../Loading/Loading'\r\n\r\n\r\nclass HomeroomTeacherAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            teacherList: [],\r\n            homeroomTeacherAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n            },\r\n            perpage: 1000000,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                homeroomTeacherAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchHomeroomTeacherAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            let data = res.data.result.data;\r\n            if (!(this.state.searchCondition.classId || this.state.searchCondition.teacherId)) {\r\n                let mark = {}\r\n                for (let i = 0; i < data.length; i++) {\r\n                    mark[data[i].classId] = 1\r\n                }\r\n                let classList = this.state.classList\r\n                let schoolYear = this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId)\r\n                for (let i = 0; i < classList.length; i++) {\r\n                    if (!mark[classList[i].classId]) {\r\n                        data.push({\r\n                            ...classList[i],\r\n                            ...schoolYear\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            this.setState({\r\n                loading: false,\r\n                homeroomTeacherAssignmentList: data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.homeroomTeacherAssignmentList.map((year, index) => {\r\n            const { teacherCode, teacherName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{className}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName ? teacherName : \"Chưa phân công\"}</td>\r\n                    <td>{schoolYear}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    editHomeroomTeacherAssignment = (index) => {\r\n        let homeroomTeacherAssignment = this.state.homeroomTeacherAssignmentList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"edit\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...homeroomTeacherAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu phân công giáo viên chủ nhiệm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Năm học</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công giáo viên chủ nhiệm\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Cập nhật phân công giáo viên chủ nhiệm\"\r\n        }\r\n        return \"Thông tin phân công giáo viên chủ nhiệm\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addHomeroomTeacherAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editHomeroomTeacherAssignment}>Cập nhật</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    editHomeroomTeacherAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            if (this.props.data.teacherId) {\r\n                if (this.props.data.homeroomTeacherAssignmentId) {\r\n                    await Api.editHomeroomTeacherAssignment(this.props.data)\r\n                } else {\r\n                    await Api.addHomeroomTeacherAssignment(this.props.data)\r\n                }\r\n            } else {\r\n                if (this.props.data.homeroomTeacherAssignmentId) {\r\n                    await Api.deleteHomeroomTeacherAssignment(this.props.data.homeroomTeacherAssignmentId)\r\n                }\r\n            }\r\n\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Cập nhật giáo viên chủ nhiệm thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                            disabled={true}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-11\">\r\n                                            <SelectSearch\r\n                                                options={this.props.getTeacherOption()}\r\n                                                search\r\n                                                filterOptions={fuzzySearch}\r\n                                                emptyMessage=\"Không tìm thấy\"\r\n                                                placeholder=\" \"\r\n                                                onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                                value={this.props.data.teacherId}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col d-flex\">\r\n                                            <BsTrash className=\"align-self-center\" onClick={() => this.changeHandler({ target: { name: \"teacherId\", value: null } })} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                            disabled={true}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(HomeroomTeacherAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh, } from 'react-icons/bi';\r\nimport { BsArrowLeftShort, } from 'react-icons/bs'\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/TeachingAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nclass TeachingAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            teacherList: [],\r\n            subjectList: [],\r\n            teachingAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n\r\n            },\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList, subjectList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n                Api.getSubjectList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                subjectList: subjectList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchTeachingAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                teachingAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSubjectOption = () => {\r\n        let list = this.state.subjectList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { subjectId, subjectName } = list[i];\r\n            options.push({\r\n                name: subjectName,\r\n                value: subjectId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teachingAssignmentList.map((year, index) => {\r\n            const { teacherCode, teacherName, subjectName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{className}</td>\r\n                    <td>{schoolYear}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addTeachingAssignment = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: this.state.searchCondition.schoolYearId,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteTeachingAssignment = (index) => {\r\n        let teachingAssignment = this.state.teachingAssignmentList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...teachingAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                    getSubjectOption={this.getSubjectOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu phân công giảng dạy\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Môn học:</label>\r\n                            <div className=\"ml-1 select-subject\">\r\n                                <SelectSearch\r\n                                    options={this.getSubjectOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.subjectId}\r\n                                    onChange={v => this.changeSearchCondition(\"subjectId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Môn học</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Năm học</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteTeachingAssignment(this.props.data.teachingAssignmentId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa phân công giảng dạy thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn xóa phân công của giáo viên \"} <b> {this.props.data.teacherName} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công giảng dạy\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa phân công giảng dạy\"\r\n        }\r\n        return \"Thông tin phân công giảng dạy\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addTeachingAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeachingAssignment}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    addTeachingAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addTeachingAssignment(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm phân công giảng dạy thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getTeacherOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                            value={this.props.data.teacherId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"\">Môn học</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getSubjectOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"subjectId\", value: v } }) }}\r\n                                            value={this.props.data.subjectId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(TeachingAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh, } from 'react-icons/bi';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport '../../css/TeachingAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass MyTeachingAssignment extends Component {\r\n    constructor(props) {\r\n        //console.log(props)\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            subjectList: [],\r\n            teachingAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n            },\r\n            perpage: 1000000,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            term: 1,\r\n            kind: \"edit\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n            kind: this.props.location.state && this.props.location.state.kind\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, subjectList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getSubjectList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                subjectList: subjectList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                teacherId: teacher.data.result.teacherId\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchTeachingAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                teachingAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId,\r\n            teacherId: this.state.searchCondition.teacherId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSubjectOption = () => {\r\n        let list = this.state.subjectList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { subjectId, subjectName } = list[i];\r\n            options.push({\r\n                name: subjectName,\r\n                value: subjectId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getTermOptions = () => {\r\n        return [{ name: \"1\", value: 1 }, { name: \"2\", value: 2 }]\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teachingAssignmentList.map((year, index) => {\r\n            const { subjectName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{className}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td>{this.state.term}</td>\r\n                    {this.state.kind === \"edit\" &&\r\n                        <td className=\"text-center\">\r\n                            <button className=\"btn btn-danger\" onClick={() => this.inputScore(index)}>Nhập điểm</button>\r\n                        </td>\r\n                    }\r\n                    { this.state.kind !== \"edit\" &&\r\n                        <td className=\"text-center\">\r\n                            <button className=\"btn btn-danger\" onClick={() => this.viewScore(index)}>Xem điểm</button>\r\n                        </td>\r\n                    }\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    inputScore = (index) => {\r\n        this.props.history.push(\"/teaching-class-score\", {\r\n            term: this.state.term,\r\n            ...this.state.teachingAssignmentList[index],\r\n        })\r\n    }\r\n\r\n    viewScore = (index) => {\r\n        this.props.history.push(\"/search-score\", {\r\n            term: this.state.term,\r\n            ...this.state.teachingAssignmentList[index],\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Danh sách lớp dạy\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Kỳ học</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={this.getTermOptions()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.term}\r\n                                    onChange={v => this.setState({ term: v })}\r\n                                />\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Môn học:</label>\r\n                            <div className=\"ml-1 select-subject\">\r\n                                <SelectSearch\r\n                                    options={this.getSubjectOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.subjectId}\r\n                                    onChange={v => this.changeSearchCondition(\"subjectId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Môn học</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>Kỳ học</th>\r\n                                        <th>\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMyTeachingAssignment.contextType = AppContext\r\n\r\nexport default withRouter(MyTeachingAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/Statistic/RankStatistic.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\nimport Pdf from \"react-to-pdf\";\r\nimport ReactToPrint from 'react-to-print';\r\nconst ref = React.createRef()\r\n\r\nclass RankStatistic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            searchCondition: {},\r\n            iconSize: '15px',\r\n            homeroomTeacher: \"\",\r\n            studentList: [],\r\n            date: new Date()\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                term: 1,\r\n                teacherId: teacher.data.result.teacherId,\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n            }\r\n            console.log(searchCondition)\r\n            this.setState({\r\n                classList: homeroomClass.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, showReport: false })\r\n                return\r\n            }\r\n            let res = await Api.getRankReport(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                showReport: true,\r\n                loading: false,\r\n                studentList: res.data.data,\r\n                homeroomTeacher: res.data.homeroomTeacher,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        //console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: classList.data.result.data,\r\n                    searchCondition: searchCondition,\r\n                })\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.studentList.map((data, index) => {\r\n            const { studentName, gender, address, avgScore, scoreLevel, conduct } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{avgScore}</td>\r\n                    <td>{conduct}</td>\r\n                    <td>{scoreLevel}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thống kê danh sách theo hạng\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                    disabled={true}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"Cả năm\", value: 0 }, { name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-3\" onClick={(e) => { e.preventDefault(); this.refresh() }}>Xem kết quả</button>\r\n                        </form>\r\n                    </div>\r\n                    {this.state.showReport &&\r\n                        <div className=\"col-3\">\r\n                            <Pdf targetRef={ref} filename=\"rank-report.pdf\" scale={0.7} y={7}>\r\n                                {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary mr-2\" onClick={toPdf}>Xuất file</button>}\r\n                            </Pdf>\r\n                            <ReactToPrint\r\n                                trigger={() => {\r\n\r\n                                    return <button type=\"button\" className=\"btn btn-primary mr-2\">In thống kê</button>;\r\n                                }}\r\n                                content={() => this.componentRef}\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} style={{ overflow: \"auto\" }} >\r\n                        <div id=\"report\" ref={el => (this.componentRef = el)} className=\"container-fluid\" style={{ width: \"280mm\" }}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12 text-center statistic-title\">\r\n                                    <div>\r\n                                        <b>Danh sách học sinh theo xếp hạng</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Lớp: </b> {this.state.classList.find(e => e.classId === this.state.searchCondition.classId) && this.state.classList.find(e => e.classId === this.state.searchCondition.classId).className}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Học kỳ: </b> {this.state.searchCondition.term === 0 ? \"Cả năm\" : this.state.searchCondition.term}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th>Xếp hạng</th>\r\n                                                <th>Họ tên</th>\r\n                                                <th>Giới tính</th>\r\n                                                <th>Điểm trung bình</th>\r\n                                                <th>Hạnh kiểm</th>\r\n                                                <th>Học lực</th>\r\n                                                <th>Danh hiệu</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3 mb-2 justify-content-end\">\r\n                                <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5 text-center\">\r\n                                    Hà Nội, ngày {this.state.date.getDate()} tháng {this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                    <br />\r\n                                    <br />\r\n                                    <br />\r\n                                    {this.state.homeroomTeacher}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nRankStatistic.contextType = AppContext\r\n\r\nexport default withRouter(RankStatistic);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/Statistic/SubjectStatistic.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\nimport Pdf from \"react-to-pdf\";\r\nimport ReactToPrint from 'react-to-print';\r\nconst ref = React.createRef()\r\n\r\nclass SubjectStatistic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            homeroomTeacher: \"\",\r\n            date: new Date(),\r\n            scoreList: [],\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId,\r\n                term: 1,\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n            }\r\n            //console.log(searchCondition)\r\n            this.setState({\r\n                classList: homeroomClass.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, showReport: false })\r\n                return\r\n            }\r\n            let res = await Api.getSubjectReport(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                scoreList: res.data.data,\r\n                homeroomTeacher: res.data.homeroomTeacher,\r\n                loading: false,\r\n                showReport: true,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: classList.data.result.data,\r\n                    searchCondition: searchCondition,\r\n                })\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    renderTableData() {\r\n        let row = []\r\n        let list = this.state.scoreList\r\n        for (let i = 0; i < list.length; i++) {\r\n            const { nGioi, nKem, nKha, nNuGioi, nNuKem, nNuKha, nNuTB, nNuYeu, nTB, nYeu, subjectName, tlGioi, tlKem, tlKha, tlNuGioi, tlNuKem, tlNuKha, tlNuTB, tlNuYeu, tlTB, tlYeu } = list[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td rowSpan=\"2\" className=\"align-middle\">{subjectName}</td>\r\n                    <td>Nữ</td>\r\n                    <td>{nNuGioi}</td>\r\n                    <td>{tlNuGioi}</td>\r\n                    <td>{nNuKha}</td>\r\n                    <td>{tlNuKha}</td>\r\n                    <td>{nNuTB}</td>\r\n                    <td>{tlNuTB}</td>\r\n                    <td>{nNuYeu}</td>\r\n                    <td>{tlNuYeu}</td>\r\n                    <td>{nNuKem}</td>\r\n                    <td>{tlNuKem}</td>\r\n                </tr>\r\n            )\r\n            row.push(\r\n                <tr className=\"text-center\" key={\"TC\" + i}>\r\n                    <td>TC</td>\r\n                    <td>{nGioi}</td>\r\n                    <td>{tlGioi}</td>\r\n                    <td>{nKha}</td>\r\n                    <td>{tlKha}</td>\r\n                    <td>{nTB}</td>\r\n                    <td>{tlTB}</td>\r\n                    <td>{nYeu}</td>\r\n                    <td>{tlYeu}</td>\r\n                    <td>{nKem}</td>\r\n                    <td>{tlKem}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thống kê kết quả môn học\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" >\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                    disabled={true}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"Cả năm\", value: 0 }, { name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-3\" onClick={(e) => { e.preventDefault(); this.refresh() }}>Xem kết quả</button>\r\n                        </form>\r\n                    </div>\r\n                    {this.state.showReport &&\r\n                        <div className=\"col-3\">\r\n                            <Pdf targetRef={ref} filename=\"subject-report.pdf\" scale={0.7} y={7}>\r\n                                {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary mr-2\" onClick={toPdf}>Xuất file</button>}\r\n                            </Pdf>\r\n                            <ReactToPrint\r\n                                trigger={() => {\r\n\r\n                                    return <button type=\"button\" className=\"btn btn-primary mr-2\">In thống kê</button>;\r\n                                }}\r\n                                content={() => this.componentRef}\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} style={{ overflow: \"auto\" }} >\r\n                        <div id=\"report\" ref={el => (this.componentRef = el)} className=\"container-fluid\" style={{ width: \"280mm\" }}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12 text-center statistic-title\">\r\n                                    <div>\r\n                                        <b>Thống kê xếp loại môn học của lớp {this.state.classList[this.state.class]}</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Học kỳ: </b> {this.state.searchCondition.term === 0 ? \"Cả năm\" : this.state.searchCondition.term}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered table-striped\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th rowSpan=\"2\" colSpan=\"2\"></th>\r\n                                                <th colSpan=\"2\">Giỏi</th>\r\n                                                <th colSpan=\"2\">Khá</th>\r\n                                                <th colSpan=\"2\">Trung Bình</th>\r\n                                                <th colSpan=\"2\">Yếu</th>\r\n                                                <th colSpan=\"2\">Kém</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3 mb-2 justify-content-end\">\r\n                                <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5 text-center\">\r\n                                    Hà Nội, ngày {this.state.date.getDate()} tháng {this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                    <br />\r\n                                    <br />\r\n                                    <br />\r\n                                    {this.state.homeroomTeacher}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\nSubjectStatistic.contextType = AppContext\r\n\r\nexport default withRouter(SubjectStatistic);\r\n","import {\r\n    BsArrowLeftShort,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport AppContext from '../../context/AppContext'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport packagejson from '../../../package.json';\r\nclass SearchHomeroomClassInfo extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //state is by default an object\r\n            studentList: [],\r\n            perpage: 10,\r\n            loading: true,\r\n            modalData: {\r\n                studentId: 0,\r\n                studentCode: \"\",\r\n                studentName: \"\",\r\n                address: \"\",\r\n                permanentResidence: \"\",\r\n                gender: 1,\r\n                pId: \"\",\r\n                image: \"http://localhost:3000/user.png\",\r\n                dateOfBirth: new Date(),\r\n                email: \"\",\r\n                phoneNumber: \"\",\r\n                dateOfParty: new Date(),\r\n                dateOfUnion: new Date(),\r\n                accountName: \"\",\r\n                fatherName: \"\",\r\n                fatherPhone: \"\",\r\n                fatherMail: \"\",\r\n                motherName: \"\",\r\n                motherPhone: \"\",\r\n                motherMail: \"\"\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            homeroomTeacher: {},\r\n            schoolYearList: [],\r\n            searchCondition: {},\r\n            class: {},\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ])\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId,\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                homeroomTeacher: teacher.data.result,\r\n                searchCondition: searchCondition,\r\n                class: homeroomClass.data.result.data.length ? homeroomClass.data.result.data[0] : {},\r\n                loading: false\r\n            })\r\n            await this.refresh(searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, studentList: [] })\r\n                return\r\n            }\r\n            let res = await Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            this.setState({ loading: false, studentList: res.data.result.data, showReport: true })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    class: classList.data.result.data.length ? classList.data.result.data[0] : {},\r\n                    searchCondition: searchCondition,\r\n                })\r\n                await this.refresh(searchCondition)\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    renderTableHeader() {\r\n        return (\r\n            <tr>\r\n                <th>STT</th>\r\n                <th>Mã số học sinh</th>\r\n                <th>Họ tên</th>\r\n                <th>Ngày sinh</th>\r\n                <th>Giới tính</th>\r\n                <th>Nơi sinh</th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.studentList.map((year, index) => {\r\n            const { studentCode, studentName, dateOfBirth, gender, address } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentCode}</span></td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentName}</span></td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    showInfo = async (index) => {\r\n        let studentId = this.state.studentList[index].studentId\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"info\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n        })\r\n        try {\r\n            let student = await Api.getStudent(studentId)\r\n            student = student.data.result\r\n            student.dateOfBirth = new Date(student.dateOfBirth)\r\n            student.dateOfUnion = new Date(student.dateOfUnion)\r\n            student.dateOfParty = new Date(student.dateOfParty)\r\n            this.setState({\r\n                showModal: true,\r\n                modalKind: \"info\",\r\n                modalLoading: false,\r\n                modalEdited: false,\r\n                modalData: {\r\n                    ...student\r\n                }\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({\r\n                showModal: false,\r\n                modalKind: \"info\",\r\n                modalLoading: false,\r\n            })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Xem thông tin lớp chủ nhiệm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" >\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div>\r\n                        <div className=\"row mt-3\">\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                <span className=\"mr-5 ml-5\">\r\n                                    <b>Lớp: </b> {this.state.class.className}\r\n                                </span>\r\n                                <span className=\"mr-5 ml-5\">\r\n                                    <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                </span>\r\n                                <span className=\"mr-5 ml-5\">\r\n                                    <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher.teacherName}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <br></br>\r\n                        <div style={{ minHeight: \"430px\" }}>\r\n                            <Table striped bordered hover >\r\n                                <thead className=\"table-header\">\r\n                                    {this.renderTableHeader()}\r\n                                </thead>\r\n                                <tbody>{this.renderTableData()}</tbody>\r\n                            </Table>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm học sinh\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa học sinh\"\r\n        }\r\n        return \"Thông tin học sinh\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addStudent}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editStudent}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên học sinh\"\r\n                                                    name=\"studentName\"\r\n                                                    value={this.props.data.studentName}\r\n\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Mã học sinh</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập mã học sinh\"\r\n                                                    name=\"studentCode\"\r\n                                                    value={this.props.data.studentCode}\r\n\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày sinh</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfBirth}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại\"\r\n                                                    name=\"phoneNumber\"\r\n                                                    value={this.props.data.phoneNumber}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Giới tính</Form.Label>\r\n                                                <Form.Control\r\n                                                    as=\"select\"\r\n                                                    name=\"gender\"\r\n                                                    value={this.props.data.subjectName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                >\r\n                                                    <option value=\"1\">Nam</option>\r\n                                                    <option value=\"0\">Nữ</option>\r\n                                                </Form.Control>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"email\"\r\n                                                    name=\"email\"\r\n                                                    value={this.props.data.email}\r\n                                                    onChange={this.changeHandler}\r\n                                                    placeholder=\"Nhập email\"\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ảnh</Form.Label>\r\n                                            </Form.Group>\r\n                                            <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} />\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên bố\"\r\n                                                    name=\"fatherName\"\r\n                                                    value={this.props.data.fatherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số CMND</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số CMND\"\r\n                                                    name=\"pId\"\r\n                                                    value={this.props.data.pId}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại bố\"\r\n                                                    name=\"fatherPhone\"\r\n                                                    value={this.props.data.fatherPhone}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập hộ khẩu thường trú\"\r\n                                                    name=\"permanentResidence\"\r\n                                                    value={this.props.data.permanentResidence}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập email bố\"\r\n                                                    name=\"fatherMail\"\r\n                                                    value={this.props.data.fatherMail}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập nơi ở hiện nay\"\r\n                                                    name=\"address\"\r\n                                                    value={this.props.data.address}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên mẹ\"\r\n                                                    name=\"motherName\"\r\n                                                    value={this.props.data.motherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfUnion}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại mẹ\"\r\n                                                    name=\"motherPhone\"\r\n                                                    value={this.props.data.motherPhone}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đảng</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfParty}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập email mẹ\"\r\n                                                    name=\"motherMail\"\r\n                                                    value={this.props.data.motherMail}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nSearchHomeroomClassInfo.contextType = AppContext\r\nexport default withRouter(SearchHomeroomClassInfo);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/TeachingClassScore.css';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { Modal, Button } from 'react-bootstrap'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport XLSX from \"xlsx\";\r\n\r\n\r\nclass SearchScore extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            info: {},\r\n            scoreList: [],\r\n            edited: false,\r\n            submitLoading: false,\r\n            showConfirm: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n        })\r\n        //console.log(this.props.location.state);\r\n        if (!this.props.location.state) {\r\n            this.props.history.push(\"/my-teaching-assignment\", {\r\n                kind: \"info\"\r\n            })\r\n            return\r\n        }\r\n\r\n        this.unblock = this.props.history.block(tx => {\r\n            if (!this.state.edited) {\r\n                this.unblock()\r\n                return true\r\n            } else {\r\n                this.setState({\r\n                    showConfirm: true,\r\n                })\r\n                return false\r\n            }\r\n        });\r\n        let info = this.props.location.state\r\n        this.setState({ info: info })\r\n        try {\r\n            await this.refresh()\r\n            this.setState({ loading: false })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.unblock) {\r\n            this.unblock()\r\n        }\r\n    }\r\n\r\n    refresh = async () => {\r\n        let info = this.props.location.state\r\n        this.setState({ loading: true })\r\n        try {\r\n            let studentAssignmentList = await Api.searchStudentAssignment(1, 1000000, {\r\n                schoolYearId: info.schoolYearId,\r\n                classId: info.classId,\r\n            })\r\n            studentAssignmentList = studentAssignmentList.data.result.data\r\n            //console.log(studentAssignmentList)\r\n            let listApi = []\r\n            for (let i = 0; i < studentAssignmentList.length; i++) {\r\n                listApi.push(\r\n                    Api.getSubjectScore(studentAssignmentList[i].studentId, info.subjectId, info.schoolYearId, info.term)\r\n                )\r\n            }\r\n            let scoreList = await Promise.all(listApi);\r\n            //console.log(scoreList)\r\n            let list = [];\r\n            for (let i = 0; i < scoreList.length; i++) {\r\n                list.push({\r\n                    ...studentAssignmentList[i],\r\n                    scoreMouth: [],\r\n                    score15: [],\r\n                    score45: [],\r\n                    scoreTerm: {},\r\n                })\r\n                let scores = scoreList[i].data.scores\r\n                for (let j = 0; j < scores.length; j++) {\r\n                    switch (scores[j].kind) {\r\n                        case 0: list[i].scoreMouth.push(scores[j]);\r\n                            break;\r\n                        case 1: list[i].score15.push(scores[j]);\r\n                            break;\r\n                        case 2: list[i].score45.push(scores[j]);\r\n                            break;\r\n                        case 3: list[i].scoreTerm = scores[j];\r\n                            break;\r\n                        default:\r\n                    }\r\n                }\r\n                while (list[i].scoreMouth.length < 5) {\r\n                    list[i].scoreMouth.push({\r\n                        kind: 0,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                while (list[i].score15.length < 5) {\r\n                    list[i].score15.push({\r\n                        kind: 1,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                while (list[i].score45.length < 3) {\r\n                    list[i].score45.push({\r\n                        kind: 2,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                if (!list[i].scoreTerm.scoreId) {\r\n                    list[i].scoreTerm = {\r\n                        kind: 3,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    }\r\n                }\r\n            }\r\n            console.log(list)\r\n            this.setState({\r\n                loading: false,\r\n                scoreList: list,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.scoreList.map((data, index) => {\r\n            const { studentCode, studentName, scoreMouth, score15, score45, scoreTerm } = data;\r\n            let list = []\r\n            for (let i = 0; i < scoreMouth.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"mouth\" + i}>\r\n                        <input disabled className=\"score-input form-control\" type=\"text\" value={scoreMouth[i].score} onChange={(e) => this.changeScore(index, 0, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            for (let i = 0; i < score15.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"score15\" + i}>\r\n                        <input disabled className=\"score-input form-control\" type=\"text\" value={score15[i].score} onChange={(e) => this.changeScore(index, 1, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            for (let i = 0; i < score45.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"score45\" + i}>\r\n                        <input disabled className=\"score-input form-control\" type=\"text\" value={score45[i].score} onChange={(e) => this.changeScore(index, 2, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            list.push(\r\n                <td className=\"td-score\" key={\"score-term\"}>\r\n                    <input disabled className=\"score-input form-control\" type=\"text\" value={scoreTerm.score} onChange={(e) => this.changeScore(index, 3, 0, e)} />\r\n                </td>\r\n            )\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    {list}\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    exportFile = () => {\r\n        let data = []\r\n        data.push([\"STT\", \"MSHS\", \"Họ tên\", \"Miệng\", \"\", \"\", \"\", \"\", \"15 phút\", \"\", \"\", \"\", \"\", \"1 tiết\", \"\", \"\", \"Thi\"])\r\n        let scoreList = this.state.scoreList\r\n        scoreList.forEach((score, index) => {\r\n            let row = [index + 1, score.studentCode, score.studentName]\r\n            let scoreMouth = score.scoreMouth.map((e) => e.score)\r\n            row.push(...scoreMouth)\r\n            let score15 = score.score15.map((e) => e.score)\r\n            row.push(...score15)\r\n            let score45 = score.score45.map((e) => e.score)\r\n            row.push(...score45)\r\n            row.push(score.scoreTerm.score)\r\n            data.push(row)\r\n        })\r\n        let ws = XLSX.utils.aoa_to_sheet(data)\r\n        ws['!merges'] = [\r\n            {\r\n                s: { r: 0, c: 3 },\r\n                e: { r: 0, c: 7 }\r\n            },\r\n            {\r\n                s: { r: 0, c: 8 },\r\n                e: { r: 0, c: 12 }\r\n            },\r\n            {\r\n                s: { r: 0, c: 13 },\r\n                e: { r: 0, c: 15 }\r\n            },\r\n        ]\r\n        const wb = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(wb, ws, \"Score\");\r\n        // /* generate XLSX file and send to client */\r\n        XLSX.writeFile(wb, \"score.xlsx\");\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        //console.log(this.state)\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Confirm\r\n                    show={this.state.showConfirm}\r\n                    close={this.closeConfirm}\r\n                    unblock={this.unblock}\r\n                    goBack={this.back}\r\n                />\r\n                <Loading show={this.state.submitLoading} />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu điểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-6 mt-1\">\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Năm học: </b>{this.state.info.schoolYear}\r\n                        </span>\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Lớp: </b>{this.state.info.className}\r\n                        </span>\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Học kỳ: </b>{this.state.info.term}\r\n                        </span>\r\n\r\n                        <span className=\"align-middle\">\r\n                            <b>Môn: </b>{this.state.info.subjectName}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.exportFile()}>Xuất file điểm</button>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <form className=\"text-center\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>MSHS</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th colSpan=\"5\">Miệng</th>\r\n                                        <th colSpan=\"5\">15 phút</th>\r\n                                        <th colSpan=\"3\">1 tiết</th>\r\n                                        <th>thi</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Confirm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận thoát</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn thoát, các thay đổi sẽ không được lưu ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.unblock(); this.props.goBack() }}>Thoát</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchScore);","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/StudentPLL.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\nimport Pdf from \"react-to-pdf\";\r\nconst ref = React.createRef()\r\nclass StudentPLL extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            studentList: [],\r\n            classList: [],\r\n            loading: false,\r\n            showReport: false,\r\n            scoreList: [],\r\n            PLL: {},\r\n            date: new Date(),\r\n            teacher: {}\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, student] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getStudentByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                studentId: student.data.result.studentId,\r\n            }\r\n            console.log(searchCondition)\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false,\r\n                student: student.data.result\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n\r\n            let studentAssignment = await Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            if (studentAssignment.data.result.data.length === 0) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không có phiếu liên lạc trong thời điểm này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({\r\n                    loading: false,\r\n                    showReport: false\r\n                })\r\n                return\r\n            }\r\n            let [res, score, teacher] = await Promise.all([\r\n                Api.getPLL(searchCondition || this.state.searchCondition),\r\n                Api.getStudentScoreSummary(searchCondition || this.state.searchCondition),\r\n                Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            ])\r\n            console.log(res, score)\r\n            this.setState({\r\n                teacher: teacher.data.result.data[0],\r\n                studentAssignment: studentAssignment.data.result.data[0],\r\n                scoreList: score.data.data,\r\n                PLL: res.data,\r\n                showReport: true,\r\n                loading: false,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        //console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            try {\r\n                let studentAssignment = await Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n                if (studentAssignment.data.result.data.length === 0) {\r\n                    store.addNotification({\r\n                        title: \"Thông báo\",\r\n                        message: \"Bạn không có phiếu liên lạc trong thời điểm này\",\r\n                        type: \"info\",\r\n                        container: \"top-center\",\r\n                        dismiss: {\r\n                            duration: 5000,\r\n                            showIcon: true,\r\n                        },\r\n                        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                    })\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    studentAssignment: studentAssignment.data.result.data[0],\r\n                    searchCondition: searchCondition,\r\n                })\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    studentList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let scoreList = this.state.scoreList;\r\n        let row = [];\r\n        for (let i = 0; i < scoreList.length; i++) {\r\n            let { subjectName, score1, score2, avgScore1, avgScore2, avgScoreYear } = scoreList[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{score1[0][0]}</td>\r\n                    <td>{score1[0][1]}</td>\r\n                    <td>{score1[0][2]}</td>\r\n                    <td>{score1[0][3]}</td>\r\n                    <td>{score1[0][4]}</td>\r\n                    <td>{score1[1][0]}</td>\r\n                    <td>{score1[1][1]}</td>\r\n                    <td>{score1[1][2]}</td>\r\n                    <td>{score1[1][3]}</td>\r\n                    <td>{score1[1][4]}</td>\r\n                    <td>{score1[2][0]}</td>\r\n                    <td>{score1[2][1]}</td>\r\n                    <td>{score1[2][2]}</td>\r\n                    <td>{score1[3][0]}</td>\r\n                    <td>{score2[0][0]}</td>\r\n                    <td>{score2[0][1]}</td>\r\n                    <td>{score2[0][2]}</td>\r\n                    <td>{score2[0][3]}</td>\r\n                    <td>{score2[0][4]}</td>\r\n                    <td>{score2[1][0]}</td>\r\n                    <td>{score2[1][1]}</td>\r\n                    <td>{score2[1][2]}</td>\r\n                    <td>{score2[1][3]}</td>\r\n                    <td>{score2[1][4]}</td>\r\n                    <td>{score2[2][0]}</td>\r\n                    <td>{score2[2][1]}</td>\r\n                    <td>{score2[2][2]}</td>\r\n                    <td>{score2[3][0]}</td>\r\n                    <td>{avgScore1}</td>\r\n                    <td>{avgScore2}</td>\r\n                    <td>{avgScoreYear}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        let { PLL } = this.state\r\n        let student = this.state.student\r\n        let _class = this.state.studentAssignment\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Xuất phiếu liên lạc\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"form-inline\">\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button onClick={() => this.refresh()} type=\"button\" className=\"btn btn-primary ml-auto\">Xem phiếu liên lạc</button>\r\n                            {this.state.showReport &&\r\n                                <div className=\"col-3\">\r\n                                    <Pdf targetRef={ref} filename=\"phieu-lien-lac.pdf\" scale={0.52} y={7}>\r\n                                        {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary ml-3\" onClick={toPdf}>Xuất file phiếu liên lạc</button>}\r\n                                    </Pdf>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} className=\"d-flex\" style={{ overflow: \"auto\" }} >\r\n                        <div style={{ width: \"380mm\" }} className=\"ml-auto mr-auto\">\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-12 text-center pll-title\">\r\n                                    <div>\r\n                                        <b>Phiếu liên lạc điện tử</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Học sinh: </b>{student.studentName}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Ngày sinh: </b>{this.formatDate(new Date(student.dateOfBirth))}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Lớp: </b> { } {_class.className}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Năm học: </b>{_class.schoolYear}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered student-score-summary\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th rowSpan=\"2\">STT</th>\r\n                                                <th rowSpan=\"2\" className=\"subject\">Môn học</th>\r\n                                                <th colSpan=\"14\">Học kỳ 1</th>\r\n                                                <th colSpan=\"14\">Học kỳ 2</th>\r\n                                                <th rowSpan=\"2\">TB kỳ 1</th>\r\n                                                <th rowSpan=\"2\">TB kỳ 2</th>\r\n                                                <th rowSpan=\"2\">TB năm</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th colSpan=\"5\">Miệng</th>\r\n                                                <th colSpan=\"5\">15 phút</th>\r\n                                                <th colSpan=\"3\">1 tiết</th>\r\n                                                <th >Thi</th>\r\n                                                <th colSpan=\"5\">Miệng</th>\r\n                                                <th colSpan=\"5\">15 phút</th>\r\n                                                <th colSpan=\"3\">1 tiết</th>\r\n                                                <th >Thi</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th >Tổng kết</th>\r\n                                                <th >Điểm trung bình</th>\r\n                                                <th >Học lực</th>\r\n                                                <th >Hạnh kiểm</th>\r\n                                                <th >Xếp hạng</th>\r\n                                                <th >Danh hiệu</th>\r\n                                                <th >Vắng có phép</th>\r\n                                                <th >Vắng không phép</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Học kỳ 1</td>\r\n                                                <td>{PLL.result1.avgScore}</td>\r\n                                                <td>{PLL.result1.scoreTitle}</td>\r\n                                                <td>{PLL.result1.conductTitle}</td>\r\n                                                <td>{PLL.result1.rank}</td>\r\n                                                <td>{PLL.result1.title}</td>\r\n                                                <td>{PLL.result1.nVangCoPhep}</td>\r\n                                                <td>{PLL.result1.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Học kỳ 2</td>\r\n                                                <td>{PLL.result2.avgScore}</td>\r\n                                                <td>{PLL.result2.scoreTitle}</td>\r\n                                                <td>{PLL.result2.conductTitle}</td>\r\n                                                <td>{PLL.result2.rank}</td>\r\n                                                <td>{PLL.result2.title}</td>\r\n                                                <td>{PLL.result2.nVangCoPhep}</td>\r\n                                                <td>{PLL.result2.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Cả năm</td>\r\n                                                <td>{PLL.result0.avgScore}</td>\r\n                                                <td>{PLL.result0.scoreTitle}</td>\r\n                                                <td>{PLL.result0.conductTitle}</td>\r\n                                                <td>{PLL.result0.rank}</td>\r\n                                                <td>{PLL.result0.title}</td>\r\n                                                <td>{PLL.result0.nVangCoPhep}</td>\r\n                                                <td>{PLL.result0.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th colSpan=\"2\">Ý kiến PHHS</th>\r\n                                                <th colSpan=\"2\">Ý kiến GVCN</th>\r\n                                                <th colSpan=\"2\">Kết quả cuối năm</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr className=\"text-left\">\r\n                                                <td colSpan=\"2\"></td>\r\n                                                <td colSpan=\"2\">{PLL.result1.note} {\"\\n\"} {PLL.result2.note}</td>\r\n                                                <td colSpan=\"2\">\r\n                                                    Được lên lớp:<br />{PLL.result0.isGradeUp}\r\n                                        Thi lại môn:\r\n                                    </td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td colSpan=\"3\">\r\n                                                    <b>Hiệu trưởng</b>\r\n                                                </td>\r\n                                                <td colSpan=\"3\">\r\n                                                    Hà Nội, ngày {this.state.date.getDate() < 10 ? \"0\" + this.state.date.getDate() : this.state.date.getDate()} tháng {this.state.date.getMonth() < 9 ? \"0\" + (this.state.date.getMonth() + 1) : this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    {this.state.teacher.teacherName}\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nStudentPLL.contextType = AppContext\r\n\r\nexport default withRouter(StudentPLL);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh, } from 'react-icons/bi';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport '../../css/TeachingAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass MyTeachingAssignment extends Component {\r\n    constructor(props) {\r\n        //console.log(props)\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            subjectList: [],\r\n            teachingAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n            },\r\n            perpage: 1000000,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            term: 1,\r\n            kind: \"edit\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n            kind: this.props.location.state && this.props.location.state.kind\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, subjectList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getSubjectList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                subjectList: subjectList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                teacherId: teacher.data.result.teacherId\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchTeachingAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                teachingAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId,\r\n            teacherId: this.state.searchCondition.teacherId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSubjectOption = () => {\r\n        let list = this.state.subjectList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { subjectId, subjectName } = list[i];\r\n            options.push({\r\n                name: subjectName,\r\n                value: subjectId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getTermOptions = () => {\r\n        return [{ name: \"1\", value: 1 }, { name: \"2\", value: 2 }]\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teachingAssignmentList.map((year, index) => {\r\n            const { subjectName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{className}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td>{this.state.term}</td>\r\n                    {this.state.kind === \"edit\" &&\r\n                        <td className=\"text-center\">\r\n                            <button className=\"btn btn-danger\" onClick={() => this.inputScore(index)}>Nhập điểm</button>\r\n                        </td>\r\n                    }\r\n                    { this.state.kind !== \"edit\" &&\r\n                        <td className=\"text-center\">\r\n                            <button className=\"btn btn-danger\" onClick={() => this.viewScore(index)}>Xem điểm</button>\r\n                        </td>\r\n                    }\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    inputScore = (index) => {\r\n        this.props.history.push(\"/teaching-class-score\", {\r\n            term: this.state.term,\r\n            ...this.state.teachingAssignmentList[index],\r\n        })\r\n    }\r\n\r\n    viewScore = (index) => {\r\n        this.props.history.push(\"/search-score\", {\r\n            term: this.state.term,\r\n            ...this.state.teachingAssignmentList[index],\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Danh sách lớp dạy\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Kỳ học</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={this.getTermOptions()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.term}\r\n                                    onChange={v => this.setState({ term: v })}\r\n                                />\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Môn học:</label>\r\n                            <div className=\"ml-1 select-subject\">\r\n                                <SelectSearch\r\n                                    options={this.getSubjectOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.subjectId}\r\n                                    onChange={v => this.changeSearchCondition(\"subjectId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Môn học</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>Kỳ học</th>\r\n                                        <th>\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMyTeachingAssignment.contextType = AppContext\r\n\r\nexport default withRouter(MyTeachingAssignment);\r\n","import React from \"react\";\r\nimport AppContext from './context/AppContext';\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport Header from \"./components/Header/Header\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './css/App.css';\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport 'animate.css/animate.min.css';\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport Home from './components/Home/Home';\r\nimport Login from './components/Login/login';\r\nimport AccountInfo from './components/AccountInfo/AccountInfo';\r\nimport ForgetPassword from './components/ForgetPassword/forgetPassword';\r\nimport ChangePassword from './components/ChangePassword/ChangePassword';\r\nimport StudentScore from './components/StudentScore/StudentScore';\r\nimport PLL from './components/PLL/PLL';\r\nimport RankStatistic from './components/Statistic/RankStatistic';\r\nimport SubjectStatistic from './components/Statistic/SubjectStatistic';\r\nimport TeachingClassScore from './components/TeachingClassScore/TeachingClassScore';\r\nimport ConductAssessment from './components/ConductAssessment/ConductAssessment';\r\nimport StudentAttendance from './components/StudentAttendance/StudentAttendance';\r\nimport ScoreLock from './components/ScoreLock/ScoreLock';\r\nimport HomeroomTeacherAssignment from './components/HomeroomTeacherAssignment/HomeroomTeacherAssignment';\r\nimport TeachingAssignment from './components/TeachingAssignment/TeachingAssignment';\r\nimport SpecialistAssignment from './components/SpecialistAssignment/SpecialistAssignment';\r\nimport SchoolYear from './components/SchoolYear/schoolYear';\r\nimport StudentAssignment from './components/StudentAssignment/StudentAssignment';\r\nimport TransferClass from './components/TransferClass/TransferClass';\r\nimport Api from './api/api';\r\nimport jwt from \"jwt-decode\";\r\nimport ReactNotification from 'react-notifications-component'\r\nimport Page404 from './components/Page404/Page404';\r\nimport Class from './components/Class/class'\r\nimport Subject from './components/Subject/subject'\r\nimport SpecialistTeam from './components/SpecialistTeam/specialistTeam'\r\nimport Student from './components/Student/student'\r\nimport Teacher from './components/Teacher/teacher'\r\nimport Account from './components/Account/Account'\r\nimport SearchTeacher from './components/SearchTeacher/SearchTeacher'\r\nimport SearchStudent from './components/SearchStudent/SearchStudent'\r\nimport SearchHomroomTeacherAssignment from './components/SearchHomroomTeacherAssignment/SearchHomroomTeacherAssignment'\r\nimport SearchTeachingAssignment from './components/SearchTeachingAssignment/SearchTeachingAssignment'\r\nimport MyTeachingAssignment from './components/MyTeachingAssignment/MyTeachingAssignment'\r\nimport HomeroomRankStatistic from './components/HomeRoomTeacherStatistic/RankStatistic'\r\nimport HomeroomSubjectStatistic from './components/HomeRoomTeacherStatistic/SubjectStatistic'\r\nimport SearchHomeroomClassInfo from './components/SearchHomeroomClassInfo/SearchHomeroomClassInfo'\r\nimport SearchScore from './components/SearchScore/SearchScore'\r\nimport StudentPLL from './components/StudentPLL/StudentPLL'\r\nimport MyTeachingAssignmentEdit from './components/MyTeachingAssignmentEdit/MyTeachingAssignmentEdit'\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      context: {\r\n        user: null,\r\n        setUser: this.setUser,\r\n      },\r\n      loading: true\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    let accessToken = localStorage.getItem('accessToken')\r\n    //console.log(this.state.context.user)\r\n    if (accessToken) {\r\n      try {\r\n        await Api.checkAuth()\r\n        let user = jwt(accessToken)\r\n        this.setUser(user)\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.setUser(null)\r\n        localStorage.removeItem('accessToken')\r\n      }\r\n    }\r\n    this.setState({ loading: false })\r\n  }\r\n\r\n  setUser = (user) => {\r\n    let context = this.state.context\r\n    context.user = user\r\n    this.setState({ context: context })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"h-100 w-100 bg-primary d-flex justify-content-center\">\r\n          <ReactLoading type={\"bars\"} color={\"#fff\"} height={'20%'} width={'20%'} className=\"align-self-center mb-5\" />\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <AppContext.Provider value={this.state.context}>\r\n        <BrowserRouter>\r\n          <ReactNotification />\r\n          <Header />\r\n          <div className=\"content\">\r\n            <Switch>\r\n              <Route path=\"/login\">\r\n                <Login />\r\n              </Route>\r\n              <Route path=\"/forgetpassword\">\r\n                <ForgetPassword />\r\n              </Route>\r\n              <PrivateRouter exact path=\"/\" component={<Home />} role={[2, 1, 0]} />\r\n              <PrivateRouter exact path=\"/account-info\" component={<AccountInfo />} role={[2, 1, 0]} />\r\n              <PrivateRouter exact path=\"/change-password\" component={<ChangePassword />} role={[2, 1, 0]} />\r\n              <PrivateRouter exact path=\"/school-year\" component={<SchoolYear />} role={[2]} />\r\n              <PrivateRouter exact path=\"/class\" component={<Class />} role={[2]} />\r\n              <PrivateRouter exact path=\"/subject\" component={<Subject />} role={[2]} />\r\n              <PrivateRouter exact path=\"/specialist-team\" component={<SpecialistTeam />} role={[2]} />\r\n              <PrivateRouter exact path=\"/student\" component={<Student />} role={[2]} />\r\n              <PrivateRouter exact path=\"/teacher\" component={<Teacher />} role={[2]} />\r\n              <PrivateRouter exact path=\"/teaching-assignment\" component={<TeachingAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/homeroom-teacher-assignment\" component={<HomeroomTeacherAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/specialist-assignment\" component={<SpecialistAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/student-assignment\" component={<StudentAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/account\" component={<Account />} role={[2]} />\r\n              <PrivateRouter exact path=\"/transfer-class\" component={<TransferClass />} role={[2]} />\r\n              <PrivateRouter exact path=\"/score-lock\" component={<ScoreLock />} role={[2]} />\r\n              <PrivateRouter exact path=\"/search-teacher\" component={<SearchTeacher />} role={[2]} />\r\n              <PrivateRouter exact path=\"/search-student\" component={<SearchStudent />} role={[2]} />\r\n              <PrivateRouter exact path=\"/search-homeroom-teacher-assignment\" component={<SearchHomroomTeacherAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/search-teaching-assignment\" component={<SearchTeachingAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/teaching-class-score\" component={<TeachingClassScore />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/my-teaching-assignment\" component={<MyTeachingAssignment />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/my-teaching-assignment-edit\" component={<MyTeachingAssignmentEdit />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/conduct-assesssment\" component={<ConductAssessment />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/statistic-rank\" component={<RankStatistic />} role={[2]} />\r\n              <PrivateRouter exact path=\"/statistic-subject\" component={<SubjectStatistic />} role={[2]} />\r\n              <PrivateRouter exact path=\"/student-score\" component={<StudentScore />} role={[0]} />\r\n              <PrivateRouter exact path=\"/homeroom-statistic-rank\" component={<HomeroomRankStatistic />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/homeroom-statistic-subject\" component={<HomeroomSubjectStatistic />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/search-homeroom-class-info\" component={<SearchHomeroomClassInfo />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/search-score\" component={<SearchScore />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/student-attendance\" component={<StudentAttendance />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/pll\" component={<PLL />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/student-pll\" component={<StudentPLL />} role={[0]} />\r\n              <Route path=\"/\">\r\n                <Page404 />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n          <Footer />\r\n        </BrowserRouter>\r\n      </AppContext.Provider>\r\n    )\r\n  }\r\n}\r\n\r\nclass PrivateRouter extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n    }\r\n  }\r\n  checkLogin = () => {\r\n    return this.context.user\r\n  }\r\n  checkAuth = () => {\r\n    return this.props.role && this.context.user && this.props.role.includes(this.context.user.role)\r\n  }\r\n  render() {\r\n    let { component: Component, ...rest } = this.props;\r\n    return (\r\n      <Route {...rest}>\r\n        {this.checkLogin() ?\r\n          this.checkAuth() ?\r\n            Component :\r\n            <Redirect\r\n              to='/'\r\n            /> :\r\n          <Redirect\r\n            to={{\r\n              pathname: '/login',\r\n              state: { from: this.props.path }\r\n            }}\r\n          />\r\n        }\r\n      </Route>\r\n    )\r\n  }\r\n}\r\nPrivateRouter.contextType = AppContext\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}