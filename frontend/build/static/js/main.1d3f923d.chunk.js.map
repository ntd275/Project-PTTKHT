{"version":3,"sources":["context/AppContext.js","components/Footer/Footer.js","components/Header/Header.js","components/Home/Home.js","api/api.js","components/Loading/Loading.js","components/Login/login.js","components/AccountInfo/AccountInfo.js","components/ForgetPassword/usernameInput.js","components/ForgetPassword/otpInput.js","components/ForgetPassword/passwordInput.js","components/ForgetPassword/forgetPassword.js","components/ChangePassword/OldPasswordInput.js","components/ChangePassword/passwordInput.js","components/ChangePassword/ChangePassword.js","components/StudentScore/StudentScore.js","components/PLL/PLL.js","components/Statistic/RankStatistic.js","components/Statistic/SubjectStatistic.js","components/TeachingClassScore/TeachingClassScore.js","components/ConductAssessment/ConductAssessment.js","components/StudentAttendance/StudentAttendance.js","components/Pagination/Pagination.js","components/ScoreLock/ScoreLock.js","components/HomeroomTeacherAssignment/HomeroomTeacherAssignment.js","components/TeachingAssignment/TeachingAssignment.js","components/SpecialistAssignment/SpecialistAssignment.js","components/SchoolYear/schoolYear.js","components/StudentAssignment/StudentAssignment.js","components/TransferClass/TransferClass.js","components/Page404/Page404.js","components/Class/class.js","components/Subject/subject.js","components/SpecialistTeam/specialistTeam.js","components/Student/student.js","components/Teacher/teacher.js","components/Account/Account.js","components/SearchTeacher/SearchTeacher.js","components/SearchStudent/SearchStudent.js","components/SearchHomroomTeacherAssignment/SearchHomroomTeacherAssignment.js","components/SearchTeachingAssignment/SearchTeachingAssignment.js","components/MyTeachingAssignment/MyTeachingAssignment.js","components/HomeRoomTeacherStatistic/RankStatistic.js","components/HomeRoomTeacherStatistic/SubjectStatistic.js","components/SearchHomeroomClassInfo/SearchHomeroomClassInfo.js","components/SearchScore/SearchScore.js","components/StudentPLL/StudentPLL.js","components/MyTeachingAssignmentEdit/MyTeachingAssignmentEdit.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","React","createContext","Footer","className","href","Component","Header","props","logout","a","localStorage","removeItem","context","setUser","err","console","log","state","iconSize","this","user","role","Navbar","bg","expand","variant","to","size","Toggle","aria-controls","Collapse","id","Nav","NavDropdown","title","Divider","alignRight","accountName","onClick","pathname","kind","contextType","Home","style","marginTop","baseUrl","packagejson","proxy","charAt","length","slice","axios","create","timeout","guest","defaults","withCredentials","interceptors","request","use","config","accessToken","getItem","headers","error","Promise","reject","response","originalRequest","retry","status","Api","refreshToken","res","setItem","data","login","username","password","post","checkAuth","get","getAccountInfo","checkPassword","changePassword","oldPassword","newPassword","put","old_password","new_password","sendOTP","checkOTP","otpToken","otp","forgetPassword","getSchoolYearList","page","perpage","addSchoolYear","schoolYear","beginSemester1","startFirstSemester","endSemester1","finishFirstSemester","beginSemester2","startSecondSemester","endSemester2","finishSecondSemester","description","editSchoolYear","schoolYearId","deleteSchoolYear","delete","getClassList","searchClassByName","name","addClass","classCode","editClass","classId","deleteClass","getSubjectList","searchSubjectByName","addSubject","subjectName","subjectCode","editSubject","subjectId","deleteSubject","getSpecialistTeamList","searchSpecialistTeamByName","addSpecialistTeam","specialistName","editSpecialistTeam","specialistTeamId","deleteSpecialistTeam","getStudentList","getStudent","getStudentByCode","code","searchStudentByName","searchStudentByNameOrCode","query","addStudent","studentCode","studentName","address","permanentResidence","gender","pId","image","dateOfBirth","email","phoneNumber","dateOfParty","dateOfUnion","fatherName","fatherPhone","fatherMail","motherName","motherPhone","motherMail","editStudent","studentId","deleteStudent","getTeacherList","getTeacher","getTeacherByCode","searchTeacherByName","searchTeacherByNameOrCode","addTeacher","teacherCode","teacherName","civilServantNumber","major","editTeacher","teacherId","deleteTeacher","getTeachingAssignmentList","searchTeachingAssignment","searchCondition","url","addTeachingAssignment","deleteTeachingAssignment","getHomeroomTeacherAssignmentList","searchHomeroomTeacherAssignment","addHomeroomTeacherAssignment","editHomeroomTeacherAssignment","homeroomTeacherAssignmentId","deleteHomeroomTeacherAssignment","getSpecialistAssignmentList","searchSpecialistAssignment","addSpecialistAssignment","deleteSpecialistAssignment","getStudentAssignmentList","searchStudentAssignment","addStudentAssignment","deleteStudentAssignment","tranferClass","list","getAccountList","addAccount","userCode","editAccount","accountId","parseInt","deleteAccount","getScoreLockList","addScoreLock","term","lock","lockScoreLock","unlockScoreLock","deleteScoreLock","checkLock","getSubjectScore","getStudentScore","editScore","getClassConduct","getStudentConduct","assessConduct","conduct","note","getRankReport","getSubjectReport","getStudentScoreSummary","getHomeroomClassInfo","getClassAttendance","getDateString","date","d","Date","dd","getDate","mm","getMonth","getFullYear","beginDate","endDate","updateAttendance","getPLL","uploadImage","FormData","append","Loading","Modal","show","backdrop","Body","Login","changeHandler","e","target","value","formData","setState","submitHandler","preventDefault","loading","jwt","store","addNotification","message","type","container","dismiss","duration","animationIn","animationOut","from","location","history","push","showIcon","margin","action","onSubmit","onChange","required","marginRight","withRouter","AccountInfo","back","goBack","formatDate","accountInfo","result","src","alt","width","height","UsernameInput","onReceiveUsername","OtpInput","onReceiveOtp","PasswordInput","password1","password2","onReceivePassword","ForgetPassword","setUsername","isDisplayUsernameInput","isDisplayOtpInput","isDisplayPasswordInput","setOtp","setPassword","isDigit","replace","isLetter","isPunctuation","tokenOTP","OldPasswordInput","onReceiveOldPassword","ChangePassword","setOldPassword","isDisplayOldPasswordInput","StudentScore","refresh","all","studentAssignment","scoreList","getSchoolYearOption","schoolYearList","options","i","changeSearchCondition","student","row","score1","score2","avgScore1","avgScore2","avgScoreYear","SelectSearch","search","filterOptions","fuzzySearch","emptyMessage","placeholder","v","find","rowSpan","colSpan","renderTableData","ref","createRef","PLL","showReport","score","getClassOption","classList","getStudentOption","studentList","undefined","teacher","homeroomClass","homeroomTeacher","_class","disabled","targetRef","filename","scale","y","toPdf","overflow","result1","avgScore","scoreTitle","conductTitle","rank","nVangCoPhep","nVangKoPhep","result2","result0","isGradeUp","RankStatistic","map","index","scoreLevel","trigger","content","componentRef","el","SubjectStatistic","nGioi","nKem","nKha","nNuGioi","nNuKem","nNuKha","nNuTB","nNuYeu","nTB","nYeu","tlGioi","tlKem","tlKha","tlNuGioi","tlNuKem","tlNuKha","tlNuTB","tlNuYeu","tlTB","tlYeu","copyStyles","class","TeachingClassScore","info","studentAssignmentList","listApi","scoreMouth","score15","score45","scoreTerm","scores","j","scoreId","changeScore","pos","event","edited","validateScore","isNaN","parseFloat","submit","submitLoading","method","students","closeConfirm","showConfirm","exportFile","forEach","ws","XLSX","utils","aoa_to_sheet","s","r","c","wb","book_new","book_append_sheet","writeFile","SheetJSFT","x","join","importFile","files","file","reader","FileReader","rABS","readAsBinaryString","onload","bstr","read","wsname","SheetNames","Sheets","sheet_to_json","header","scoreNew","scoreOld","readAsArrayBuffer","unblock","block","tx","close","inputRef","display","accept","click","Confirm","keyboard","Title","Button","ConductAssessment","showList","conducts","conductList","conductName","editConduct","showModal","modalKind","modalLoading","modalEdited","modalData","closeModal","setData","Dialog","getTitle","getButton","addConduct","closeAll","onHide","centered","closeButton","Form","Group","Label","Control","readOnly","StudentAttendance","processData","attendanceList","attendances","attendance","setDate","renderTableHeader","tdList","toString","trList","key","changeAttendance","showLoading","element","attendanceId","now","selected","dateFormat","Pagination","beginPage","pagination","currentPage","changePage","prePage","nextPage","lastPage","pageList","start","end","aria-label","ScoreLock","scoreLockList","changePerPage","sttBase","unlock","scoreLock","listAdd","findIndex","minHeight","HomeroomTeacherAssignment","mark","homeroomTeacherAssignmentList","getTeacherOption","teacherList","homeroomTeacherAssignment","showDelete","year","refreshClear","TeachingAssignment","teachingAssignmentList","getSubjectOption","subjectList","teachingAssignmentId","teachingAssignment","closeDelete","termList","color","ConfirmDelete","editTeachingAssignment","SpecialistAssignment","specialistAssignmentList","getSpecialistTeamOption","specialistTeamList","specialistTeamName","specialistAssignment","specialistAssignmentId","SchoolYear","showInfo","cursor","Table","striped","bordered","hover","validateData","as","StudentAssignment","studentAssignmentId","TransferClass","checkboxList","fill","check","uncheck","checkAll","uncheckAll","loadingModal","newClassId","newSchoolYearId","checked","indexOf","Page404","Class","searchValue","str","test","toLowerCase","Subject","subject","SpecialistTeam","specialistTeam","Student","removeAscent","isName","isVNPhoneMobile","isEmail","File","withIcon","buttonText","pic","imgExtension","maxFileSize","singleImage","withPreview","Teacher","Account","accountList","account","onSuggestionsFetchRequested","clearTimeout","setTimeout","req","lastReq","suggestions","onSuggestionsClearRequested","onChangeSearch","newValue","getSuggestionValue","suggestion","onSuggestionSelected","suggestionValue","suggestionIndex","sectionIndex","renderSuggestion","theme","input","suggestionsContainer","suggestionsList","suggestionFocused","suggestionHighlighted","inputProps","MyTeachingAssignment","getTermOptions","inputScore","viewScore","SearchHomeroomClassInfo","SearchScore","StudentPLL","App","Provider","path","exact","component","SearchTeacher","SearchStudent","SearchHomroomTeacherAssignment","SearchTeachingAssignment","MyTeachingAssignmentEdit","PrivateRouter","checkLogin","includes","rest","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gxDAIeA,EAFIC,IAAMC,gB,+BCyBVC,E,4JAvBX,WACI,OACI,wBAAQC,UAAU,yBAAlB,SACI,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,cAAC,IAAD,IADJ,kCAIJ,sBAAKA,UAAU,OAAf,UACI,sBAAKA,UAAU,iBAAf,oBACW,mBAAGC,KAAK,uBAAR,8BAEX,sBAAKD,UAAU,gBAAf,oBACW,mBAAGC,KAAK,iBAAR,uC,GAfdJ,IAAMK,W,mDCOrBC,G,yDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAMVC,OAPmB,sBAOV,sBAAAC,EAAA,sDACL,IAEIC,aAAaC,WAAW,eACxB,EAAKC,QAAQC,QAAQ,MACvB,MAAOC,GACLC,QAAQC,IAAIF,GANX,2CALL,EAAKG,MAAQ,CACTC,SAAU,IAHC,E,0CAiBnB,WACI,OAAKC,KAAKP,QAAQQ,KAYa,IAA3BD,KAAKP,QAAQQ,KAAKC,KAEd,iCACI,eAACC,EAAA,EAAD,CAAQC,GAAG,UAAUC,OAAO,KAAKC,QAAQ,OAAzC,UACI,cAAC,IAAD,CAAMC,GAAG,IAAIvB,UAAU,eAAvB,SACI,cAAC,IAAD,CAAQwB,KAA4B,IAAtBR,KAAKF,MAAMC,aAE7B,cAACI,EAAA,EAAOM,OAAR,CAAeC,gBAAc,qBAC7B,eAACP,EAAA,EAAOQ,SAAR,CAAiBC,GAAG,mBAApB,UACI,cAACC,EAAA,EAAD,CAAK7B,UAAU,UAAf,SACI,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAUwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC/C,qBAAKA,UAAU,4BAAf,+BAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,iBAAiBvB,UAAU,gBAApC,yCAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,eAAevB,UAAU,gBAAlC,2DAKR,cAAC6B,EAAA,EAAD,UACKb,KAAKP,QAAQQ,MACV,eAACa,EAAA,EAAD,CACIG,YAAU,EACVF,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAcwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACnD,qBAAKA,UAAU,4BAAf,SACKgB,KAAKP,QAAQQ,MAAQD,KAAKP,QAAQQ,KAAKiB,mBAKxDN,GAAG,qBAZP,UAcI,cAAC,IAAD,CAAML,GAAG,gBAAgBvB,UAAU,gBAAnC,gDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,mBAAmBvB,UAAU,gBAAtC,8CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,qBAAKhC,UAAU,gBAAgBmC,QAASnB,KAAKX,OAA7C,mDAYD,IAA3BW,KAAKP,QAAQQ,KAAKC,KAEd,iCACI,eAACC,EAAA,EAAD,CAAQC,GAAG,UAAUC,OAAO,KAAKC,QAAQ,OAAzC,UACI,cAAC,IAAD,CAAMC,GAAG,IAAIvB,UAAU,eAAvB,SACI,cAAC,IAAD,CAAQwB,KAA4B,IAAtBR,KAAKF,MAAMC,aAE7B,cAACI,EAAA,EAAOM,OAAR,CAAeC,gBAAc,qBAC7B,eAACP,EAAA,EAAOQ,SAAR,CAAiBC,GAAG,mBAApB,UACI,eAACC,EAAA,EAAD,CAAK7B,UAAU,UAAf,UACI,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAQwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC7C,qBAAKA,UAAU,4BAAf,sCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,uBAAuBvB,UAAU,gBAA1C,wEAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,sBAAsBvB,UAAU,gBAAzC,iCAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,OAAOvB,UAAU,gBAA1B,mDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CACIT,GAAI,CACAa,SAAU,+BACVtB,MAAO,CAAEuB,KAAM,SAEnBrC,UAAU,gBALd,yCAUJ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAawB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAClD,qBAAKA,UAAU,4BAAf,mCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,2BAA2BvB,UAAU,gBAA9C,wDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,8BAA8BvB,UAAU,gBAAjD,mEAQJ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAUwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC/C,qBAAKA,UAAU,4BAAf,+BAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,8BAA8BvB,UAAU,gBAAjD,2DAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CACIT,GAAI,CACAa,SAAU,0BACVtB,MAAO,CAAEuB,KAAM,SAEnBrC,UAAU,gBALd,mFAWR,cAAC6B,EAAA,EAAD,UACKb,KAAKP,QAAQQ,MACV,eAACa,EAAA,EAAD,CACIG,YAAU,EACVF,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAcwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACnD,qBAAKA,UAAU,4BAAf,SACKgB,KAAKP,QAAQQ,MAAQD,KAAKP,QAAQQ,KAAKiB,mBAKxDN,GAAG,qBAZP,UAcI,cAAC,IAAD,CAAML,GAAG,gBAAgBvB,UAAU,gBAAnC,gDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,mBAAmBvB,UAAU,gBAAtC,8CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,qBAAKhC,UAAU,gBAAgBmC,QAASnB,KAAKX,OAA7C,mDAY5B,iCACI,eAACc,EAAA,EAAD,CAAQC,GAAG,UAAUC,OAAO,KAAKC,QAAQ,OAAzC,UACI,cAAC,IAAD,CAAMC,GAAG,IAAIvB,UAAU,eAAvB,SACI,cAAC,IAAD,CAAQwB,KAA4B,IAAtBR,KAAKF,MAAMC,aAE7B,cAACI,EAAA,EAAOM,OAAR,CAAeC,gBAAc,qBAC7B,eAACP,EAAA,EAAOQ,SAAR,CAAiBC,GAAG,mBAApB,UACI,eAACC,EAAA,EAAD,CAAK7B,UAAU,UAAf,UACI,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAcwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACnD,qBAAKA,UAAU,4BAAf,gCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,eAAevB,UAAU,gBAAlC,6DAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,SAASvB,UAAU,gBAA5B,6DAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,WAAWvB,UAAU,gBAA9B,2DAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,mBAAmBvB,UAAU,gBAAtC,oEAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,WAAWvB,UAAU,gBAA9B,yDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,WAAWvB,UAAU,gBAA9B,8DAIJ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAQwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC7C,qBAAKA,UAAU,4BAAf,sCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,uBAAuBvB,UAAU,gBAA1C,iDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,+BAA+BvB,UAAU,gBAAlD,kCAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,yBAAyBvB,UAAU,gBAA5C,sDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,sBAAsBvB,UAAU,gBAAzC,uEAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,kBAAkBvB,UAAU,gBAArC,2CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,WAAWvB,UAAU,gBAA9B,kDAIJ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAawB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAClD,qBAAKA,UAAU,4BAAf,mCAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,kBAAkBvB,UAAU,gBAArC,wDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,qBAAqBvB,UAAU,gBAAxC,mEAQJ,cAAC,IAAD,CAAMuB,GAAG,cAAcvB,UAAU,WAAjC,SACI,qBAAKA,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAgBwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACrD,qBAAKA,UAAU,4BAAf,6DAMZ,eAAC8B,EAAA,EAAD,CACIC,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAUwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCAC/C,qBAAKA,UAAU,4BAAf,+BAMZ4B,GAAG,qBAXP,UAaI,cAAC,IAAD,CAAML,GAAG,kBAAkBvB,UAAU,gBAArC,uDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,kBAAkBvB,UAAU,gBAArC,qDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,sCAAsCvB,UAAU,gBAAzD,+CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,8BAA8BvB,UAAU,gBAAjD,oEAKR,cAAC6B,EAAA,EAAD,UACKb,KAAKP,QAAQQ,MACV,eAACa,EAAA,EAAD,CACIG,YAAU,EACVF,MACI,qBAAK/B,UAAU,iBAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CAAcwB,KAAMR,KAAKF,MAAMC,SAAUf,UAAU,iCACnD,qBAAKA,UAAU,4BAAf,SACKgB,KAAKP,QAAQQ,MAAQD,KAAKP,QAAQQ,KAAKiB,mBAKxDN,GAAG,qBAZP,UAcI,cAAC,IAAD,CAAML,GAAG,gBAAgBvB,UAAU,gBAAnC,gDAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,cAAC,IAAD,CAAMT,GAAG,mBAAmBvB,UAAU,gBAAtC,8CAGA,cAAC8B,EAAA,EAAYE,QAAb,IACA,qBAAKhC,UAAU,gBAAgBmC,QAASnB,KAAKX,OAA7C,mDA/XpB,iCACI,eAACc,EAAA,EAAD,CAAQC,GAAG,UAAUC,OAAO,KAAKC,QAAQ,OAAzC,UACI,cAAC,IAAD,CAAMC,GAAG,IAAIvB,UAAU,eAAvB,SACI,cAAC,IAAD,CAAQwB,KAA4B,IAAtBR,KAAKF,MAAMC,aAE7B,cAACI,EAAA,EAAOM,OAAR,CAAeC,gBAAc,8B,GA1BhC7B,IAAMK,YAia3BC,EAAOmC,YAAc1C,EAENO,Q,gDCxZAoC,G,mKAhBX,WACI,OACI,qBAAKvC,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,SAAzC,SACI,qBAAKzC,UAAU,gCAAf,SACI,sBAAKA,UAAU,SAAf,gFACiC,uBADjC,mE,GAPLE,c,0BCAbwC,EAAqE,MAA3DC,EAAYC,MAAMC,OAAOF,EAAYC,MAAME,OAAS,GAAaH,EAAYC,MAAMG,MAAM,GAAI,GAAKJ,EAAYC,MAExH3B,EAAO+B,IAAMC,OAAO,CAAEC,QAAS,MAC/BC,EAAQH,IAAMC,OAAO,CAAEC,QAAS,MAEtCC,EAAMC,SAASC,iBAAkB,EAEjCpC,EAAKqC,aAAaC,QAAQC,KAAI,SAAUC,GACpC7C,QAAQC,IAAI4C,GACZ,IAAMC,EAAcnD,aAAaoD,QAAQ,eAIzC,OAHID,IACAD,EAAOG,QAAQ,kBAAoBF,GAEhCD,KACR,SAAUI,GACT,OAAOC,QAAQC,OAAOF,MAG1B5C,EAAKqC,aAAaU,SAASR,KAAI,SAAUQ,GACrC,OAAOA,IADX,uCAEG,WAAgBH,GAAhB,iBAAAvD,EAAA,0DACO2D,EAAkBJ,EAAMJ,QAETS,QAASL,EAAMG,UAAsC,MAA1BH,EAAMG,SAASG,OAHhE,iCAKSF,EAAgBC,OAAQ,EALjC,SAMyBE,EAAIC,eAN7B,cAMaC,EANb,OAOS/D,aAAagE,QAAQ,cAAeD,EAAIE,KAAKd,aAC7C9C,QAAQC,IAAI,0BARrB,kBASgBI,EAAKgD,IATrB,2DAWgBH,QAAQC,OAAOF,IAX/B,iCAcQC,QAAQC,OAAOF,IAdvB,0DAFH,uDAmBA,IAAMO,EAAM,CACRK,MAAO,SAACC,EAAUC,GACd,OAAOxB,EAAMyB,KAAN,UAAclC,EAAd,eAAoC,CAAEgC,SAAUA,EAAUC,SAAUA,KAE/EN,aAAc,WACV,OAAOlB,EAAMyB,KAAN,UAAclC,EAAd,yBAEXmC,UAAW,WACP,OAAO5D,EAAK6D,IAAL,UAAYpC,EAAZ,sBAEXqC,eAAgB,SAACnD,GACb,OAAOX,EAAK6D,IAAL,UAAYpC,EAAZ,uBAAkCd,KAE7CoD,cAAe,SAACpD,EAAI+C,GAChB,OAAO1D,EAAK2D,KAAL,UAAalC,EAAb,mCAA+Cd,GAAM,CACxD+C,SAAUA,KAGlBM,eAAgB,SAACrD,EAAIsD,EAAaC,GAC9B,OAAOlE,EAAKmE,IAAL,UAAY1C,EAAZ,oCAA+Cd,GAAM,CACxDyD,aAAcH,EACdI,aAAcH,KAGtBI,QAAS,SAACb,GACN,OAAOzD,EAAK2D,KAAL,UAAalC,EAAb,kBAAsC,CACzCgC,SAAUA,KAGlBc,SAAU,SAACC,EAAUC,GACjB,OAAOzE,EAAK2D,KAAL,UAAalC,EAAb,mBAAuC,CAC1C+C,SAAUA,EACVC,IAAKA,KAGbC,eAAgB,SAACjC,EAAayB,GAC1B,OAAOlE,EAAK2D,KAAL,UAAalC,EAAb,yBAA6C,CAChDgB,YAAaA,EACbyB,YAAaA,KAGrBS,kBAAmB,SAACC,EAAMC,GACtB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,kCAA6CmD,EAA7C,oBAA6DC,KAExEC,cAAe,SAACvB,GACZ,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,iBAAqC,CACxCsD,WAAYxB,EAAKwB,WACjBC,eAAgBzB,EAAK0B,mBACrBC,aAAc3B,EAAK4B,oBACnBC,eAAgB7B,EAAK8B,oBACrBC,aAAc/B,EAAKgC,qBACnBC,YAAajC,EAAKiC,eAG1BC,eAAgB,SAAClC,GACb,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,2BAAsC8B,EAAKmC,cAAgB,CAC9DX,WAAYxB,EAAKwB,WACjBC,eAAgBzB,EAAK0B,mBACrBC,aAAc3B,EAAK4B,oBACnBC,eAAgB7B,EAAK8B,oBACrBC,aAAc/B,EAAKgC,qBACnBC,YAAajC,EAAKiC,eAG1BG,iBAAkB,SAAChF,GACf,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,2BAAyCd,KAEpDkF,aAAc,SAACjB,EAAMC,GACjB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,4BAAuCmD,EAAvC,oBAAuDC,KAElEiB,kBAAmB,SAAClB,EAAMC,EAASkB,GAC/B,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,uBAAkCsE,EAAlC,iBAA+CnB,EAA/C,oBAA+DC,KAE1EmB,SAAU,SAACzC,GACP,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,WAA+B,CAClC1C,UAAWwE,EAAKxE,UAChBkH,UAAW1C,EAAK0C,UAChBT,YAAajC,EAAKiC,YAClBE,aAAc,KAGtBQ,UAAW,SAAC3C,GACR,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,qBAAgC8B,EAAK4C,SAAW,CACnDpH,UAAWwE,EAAKxE,UAChBkH,UAAW1C,EAAK0C,UAChBT,YAAajC,EAAKiC,YAClBE,aAAc,KAGtBU,YAAa,SAACzF,GACV,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,qBAAmCd,KAE9C0F,eAAgB,SAACzB,EAAMC,GACnB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,8BAAyCmD,EAAzC,oBAAyDC,KAEpEyB,oBAAqB,SAAC1B,EAAMC,EAASkB,GACjC,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoCsE,EAApC,iBAAiDnB,EAAjD,oBAAiEC,KAE5E0B,WAAY,SAAChD,GACT,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,aAAiC,CACpC+E,YAAajD,EAAKiD,YAClBC,YAAalD,EAAKkD,YAClBjB,YAAajC,EAAKiC,eAG1BkB,YAAa,SAACnD,GACV,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,uBAAkC8B,EAAKoD,WAAa,CACvDH,YAAajD,EAAKiD,YAClBC,YAAalD,EAAKkD,YAClBjB,YAAajC,EAAKiC,eAG1BoB,cAAe,SAACjG,GACZ,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,uBAAqCd,KAEhDkG,sBAAuB,SAACjC,EAAMC,GAC1B,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,sCAAiDmD,EAAjD,oBAAiEC,KAE5EiC,2BAA4B,SAAClC,EAAMC,EAASkB,GACxC,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,iCAA4CsE,EAA5C,iBAAyDnB,EAAzD,oBAAyEC,KAEpFkC,kBAAmB,SAACxD,GAChB,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,qBAAyC,CAC5CuF,eAAgBzD,EAAKyD,eACrBxB,YAAajC,EAAKiC,eAG1ByB,mBAAoB,SAAC1D,GACjB,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,+BAA0C8B,EAAK2D,kBAAoB,CACtEF,eAAgBzD,EAAKyD,eACrBxB,YAAajC,EAAKiC,eAG1B2B,qBAAsB,SAACxG,GACnB,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,+BAA6Cd,KAExDyG,eAAgB,SAACxC,EAAMC,GACnB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,8BAAyCmD,EAAzC,oBAAyDC,KAEpEwC,WAAY,SAAC1G,GACT,OAAOX,EAAK6D,IAAL,UAAYpC,EAAZ,uBAAkCd,KAE7C2G,iBAAkB,SAACC,GACf,OAAOvH,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoC8F,KAE/CC,oBAAqB,SAAC5C,EAAMC,EAASkB,GACjC,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoCsE,EAApC,iBAAiDnB,EAAjD,oBAAiEC,KAE5E4C,0BAA2B,SAAC7C,EAAMC,EAAS6C,GACvC,OAAO1H,EAAK6D,IAAL,UAAYpC,EAAZ,gCAA2CmD,EAA3C,oBAA2DC,EAA3D,kBAA4E6C,KAEvFC,WAAY,SAACpE,GACT,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,aAAiC,CACpCmG,YAAarE,EAAKqE,YAClBC,YAAatE,EAAKsE,YAClBC,QAASvE,EAAKuE,QACdC,mBAAoBxE,EAAKwE,mBACzBC,OAAQzE,EAAKyE,OACbC,IAAK1E,EAAK0E,IACVC,MAAO3E,EAAK2E,MACZC,YAAa5E,EAAK4E,YAClBC,MAAO7E,EAAK6E,MACZC,YAAa9E,EAAK8E,YAClBC,YAAa/E,EAAK+E,YAClBC,YAAahF,EAAKgF,YAClBtH,YAAasC,EAAKtC,YAClBuH,WAAYjF,EAAKiF,WACjBC,YAAalF,EAAKkF,YAClBC,WAAYnF,EAAKmF,WACjBC,WAAYpF,EAAKoF,WACjBC,YAAarF,EAAKqF,YAClBC,WAAYtF,EAAKsF,cAGzBC,YAAa,SAACvF,GACV,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,uBAAkC8B,EAAKwF,WAAa,CACvDnB,YAAarE,EAAKqE,YAClBC,YAAatE,EAAKsE,YAClBC,QAASvE,EAAKuE,QACdC,mBAAoBxE,EAAKwE,mBACzBC,OAAQzE,EAAKyE,OACbC,IAAK1E,EAAK0E,IACVC,MAAO3E,EAAK2E,MACZC,YAAa5E,EAAK4E,YAClBC,MAAO7E,EAAK6E,MACZC,YAAa9E,EAAK8E,YAClBC,YAAa/E,EAAK+E,YAClBC,YAAahF,EAAKgF,YAClBtH,YAAasC,EAAKtC,YAClBuH,WAAYjF,EAAKiF,WACjBC,YAAalF,EAAKkF,YAClBC,WAAYnF,EAAKmF,WACjBC,WAAYpF,EAAKoF,WACjBC,YAAarF,EAAKqF,YAClBC,WAAYtF,EAAKsF,cAGzBG,cAAe,SAACrI,GACZ,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,uBAAqCd,KAEhDsI,eAAgB,SAACrE,EAAMC,GACnB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,8BAAyCmD,EAAzC,oBAAyDC,KAEpEqE,WAAY,SAACvI,GACT,OAAOX,EAAK6D,IAAL,UAAYpC,EAAZ,uBAAkCd,KAE7CwI,iBAAkB,SAAC5B,GACf,OAAOvH,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoC8F,KAE/C6B,oBAAqB,SAACxE,EAAMC,EAASkB,GACjC,OAAO/F,EAAK6D,IAAL,UAAYpC,EAAZ,yBAAoCsE,EAApC,iBAAiDnB,EAAjD,oBAAiEC,KAE5EwE,0BAA2B,SAACzE,EAAMC,EAAS6C,GACvC,OAAO1H,EAAK6D,IAAL,UAAYpC,EAAZ,gCAA2CmD,EAA3C,oBAA2DC,EAA3D,kBAA4E6C,KAEvF4B,WAAY,SAAC/F,GACT,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,aAAiC,CACpC8H,YAAahG,EAAKgG,YAClBC,YAAajG,EAAKiG,YAClB1B,QAASvE,EAAKuE,QACdC,mBAAoBxE,EAAKwE,mBACzBC,OAAQzE,EAAKyE,OACbC,IAAK1E,EAAK0E,IACVC,MAAO3E,EAAK2E,MACZC,YAAa5E,EAAK4E,YAClBC,MAAO7E,EAAK6E,MACZC,YAAa9E,EAAK8E,YAClBC,YAAa/E,EAAK+E,YAClBC,YAAahF,EAAKgF,YAClBkB,mBAAoBlG,EAAKkG,mBACzBC,MAAOnG,EAAKmG,SAGpBC,YAAa,SAACpG,GACV,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,uBAAkC8B,EAAKqG,WAAa,CACvDL,YAAahG,EAAKgG,YAClBC,YAAajG,EAAKiG,YAClB1B,QAASvE,EAAKuE,QACdC,mBAAoBxE,EAAKwE,mBACzBC,OAAQzE,EAAKyE,OACbC,IAAK1E,EAAK0E,IACVC,MAAO3E,EAAK2E,MACZC,YAAa5E,EAAK4E,YAClBC,MAAO7E,EAAK6E,MACZC,YAAa9E,EAAK8E,YAClBC,YAAa/E,EAAK+E,YAClBC,YAAahF,EAAKgF,YAClBkB,mBAAoBlG,EAAKkG,mBACzBC,MAAOnG,EAAKmG,SAGpBG,cAAe,SAAClJ,GACZ,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,uBAAqCd,KAEhDmJ,0BAA2B,SAAClF,EAAMC,GAC9B,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,0CAAqDmD,EAArD,oBAAqEC,KAEhFkF,yBAA0B,SAACnF,EAAMC,EAASmF,GACtC,IAAIC,EAAG,2CAAuCrF,EAAvC,oBAAuDC,GAM9D,OAJImF,EAAgBtE,eAAcuE,GAAG,wBAAqBD,EAAgBtE,eACtEsE,EAAgBJ,YAAWK,GAAG,qBAAkBD,EAAgBJ,YAChEI,EAAgB7D,UAAS8D,GAAG,mBAAgBD,EAAgB7D,UAC5D6D,EAAgBrD,YAAWsD,GAAG,qBAAkBD,EAAgBrD,YAC7D3G,EAAK6D,IAAIoG,IAEpBC,sBAAuB,SAAC3G,GACpB,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,yBAA6C,CAChDiE,aAAcnC,EAAKmC,aACnBkE,UAAWrG,EAAKqG,UAChBzD,QAAS5C,EAAK4C,QACdQ,UAAWpD,EAAKoD,aAGxBwD,yBAA0B,SAACxJ,GACvB,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,mCAAiDd,KAE5DyJ,iCAAkC,SAACxF,EAAMC,GACrC,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,kDAA6DmD,EAA7D,oBAA6EC,KAExFwF,gCAAiC,SAACzF,EAAMC,EAASmF,GAC7C,IAAIC,EAAG,mDAA+CrF,EAA/C,oBAA+DC,GAKtE,OAHImF,EAAgBtE,eAAcuE,GAAG,wBAAqBD,EAAgBtE,eACtEsE,EAAgBJ,YAAWK,GAAG,qBAAkBD,EAAgBJ,YAChEI,EAAgB7D,UAAS8D,GAAG,mBAAgBD,EAAgB7D,UACzDnG,EAAK6D,IAAIoG,IAEpBK,6BAA8B,SAAC/G,GAC3B,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,gCAAoD,CACvDiE,aAAcnC,EAAKmC,aACnBkE,UAAWrG,EAAKqG,UAChBzD,QAAS5C,EAAK4C,WAGtBoE,8BAA+B,SAAChH,GAC5B,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,2CAAsD8B,EAAKiH,6BAA+B,CAC7F9E,aAAcnC,EAAKmC,aACnBkE,UAAWrG,EAAKqG,UAChBzD,QAAS5C,EAAK4C,WAGtBsE,gCAAiC,SAAC9J,GAC9B,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,2CAAyDd,KAEpE+J,4BAA6B,SAAC9F,EAAMC,GAChC,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,4CAAuDmD,EAAvD,oBAAuEC,KAElF8F,2BAA4B,SAAC/F,EAAMC,EAASmF,GACxC,IAAIC,EAAG,6CAAyCrF,EAAzC,oBAAyDC,GAKhE,OAJAlF,QAAQC,IAAIoK,GACRA,EAAgBtE,eAAcuE,GAAG,wBAAqBD,EAAgBtE,eACtEsE,EAAgBJ,YAAWK,GAAG,qBAAkBD,EAAgBJ,YAChEI,EAAgB9C,mBAAkB+C,GAAG,4BAAyBD,EAAgB9C,mBAC3ElH,EAAK6D,IAAIoG,IAEpBW,wBAAyB,SAACrH,GACtB,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,0BAA8C,CACjDiE,aAAcnC,EAAKmC,aACnBkE,UAAWrG,EAAKqG,UAChB1C,iBAAkB3D,EAAK2D,oBAG/B2D,2BAA4B,SAAClK,GACzB,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,qCAAmDd,KAE9DmK,yBAA0B,SAAClG,EAAMC,GAC7B,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,yCAAoDmD,EAApD,oBAAoEC,KAE/EkG,wBAAyB,SAACnG,EAAMC,EAASmF,GACrC,IAAIC,EAAG,0CAAsCrF,EAAtC,oBAAsDC,GAK7D,OAJAlF,QAAQC,IAAIoK,GACRA,EAAgBtE,eAAcuE,GAAG,wBAAqBD,EAAgBtE,eACtEsE,EAAgBjB,YAAWkB,GAAG,qBAAkBD,EAAgBjB,YAChEiB,EAAgB7D,UAAS8D,GAAG,mBAAgBD,EAAgB7D,UACzDnG,EAAK6D,IAAIoG,IAEpBe,qBAAsB,SAACzH,GACnB,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,uBAA2C,CAC9CiE,aAAcnC,EAAKmC,aACnBqD,UAAWxF,EAAKwF,UAChB5C,QAAS5C,EAAK4C,WAGtB8E,wBAAyB,SAACtK,GACtB,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,kCAAgDd,KAE3DuK,aAAc,SAACC,GACX,OAAOnL,EAAK2D,KAAL,UAAalC,EAAb,uCAA2D,CAC9D8B,KAAM4H,KAGdC,eAAgB,SAACxG,EAAMC,GACnB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,8BAAyCmD,EAAzC,oBAAyDC,KAEpEwG,WAAY,SAAC9H,GACT,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,aAAiC,CACpCR,YAAasC,EAAKtC,YAClByC,SAAUH,EAAKG,SACf4H,SAAU/H,EAAK+H,SACfrL,KAAMsD,EAAKtD,QAGnBsL,YAAa,SAAChI,GACV,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,oBAA+B8B,EAAKiI,WAAa,CACpDvK,YAAasC,EAAKtC,YAClByC,SAAUH,EAAKG,SACf4H,SAAU/H,EAAK+H,SACfrL,KAAMwL,SAASlI,EAAKtD,SAG5ByL,cAAe,SAAC/K,GACZ,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,oBAAkCd,KAE7CgL,iBAAkB,SAAC/G,EAAMC,GACrB,OAAO7E,EAAK6D,IAAL,UAAYpC,EAAZ,iCAA4CmD,EAA5C,oBAA4DC,KAEvE+G,aAAc,SAACrI,GACX,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,gBAAoC,CACvCiE,aAAcnC,EAAKmC,aACnBmG,KAAMtI,EAAKsI,KACXC,KAAMvI,EAAKuI,QAGnBC,cAAe,SAACxI,GACZ,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,qBAAwC,CAC3CiE,aAAcnC,EAAKmC,aACnBmG,KAAMtI,EAAKsI,QAGnBG,gBAAiB,SAACzI,GACd,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,uBAA0C,CAC7CiE,aAAcnC,EAAKmC,aACnBmG,KAAMtI,EAAKsI,QAGnBI,gBAAiB,SAACtL,GACd,OAAOX,EAAK4F,OAAL,UAAenE,EAAf,0BAAwCd,KAEnDuL,UAAW,SAACxG,EAAcmG,GACtB,OAAO7L,EAAK6D,IAAL,UAAYpC,EAAZ,0CAAqDiE,EAArD,iBAA0EmG,KAErFM,gBAAiB,SAACpD,EAAWpC,EAAWjB,EAAcmG,GAClD,OAAO7L,EAAK6D,IAAL,UAAYpC,EAAZ,mDAA8DsH,EAA9D,sBAAqFpC,EAArF,yBAA+GjB,EAA/G,iBAAoImG,KAE/IO,gBAAiB,SAACrD,EAAWrD,EAAcmG,GACvC,OAAO7L,EAAK6D,IAAL,UAAYpC,EAAZ,2CAAsDsH,EAAtD,yBAAgFrD,EAAhF,iBAAqGmG,KAEhHQ,UAAW,SAAC9I,GACR,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,WAA8B8B,IAEzC+I,gBAAiB,SAACtC,GACd,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,oCAA+CuI,EAAgBJ,UAA/D,yBAAyFI,EAAgBtE,aAAzG,iBAA8HsE,EAAgB6B,QAEzJU,kBAAmB,SAACvC,GAChB,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,sCAAiDuI,EAAgBjB,UAAjE,yBAA2FiB,EAAgBtE,aAA3G,iBAAgIsE,EAAgB6B,QAE3JW,cAAe,SAACjJ,GACZ,OAAOvD,EAAK2D,KAAL,UAAalC,EAAb,YAAgC,CACnCsH,UAAWxF,EAAKwF,UAChB5C,QAAS5C,EAAK4C,QACdyD,UAAWrG,EAAKqG,UAChBlE,aAAcnC,EAAKmC,aACnB+G,QAASlJ,EAAKkJ,QACdZ,KAAMtI,EAAKsI,KACXa,KAAMnJ,EAAKmJ,QAGnBC,cAAe,SAAC/H,EAAMC,EAASmF,GAC3B,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,mCAA8CmD,EAA9C,oBAA8DC,EAA9D,yBAAsFmF,EAAgBtE,aAAtG,oBAA8HsE,EAAgB7D,QAA9I,iBAA8J6D,EAAgB6B,QAEzLe,iBAAkB,SAAChI,EAAMC,EAASmF,GAC9B,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,sCAAiDmD,EAAjD,oBAAiEC,EAAjE,yBAAyFmF,EAAgBtE,aAAzG,oBAAiIsE,EAAgB7D,QAAjJ,iBAAiK6D,EAAgB6B,QAE5LgB,uBAAwB,SAAC7C,GACrB,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,kDAA6DuI,EAAgBjB,UAA7E,yBAAuGiB,EAAgBtE,gBAElIoH,qBAAsB,SAAClD,GACnB,OAAO5J,EAAK6D,IAAL,UAAYpC,EAAZ,+BAA0CmI,KAErDmD,mBAAoB,SAAC/C,GACjB,IAAIgD,EAAgB,SAACC,GACjB,IAAIC,EAAI,IAAIC,KAAKF,GACbG,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GAFfJ,EAAEM,cAGC,IAAMF,EAAK,IAAMF,GAEnC,OAAOpN,EAAK6D,IAAL,UAAYpC,EAAZ,6CAAwDuI,EAAgB7D,QAAxE,yBAAgG6D,EAAgBtE,aAAhH,uBAA2IsH,EAAchD,EAAgByD,WAAzK,qBAAgMT,EAAchD,EAAgB0D,YAEzOC,iBAAkB,SAACpK,GACf,OAAOvD,EAAKmE,IAAL,UAAY1C,EAAZ,eAAkC8B,IAE7CqK,OAAQ,SAAC5D,GAEL,OAAOhK,EAAK6D,IAAL,UAAYpC,EAAZ,0BAAqCuI,EAAgBjB,UAArD,yBAA+EiB,EAAgBtE,gBAE1GmI,YAAa,SAAC3F,GACV,IAAI3E,EAAO,IAAIuK,SAEf,OADAvK,EAAKwK,OAAO,SAAU7F,GACflI,EAAK2D,KAAL,UAAalC,EAAb,0BAA8C8B,EAAM,CACvDZ,QAAS,CACL,eAAgB,2BAMjBQ,I,kBCteA6K,E,kDApBX,WAAY7O,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,GAFE,E,0CAKnB,WACI,OACI,cAACoO,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAAvC,SACI,cAACF,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,6CAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,oC,GAZNH,IAAMK,W,gBCKtBoP,E,kDACF,WAAYlP,GAAQ,IAAD,8BACf,cAAMA,IAaVmP,cAAgB,SAACC,GACb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBC,EAAW,EAAK7O,MAAM6O,SAC1BA,EAAS3I,GAAQ0I,EACjB,EAAKE,SAAS,CAAE,SAAYD,KAnBb,EAsBnBE,cAtBmB,uCAsBH,WAAOL,GAAP,qBAAAlP,EAAA,6DACRkE,EAAO,EAAK1D,MAAM6O,SACtBH,EAAEM,iBAFU,SAMR,EAAKF,SAAS,CAAEG,SAAS,IANjB,SAOQ3L,EAAIK,MAAMD,EAAKE,SAAUF,EAAKG,UAPtC,OAOJL,EAPI,OASR/D,aAAagE,QAAQ,cAAeD,EAAIE,KAAKd,aACzCzC,EAAO+O,YAAI1L,EAAIE,KAAKd,aAExB,EAAKjD,QAAQC,QAAQO,GAErBgP,QAAMC,gBAAgB,CAClBnO,MAAO,4CACPoO,QAAQ,eAAD,OAAclP,EAAKiB,aAC1BkO,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAIrCC,EAAO,EAAKtQ,MAAMuQ,SAAS7P,OAAS,EAAKV,MAAMuQ,SAAS7P,MAAM4P,KAClE,EAAKd,SAAS,CAAEG,SAAS,IACzB,EAAK3P,MAAMwQ,QAAQC,KAAKH,GAAQ,KA9BxB,qDAgCR9P,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAlCzB,wBAmCJ8L,QAAMC,gBAAgB,CAClBnO,MAAO,8CACPoO,QAAS,0EACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA7CrC,2BAiDRR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3DjC,0DAtBG,sDAEf,EAAK3P,MAAQ,CACT6O,SAAU,GACVI,SAAS,GAJE,E,qDAQnB,WACQ/O,KAAKP,QAAQQ,MACbD,KAAKZ,MAAMwQ,QAAQC,KAAK,O,oBA6EhC,WAAU,IAAD,OACL,OACI,sBAAK7Q,UAAU,YAAf,UACI,cAAC,EAAD,CAASmP,KAAMnO,KAAKF,MAAMiP,UAC1B,qBAAK/P,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,sBAAKzC,UAAU,qBAAf,UACI,oGACA,0FAGR,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEuO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,SAASC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAxD,UACI,sBAAKxP,UAAU,aAAf,UACI,8DACA,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe4B,GAAG,WAC3CoF,KAAK,WACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,sBAAKnR,UAAU,aAAf,UACI,wDACA,uBAAOoQ,KAAK,WAAWpQ,UAAU,eAAe4B,GAAG,MAC/CoF,KAAK,WACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,wBAAQf,KAAK,SAASpQ,UAAU,kBAAkBwC,MAAO,CAAE4O,YAAa,QAAxE,sCACA,cAAC,IAAD,CAAM7P,GAAG,kBAAT,sD,GAtHRrB,aA+HpBoP,EAAMhN,YAAc1C,EAELyR,kBAAW/B,GCjIpBgC,G,yDAEF,WAAYlR,GAAQ,IAAD,8BACf,cAAMA,IA2BVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA7BJ,EAgCnBC,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAjCb,EAAK3N,MAAQ,CACT4Q,YAAa,IAHF,E,4FAOnB,4BAAApR,EAAA,yDACIU,KAAK4O,SAAS,CAAEG,SAAS,IAD7B,SAKuC,IAA3B/O,KAAKP,QAAQQ,KAAKC,KAL9B,gCAMwBkD,EAAImE,iBAAiBvH,KAAKP,QAAQQ,KAAKsL,UAN/D,OAMYjI,EANZ,+CAQwBF,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,UAR/D,QAQYjI,EARZ,eAUQ1D,QAAQC,IAAIyD,GACZtD,KAAK4O,SAAS,CACVG,SAAS,EACT2B,YAAapN,EAAIE,KAAKmN,SAblC,kDAiBQ/Q,QAAQC,IAAR,MAjBR,0D,0EAkCA,WACI,IAAM6Q,EAAgB1Q,KAAKF,MAArB4Q,YACN,OACI,sBAAK1R,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,iDAKR,uBACA,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,sCAAf,SACI,qBAAK4R,IAAKjP,EAAYC,MAAQ,KAAO5B,KAAKF,MAAM4Q,YAAYvI,MAAO0I,IAAI,SAASrP,MAAO,CAAEsP,MAAO,OAAQC,OAAQ,YAEpH,sBAAK/R,UAAU,2BAAf,UACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,gDAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKP,QAAQQ,KAAKiB,mBAG9D,sBAAKlC,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,+BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKF,MAAM4Q,YAAY5I,aAAe9H,KAAKF,MAAM4Q,YAAYjH,mBAGzG,sBAAKzK,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,SAA0CgB,KAAKP,QAAQQ,KAAKC,KAAO,wBAAiB,2BAExF,qBAAKlB,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKP,QAAQQ,KAAKsL,gBAG9D,sBAAKvM,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,6BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKyQ,WAAW,IAAIrD,KAAKpN,KAAKF,MAAM4Q,YAAYtI,qBAG5F,sBAAKpJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,kCAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAYzI,OAAS,MAAQ,iBAGzE,sBAAKjJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,6BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAYxI,WAGxD,sBAAKlJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,0DAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAY1I,0BAGxD,sBAAKhJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,8CAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAY3I,eAGxD,sBAAK/I,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,4CAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKyQ,WAAW,IAAIrD,KAAKsD,EAAYlI,qBAGjF,sBAAKxJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,8CAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoCgB,KAAKyQ,WAAW,IAAIrD,KAAKsD,EAAYnI,qBAGjF,sBAAKvJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,0CAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAYpI,mBAGxD,sBAAKtJ,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,sBAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAYrI,aAG5B,IAA3BrI,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,uCAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAYjI,kBAIhC,IAA3BzI,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,kDAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAYhI,mBAIhC,IAA3B1I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,8BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAY/H,kBAIhC,IAA3B3I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,uCAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAY9H,kBAIhC,IAA3B5I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,kDAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAY7H,mBAIhC,IAA3B7I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,8BAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAY5H,kBAIhC,IAA3B9I,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,oDAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAYhH,0BAIhC,IAA3B1J,KAAKP,QAAQQ,KAAKC,MACf,sBAAKlB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,0BAAf,iCAEJ,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,oBAAf,SAAoC0R,EAAY/G,0B,GA3O1DzK,cAsP1BoR,EAAYhP,YAAc1C,EAEXyR,kBAAWC,G,QCnNXU,E,kDAzCX,WAAY5R,GAAQ,IAAD,8BACf,cAAMA,IAKVmP,cAAgB,SAACC,GACb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB5I,EAAO0I,KATT,EAWnBG,cAAgB,SAACL,GACb,IAAM9K,EAAa,EAAK5D,MAAlB4D,SACN8K,EAAEM,iBACF,EAAK1P,MAAM6R,kBAAkBvN,IAZ7B,EAAK5D,MAAQ,CACT4D,SAAU,IAHC,E,0CAgBnB,WAAU,IAAD,OACL,OAEI,qBAAK1E,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEuO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAKxP,UAAU,aAAf,UACI,8DACA,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe4B,GAAG,WAC3CoF,KAAK,WACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,SAG1C,wBAAQY,KAAK,SAASpQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,SAASiB,MAAO,CAAEuO,OAAQ,QAAnC,sC,GAhCA7Q,aC6CbgS,E,kDA5CX,WAAY9R,GAAQ,IAAD,8BACf,cAAMA,IAKVmP,cAAgB,SAACC,GACb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB5I,EAAO0I,KATT,EAWnBG,cAAgB,SAACL,GACb,IAAM9J,EAAQ,EAAK5E,MAAb4E,IACN8J,EAAEM,iBACF,EAAK1P,MAAM+R,aAAazM,IAZxB,EAAK5E,MAAQ,CACT4E,IAAK,IAHM,E,0CAgBnB,WAAU,IAAD,OACL,OAEI,qBAAK1F,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEuO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAKxP,UAAU,aAAf,UACI,4JAGA,+CACA,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe4B,GAAG,MAC3CoF,KAAK,MACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,SAG1C,wBAAQY,KAAK,SAASpQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,SAASiB,MAAO,CAAEuO,OAAQ,QAAnC,sC,GAnCL7Q,aCkDRkS,E,kDAjDX,WAAYhS,GAAQ,IAAD,8BACf,cAAMA,IAMVmP,cAAgB,SAACC,GACb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB5I,EAAO0I,KAVT,EAYnBG,cAAgB,SAACL,GACb,MAA+B,EAAK1O,MAA9BuR,EAAN,EAAMA,UAAWC,EAAjB,EAAiBA,UACjB9C,EAAEM,iBACF,EAAK1P,MAAMmS,kBAAkBF,EAAWC,IAbxC,EAAKxR,MAAQ,CACTuR,UAAW,GACXC,UAAW,IAJA,E,0CAiBnB,WAAU,IAAD,OACL,OAEI,qBAAKtS,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEuO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAKxP,UAAU,aAAf,UACI,iEACA,uBAAOoQ,KAAK,WAAWpQ,UAAU,eAC7BgH,KAAK,YACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,SAG1C,sBAAKxP,UAAU,aAAf,UACI,oFACA,uBAAOoQ,KAAK,WAAWpQ,UAAU,eAC7BgH,KAAK,YACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,SAG1C,wBAAQY,KAAK,SAASpQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,SAASiB,MAAO,CAAEuO,OAAQ,QAAnC,sC,GAxCA7Q,aCMtBsS,G,kDACF,WAAYpS,GAAQ,IAAD,8BACf,cAAMA,IAaVqS,YAdmB,uCAcL,WAAO/N,GAAP,eAAApE,EAAA,6DAEV,EAAKsP,SAAS,CACVlL,SAAUA,EACVqL,SAAS,IAJH,kBAOU3L,EAAImB,QAAQb,GAPtB,OAOFJ,EAPE,OAQN,EAAKsL,SAAS,CACVnK,SAAUnB,EAAIE,KAAKiB,SACnBiN,wBAAwB,EACxBC,mBAAmB,EACnBC,wBAAwB,EACxB7C,SAAS,IAEbnP,QAAQC,IAAIyD,GAfN,mDAiBN1D,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAnB3B,wBAoBF8L,QAAMC,gBAAgB,CAClBnO,MAAO,WACPoO,QAAS,gFACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA9BvC,2BAkCNR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5CnC,yDAdK,wDA+DnBoC,OA/DmB,uCA+DV,WAAOnN,GAAP,eAAApF,EAAA,6DACLM,QAAQC,IAAI6E,GACZ,EAAKkK,SAAS,CACVlK,IAAKA,EACLqK,SAAS,IAJR,kBAOe3L,EAAIoB,SAAS,EAAK1E,MAAM2E,SAAUC,GAPjD,OAOGpB,EAPH,OAQD1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACVG,SAAS,EACTrM,YAAaY,EAAIE,KAAKd,YACtBgP,wBAAwB,EACxBC,mBAAmB,EACnBC,wBAAwB,IAd3B,qDAiBDhS,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAnBhC,wBAoBG8L,QAAMC,gBAAgB,CAClBnO,MAAO,WACPoO,QAAS,kEACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA9B5C,2BAkCDR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5CxC,0DA/DU,wDAkHnBqC,YAlHmB,uCAkHL,WAAOT,EAAWC,GAAlB,qBAAAhS,EAAA,yDACV,EAAKsP,SAAS,CACVyC,UAAWA,EACXC,UAAWA,IAEXS,EAAUV,EAAUW,QAAQ,UAAW,IAAIlQ,OAAS,EAAI,EAAI,EAC5DmQ,EAAWZ,EAAUW,QAAQ,aAAc,IAAIlQ,OAAS,EAAI,EAAI,EAChEoQ,EAAiBb,EAAUvP,OAASuP,EAAUW,QAAQ,+BAAgC,IAAIlQ,OAAU,EAAI,EAAI,IAC5GuP,EAAUvP,OAAS,GAAMiQ,EAAUE,EAAWC,EAAgB,GARxD,uBASNjD,QAAMC,gBAAgB,CAClBnO,MAAO,WACPoO,QAAS,sNACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAnBnC,6BAuBN4B,IAAcC,EAvBR,wBAwBNrC,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAS,4DACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAlCnC,kCAsCV,EAAKb,SAAS,CACVG,SAAS,IAvCH,oBA2CU3L,EAAIuB,eAAe,EAAK7E,MAAM4C,YAAa2O,GA3CrD,QA2CF/N,EA3CE,OA4CN1D,QAAQC,IAAIyD,GACZ2L,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAS,oDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CACVG,SAAS,EACTrM,YAAaY,EAAIE,KAAKd,YACtBgP,wBAAwB,EACxBC,mBAAmB,EACnBC,wBAAwB,IAE5B,EAAKxS,MAAMwQ,QAAQC,KAAK,UAhElB,mDAkENjQ,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9EnC,2DAlHK,wDAEf,EAAK3P,MAAQ,CACT4R,wBAAwB,EACxBC,mBAAmB,EACnBC,wBAAwB,EACxBlO,SAAU,GACVgB,IAAK,GACL2M,UAAW,GACXC,UAAW,GACXvC,SAAS,EACToD,SAAU,IAXC,E,0CAqMnB,WACI,MAE+BnS,KAAKF,MAF9B4R,EAAN,EAAMA,uBACFC,EADJ,EACIA,kBACAC,EAFJ,EAEIA,uBACJ,OACI,sBAAK5S,UAAU,YAAf,UACI,cAAC,EAAD,CAASmP,KAAMnO,KAAKF,MAAMiP,UACxB2C,EAAyB,cAAC,EAAD,CAAeT,kBAAmBjR,KAAKyR,cAAkB,GAClFE,EAAoB,cAAC,EAAD,CAAUR,aAAcnR,KAAK6R,SAAa,GAC9DD,EAAyB,cAAC,EAAD,CAAeL,kBAAmBvR,KAAK8R,cAAkB,U,GA/MvE5S,aAqNdmR,eAAWmB,IChLXY,G,kDA1CX,WAAYhT,GAAQ,IAAD,8BACf,cAAMA,IAKVmP,cAAgB,SAACC,GACb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB5I,EAAO0I,KATT,EAWnBG,cAAgB,SAACL,GACb,IAAMtK,EAAgB,EAAKpE,MAArBoE,YACNsK,EAAEM,iBACF,EAAK1P,MAAMiT,qBAAqBnO,IAZhC,EAAKpE,MAAQ,CACToE,YAAa,IAHF,E,0CAgBnB,WAAU,IAAD,OACL,OAEI,qBAAKlF,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEuO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAKxP,UAAU,aAAf,UACI,0EACA,uBAAOoQ,KAAK,WAAWpQ,UAAU,eAAe4B,GAAG,cAC/CoF,KAAK,cACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,wBAAQf,KAAK,SAASpQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,IAAIiB,MAAO,CAAEuO,OAAQ,QAA9B,sC,GAjCG7Q,aCmDhBkS,G,kDAlDX,WAAYhS,GAAQ,IAAD,8BACf,cAAMA,IAMVmP,cAAgB,SAACC,GACb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACrB,EAAKE,SAAL,eAAiB5I,EAAO0I,KAVT,EAYnBG,cAAgB,SAACL,GACb,MAA+B,EAAK1O,MAA9BuR,EAAN,EAAMA,UAAWC,EAAjB,EAAiBA,UACjB9C,EAAEM,iBACF,EAAK1P,MAAMmS,kBAAkBF,EAAWC,IAbxC,EAAKxR,MAAQ,CACTuR,UAAW,GACXC,UAAW,IAJA,E,0CAiBnB,WAAU,IAAD,OACL,OACI,qBAAKtS,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAMwC,MAAO,CAAEC,UAAW,QAAzC,SACI,qBAAKzC,UAAU,QAAQwC,MAAO,CAAEuO,OAAQ,QAAxC,SACI,uBAAMC,OAAO,IAAIC,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAnD,UACI,sBAAKxP,UAAU,aAAf,UACI,iEACA,uBAAOoQ,KAAK,WAAWpQ,UAAU,eAC7BgH,KAAK,YACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,sBAAKnR,UAAU,aAAf,UACI,oFACA,uBAAOoQ,KAAK,WAAWpQ,UAAU,eAC7BgH,KAAK,YACLkK,SAAU,SAAA1B,GAAC,OAAI,EAAKD,cAAcC,IAClC2B,UAAQ,OAGhB,wBAAQf,KAAK,SAASpQ,UAAU,kBAAhC,8BACA,cAAC,IAAD,CAAMuB,GAAG,IAAIiB,MAAO,CAAEuO,OAAQ,QAA9B,sC,GAzCA7Q,aCKtBoT,G,kDACF,WAAYlT,GAAQ,IAAD,8BACf,cAAMA,IAWVmT,eAZmB,uCAYF,WAAOrO,GAAP,SAAA5E,EAAA,6DACbM,QAAQC,IAAIqE,GACZ,EAAK0K,SAAS,CACV1K,YAAaA,EACb6K,SAAS,IAJA,kBAQH3L,EAAIY,cAAc,EAAKvE,QAAQQ,KAAKwL,UAAWvH,GAR5C,OAST,EAAK0K,SAAS,CACVG,SAAS,EACTyD,2BAA2B,EAC3BZ,wBAAwB,IAZnB,mDAeThS,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAjBxB,wBAkBL8L,QAAMC,gBAAgB,CAClBnO,MAAO,WACPoO,QAAS,iFACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA5BpC,2BAgCTR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1ChC,yDAZE,wDA0DnBoC,OAAS,SAACnN,GACN9E,QAAQC,IAAI6E,GACZ,EAAKkK,SAAS,CACVlK,IAAKA,KA7DM,EAgEnBoN,YAhEmB,uCAgEL,WAAOT,EAAWC,GAAlB,mBAAAhS,EAAA,yDAENyS,EAAUV,EAAUW,QAAQ,UAAU,IAAIlQ,OAAS,EAAI,EAAI,EAC3DmQ,EAAWZ,EAAUW,QAAQ,aAAc,IAAIlQ,OAAS,EAAI,EAAI,EAChEoQ,EAAiBb,EAAUvP,OAASuP,EAAUW,QAAQ,+BAA+B,IAAIlQ,OAAU,EAAI,EAAI,IAC5GuP,EAAUvP,OAAS,GAAMiQ,EAAQE,EAASC,EAAgB,GALnD,uBAMNjD,QAAMC,gBAAgB,CAClBnO,MAAO,WACPoO,QAAS,sNACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAhBnC,6BAoBN4B,IAAcC,EApBR,uBAqBNrC,QAAMC,gBAAgB,CAClBnO,MAAO,WACPoO,QAAS,8DACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBA/BnC,iCAmCV,EAAKb,SAAS,CACVyC,UAAWA,EACXC,UAAWA,EACXvC,SAAS,IAtCH,oBAyCA3L,EAAIa,eAAe,EAAKxE,QAAQQ,KAAKwL,UAAW,EAAK3L,MAAMoE,YAAamN,GAzCxE,QA0CNpC,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,IACzB,EAAK3P,MAAMwQ,QAAQC,KAAK,KAvDlB,mDA0DNjQ,QAAQC,IAAR,MACAoP,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArEnC,2DAhEK,wDAEf,EAAK3P,MAAQ,CACT0S,2BAA2B,EAC3BZ,wBAAwB,EACxB1N,YAAa,GACbmN,UAAW,GACXC,UAAW,GACXvC,SAAS,GARE,E,0CAyInB,WACI,MAC+B/O,KAAKF,MAD9B0S,EAAN,EAAMA,0BACFZ,EADJ,EACIA,uBACJ,OACI,sBAAK5S,UAAU,YAAf,UACI,cAAC,EAAD,CAASmP,KAAMnO,KAAKF,MAAMiP,UACxByD,EAA4B,cAAC,GAAD,CAAeH,qBAAsBrS,KAAKuS,iBAAqB,GAC3FX,EAAyB,cAAC,GAAD,CAAeL,kBAAmBvR,KAAK8R,cAAkB,U,GAjJvE5S,aAuJ7BoT,GAAehR,YAAc1C,EAEdyR,mBAAWiC,I,sCCxJpBG,G,kDACF,WAAYrT,GAAQ,IAAD,8BACf,cAAMA,IAgEVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAlEJ,EAqEnBkC,QArEmB,uCAqET,WAAOzI,GAAP,qBAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGmCjM,QAAQ6P,IAAI,CAC7CvP,EAAI0J,uBAAuB7C,GAAmB,EAAKnK,MAAMmK,iBACzD7G,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,mBALxE,oCAGG3G,EAHH,KAGQsP,EAHR,KAOFhT,QAAQC,IAAIyD,EAAKsP,GACjB,EAAKhE,SAAS,CACViE,UAAWvP,EAAIE,KAAKA,KACpBoP,kBAAmBA,EAAkBpP,KAAKmN,OAAOnN,KAAK,IAAM,GAC5DuL,SAAS,IAXX,qDAcFnP,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAhB/B,wBAiBE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3B3C,2BA+BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzCvC,0DArES,wDAmHnBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GA7HQ,EAgInBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,IACjC,EAAKyI,QAAQzI,IArIE,EAsLnBwG,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAvLb,EAAK3N,MAAQ,CACTiT,eAAgB,GAChBhT,SAAU,OACVkK,gBAAiB,GACjBkJ,QAAS,GACTN,UAAW,GACXD,kBAAmB,IARR,E,4FAYnB,oCAAAtT,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK8CjM,QAAQ6P,IAAI,CAC9CvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAImE,iBAAiBvH,KAAKP,QAAQQ,KAAKsL,YAPnD,2CAKawH,EALb,KAK6BI,EAL7B,KASYlJ,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FqD,UAAWmK,EAAQ3P,KAAKmN,OAAO3H,WAEnChJ,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3C2P,QAASA,EAAQ3P,KAAKmN,OACtB1G,gBAAiBA,EACjB8E,SAAS,IAjBrB,UAmBc/O,KAAK0S,UAnBnB,6DAqBQ9S,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFA4HA,WAGI,IAFA,IAAIoD,EAAY7S,KAAKF,MAAM+S,UACvBO,EAAM,GACDH,EAAI,EAAGA,EAAIJ,EAAU/Q,OAAQmR,IAAK,CACvC,MAA0EJ,EAAUI,GAA9ExM,EAAN,EAAMA,YAAa4M,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,OAAQC,EAAnC,EAAmCA,UAAWC,EAA9C,EAA8CA,UAAWC,EAAzD,EAAyDA,aACzDL,EAAIvD,KACA,qBAAI7Q,UAAU,cAAd,UACI,6BAAKiU,EAAI,IACT,6BAAKxM,IACL,6BAAK4M,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,IACL,6BAAKC,IACL,6BAAKC,MAjCwBR,IAqCzC,OAAOG,I,oBAYX,WAAU,IAAD,OACL,OAAIpT,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,8CAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,QAAf,SACI,sBAAKA,UAAU,cAAf,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,eAM9E,uBACA,sBAAKhV,UAAU,MAAf,UACI,qBAAKA,UAAU,kDAAf,SACI,gCACI,gDADJ,IACuBgB,KAAKF,MAAMqT,QAAQrL,iBAG9C,qBAAK9I,UAAU,kDAAf,SACI,gCACI,+CADJ,IACwBgB,KAAKyQ,WAAW,IAAIrD,KAAKpN,KAAKF,MAAMqT,QAAQ/K,mBAGxE,qBAAKpJ,UAAU,kDAAf,SACI,gCACI,2CADJ,IACkBgB,KAAKF,MAAM8S,mBAAqB5S,KAAKF,MAAM8S,kBAAkB5T,eAGnF,qBAAKA,UAAU,kDAAf,SACI,gCACI,oDADJ,IACsBgB,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,mBAIjO,qBAAKhG,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,6CAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIkV,QAAQ,IAAZ,iBACA,oBAAIA,QAAQ,IAAIlV,UAAU,UAA1B,6BACA,oBAAImV,QAAQ,KAAZ,gCACA,oBAAIA,QAAQ,KAAZ,gCACA,oBAAID,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,4BAEJ,+BACI,oBAAIC,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,qCACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,2CAGR,gCACKnU,KAAKoU,kC,GA1RXlV,aAoS3BuT,GAAanR,YAAc1C,EAEZyR,mBAAWoC,I,6BCtSpB4B,GAAMxV,IAAMyV,YACZC,G,kDACF,WAAYnV,GAAQ,IAAD,8BACf,cAAMA,IA+EVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAjFJ,EAoFnBkC,QApFmB,uCAoFT,WAAOzI,GAAP,qBAAA3K,EAAA,yDACN,EAAKsP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK1U,MAAMmK,gBAAgB7D,QAH9B,uBAIE6I,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CACVG,SAAS,EACTyF,YAAY,IAlBlB,6BAsBG,EAAK1U,MAAMmK,gBAAgBjB,UAtB9B,wBAuBEiG,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,uCACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAOyF,YAAY,IAnC9C,4CAsCuB1R,QAAQ6P,IAAI,CACjCvP,EAAIyK,OAAO5D,GAAmB,EAAKnK,MAAMmK,iBACzC7G,EAAI0J,uBAAuB7C,GAAmB,EAAKnK,MAAMmK,mBAxC3D,qCAsCG3G,EAtCH,KAsCQmR,EAtCR,KA0CF7U,QAAQC,IAAIyD,EAAKmR,GACjB,EAAK7F,SAAS,CACViE,UAAW4B,EAAMjR,KAAKA,KACtB+Q,IAAKjR,EAAIE,KACTgR,YAAY,EACZzF,SAAS,IA/CX,kDAkDFnP,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9DvC,0DApFS,wDAuJnBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAjKQ,EAoKnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GA9KQ,EAiLnB4B,iBAAmB,WAGf,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,YAClB7B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8C7H,EAAK6H,GAA7CjK,EAAN,EAAMA,UAAWlB,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BmL,EAAQnD,KAAK,CACT7J,KAAM8B,EAAc,MAAQD,EAC5B6G,MAAO1F,IAGf,OAAOgK,GA3LQ,EA8LnBE,sBA9LmB,uCA8LK,WAAOlN,EAAM0I,GAAb,mBAAApP,EAAA,0DAEhB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ0I,EACX,iBAAT1I,EAJgB,wBAKhB,EAAK4I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CvK,EAAgB7D,aAAU0O,EAC1B7K,EAAgBjB,eAAY8L,EAPZ,kBASU1R,EAAIkH,gCAAgC,EAAG,IAASL,GAT1D,YASR0K,EATQ,QAWEnR,KAAKmN,OAAOnN,KAAK1B,OAXnB,wBAYRmI,EAAgB7D,QAAUuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,QAZhD,UAaYhD,EAAI4H,wBAAwB,EAAG,IAASf,GAbpD,SAaR4K,EAbQ,QAcQrR,KAAKmN,OAAOnN,KAAK1B,OAC7BmI,EAAgBjB,UAAY6L,EAAYrR,KAAKmN,OAAOnN,KAAK,GAAGwF,UAE5DiG,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,uCACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3BrC,wBA+BRR,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzCjC,QA4CZ,EAAKb,SAAS,CACVG,SAAS,EACT4F,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCqR,YAAaA,EAAYrR,KAAKmN,OAAOnN,KACrCyG,gBAAiBA,IAhDT,kDAmDZ,EAAK2E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACXE,YAAa,GACb5K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAzDY,0DA9LL,0DA4PnB4Q,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eA7Pb,EAAK3N,MAAQ,CACTiT,eAAgB,GAChBhT,SAAU,OACVkK,gBAAiB,GACjB4K,YAAa,GACbF,UAAW,GACX5F,SAAS,EACTyF,YAAY,EACZ3B,UAAW,GACX0B,IAAK,GACLrH,KAAM,IAAIE,MAZC,E,4FAgBnB,wCAAA9N,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK8CjM,QAAQ6P,IAAI,CAC9CvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,YAPnD,2CAKawH,EALb,KAK6BgC,EAL7B,KASY9K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWkL,EAAQvR,KAAKmN,OAAO9G,WAX3C,UAakCzG,EAAIkH,gCAAgC,EAAG,IAASL,GAblF,aAaY+K,EAbZ,QAe0BxR,KAAKmN,OAAOnN,KAAK1B,OAf3C,wBAgBYmI,EAAgB7D,QAAU4O,EAAcxR,KAAKmN,OAAOnN,KAAK,GAAG4C,QAhBxE,UAiBgChD,EAAI4H,wBAAwB,EAAG,IAASf,GAjBxE,SAiBY4K,EAjBZ,QAkB4BrR,KAAKmN,OAAOnN,KAAK1B,SAC7BmI,EAAgBjB,UAAY6L,EAAYrR,KAAKmN,OAAOnN,KAAK,GAAGwF,WAnB5E,QAsBQpJ,QAAQC,IAAIoK,GACZjK,KAAK4O,SAAS,CACV+F,UAAWK,EAAcxR,KAAKmN,OAAOnN,KACrCuP,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CqR,YAAaA,EAAcA,EAAYrR,KAAKmN,OAAOnN,KAAO,GAC1DyG,gBAAiBA,EACjB8E,SAAS,EACTkG,gBAAiBF,EAAQvR,KAAKmN,SA7B1C,qDAgCQ/Q,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAlCzC,wBAmCY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA7CrD,2BAiDQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3DjD,0D,mFAqPA,WAGI,IAFA,IAAIoD,EAAY7S,KAAKF,MAAM+S,UACvBO,EAAM,GACDH,EAAI,EAAGA,EAAIJ,EAAU/Q,OAAQmR,IAAK,CACvC,MAA0EJ,EAAUI,GAA9ExM,EAAN,EAAMA,YAAa4M,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,OAAQC,EAAnC,EAAmCA,UAAWC,EAA9C,EAA8CA,UAAWC,EAAzD,EAAyDA,aACzDL,EAAIvD,KACA,qBAAI7Q,UAAU,cAAd,UACI,6BAAKiU,EAAI,IACT,6BAAKxM,IACL,6BAAK4M,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,IACL,6BAAKC,IACL,6BAAKC,MAjCwBR,IAqCzC,OAAOG,I,oBAGX,WAAU,IAAD,OACL,GAAIpT,KAAKF,MAAMiP,QACX,OACI,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOpB,IAAMuV,EAAQvU,KAAKF,MAAbyU,IACFpB,EAAUnT,KAAKF,MAAM+U,YAAYZ,MAAK,SAAAzF,GAAC,OAAIA,EAAExF,YAAc,EAAKlJ,MAAMmK,gBAAgBjB,aACtFkM,EAASlV,KAAKF,MAAM6U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEpI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,WACrF,OACI,sBAAKpH,UAAU,kBAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,wDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAKA,UAAU,cAAf,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDmB,UAAU,MAGlB,uBAAOnW,UAAU,OAAjB,4BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK4U,mBACdjB,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBjB,UAClCkH,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,wBAAQ7S,QAAS,kBAAM,EAAKuR,WAAWtD,KAAK,SAASpQ,UAAU,0BAA/D,6CAECgB,KAAKF,MAAM0U,YACR,qBAAKxV,UAAU,QAAf,SACI,cAAC,KAAD,CAAKoW,UAAWf,GAAKgB,SAAS,qBAAqBC,MAAO,IAAMC,EAAG,EAAnE,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAASpQ,UAAU,uBAAuBmC,QAASqU,EAAhE,oEAQxC,uBACCxV,KAAKF,MAAM0U,YACR,qBAAKH,IAAKA,GAAKrV,UAAU,SAASwC,MAAO,CAAEiU,SAAU,QAArD,SACI,sBAAKjU,MAAO,CAAEsP,MAAO,SAAW9R,UAAU,kBAA1C,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,+BAAf,SACI,gCACI,mFAA6B,uBADjC,6DAMR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,kDAAf,SACI,gCACI,gDAAkBmU,EAAQrL,iBAGlC,qBAAK9I,UAAU,kDAAf,SACI,gCACI,+CAAmBgB,KAAKyQ,WAAW,IAAIrD,KAAK+F,EAAQ/K,mBAG5D,qBAAKpJ,UAAU,kDAAf,SACI,gCACI,2CADJ,QACsBkW,EAAOlW,eAGjC,qBAAKA,UAAU,kDAAf,SACI,gCACI,oDAAiBkW,EAAOlQ,mBAIpC,qBAAKhG,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,6CAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIkV,QAAQ,IAAZ,iBACA,oBAAIA,QAAQ,IAAIlV,UAAU,UAA1B,6BACA,oBAAImV,QAAQ,KAAZ,gCACA,oBAAIA,QAAQ,KAAZ,gCACA,oBAAID,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,4BAEJ,+BACI,oBAAIC,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,qCACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,2CAGR,gCACKnU,KAAKoU,2BAKtB,qBAAKpV,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oDACA,8DACA,mDACA,qDACA,oDACA,gDACA,yDACA,iEAGR,kCACI,qBAAIA,UAAU,cAAd,UACI,oDACA,6BAAKuV,EAAImB,QAAQC,WACjB,6BAAKpB,EAAImB,QAAQE,aACjB,6BAAKrB,EAAImB,QAAQG,eACjB,6BAAKtB,EAAImB,QAAQI,OACjB,6BAAKvB,EAAImB,QAAQ3U,QACjB,6BAAKwT,EAAImB,QAAQK,cACjB,6BAAKxB,EAAImB,QAAQM,iBAErB,qBAAIhX,UAAU,cAAd,UACI,oDACA,6BAAKuV,EAAI0B,QAAQN,WACjB,6BAAKpB,EAAI0B,QAAQL,aACjB,6BAAKrB,EAAI0B,QAAQJ,eACjB,6BAAKtB,EAAI0B,QAAQH,OACjB,6BAAKvB,EAAI0B,QAAQlV,QACjB,6BAAKwT,EAAI0B,QAAQF,cACjB,6BAAKxB,EAAI0B,QAAQD,iBAErB,qBAAIhX,UAAU,cAAd,UACI,kDACA,6BAAKuV,EAAI2B,QAAQP,WACjB,6BAAKpB,EAAI2B,QAAQN,aACjB,6BAAKrB,EAAI2B,QAAQL,eACjB,6BAAKtB,EAAI2B,QAAQJ,OACjB,6BAAKvB,EAAI2B,QAAQnV,QACjB,6BAAKwT,EAAI2B,QAAQH,cACjB,6BAAKxB,EAAI2B,QAAQF,2BAMrC,qBAAKhX,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oBAAImV,QAAQ,IAAZ,iCACA,oBAAIA,QAAQ,IAAZ,iCACA,oBAAIA,QAAQ,IAAZ,uDAGR,kCACI,qBAAInV,UAAU,YAAd,UACI,oBAAImV,QAAQ,MACZ,qBAAIA,QAAQ,IAAZ,UACKI,EAAImB,QAAQ/I,KADjB,IACwB,KADxB,IAC+B4H,EAAI0B,QAAQtJ,QAE3C,qBAAIwH,QAAQ,IAAZ,iDACiB,uBAAOI,EAAI2B,QAAQC,UADpC,6BAKJ,qBAAInX,UAAU,cAAd,UACI,oBAAImV,QAAQ,IAAZ,SACI,6DAEJ,qBAAIA,QAAQ,IAAZ,qCACkBnU,KAAKF,MAAMoN,KAAKI,UAAY,GAAK,IAAMtN,KAAKF,MAAMoN,KAAKI,UAAYtN,KAAKF,MAAMoN,KAAKI,UADrG,aACuHtN,KAAKF,MAAMoN,KAAKM,WAAa,EAAI,KAAOxN,KAAKF,MAAMoN,KAAKM,WAAa,GAAKxN,KAAKF,MAAMoN,KAAKM,WAAa,EAD9N,aACsOxN,KAAKF,MAAMoN,KAAKO,cAAc,uBADpQ,sCAEL,uBACS,uBACA,uBACA,uBACA,uBACCzN,KAAKF,MAAMmV,gBAAgBxL,wC,GAvhB9DvK,aAsiBlBqV,GAAIjT,YAAc1C,EAEHyR,mBAAWkE,I,6BCziBpBF,GAAMxV,IAAMyV,YACZ8B,G,kDACF,WAAYhX,GAAQ,IAAD,8BACf,cAAMA,IAkEVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UApEJ,EAuEnBkC,QAvEmB,uCAuET,WAAOzI,GAAP,eAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,kBAGcpR,EAAIwJ,cAAc,EAAG,IAAS3C,GAAmB,EAAKnK,MAAMmK,iBAH1E,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACV4F,YAAY,EACZzF,SAAS,EACT8F,YAAavR,EAAIE,KAAKA,KACtByR,gBAAiB3R,EAAIE,KAAKyR,kBAT5B,mDAYFrV,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAvES,wDAmHnBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GA7HQ,EAgInB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GA1IQ,EA6InBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KA/IjC,EAAKnK,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX1K,gBAAiB,GACjBlK,SAAU,OACVkV,gBAAiB,GACjBJ,YAAa,GACb3H,KAAM,IAAIE,MATC,E,4FAanB,oCAAA9N,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAKgDjM,QAAQ6P,IAAI,CAChDvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,OAPhC,oCAKaiN,EALb,KAK6B4B,EAL7B,KASY1K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FS,QAASuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,QACvC0F,KAAM,GAEVlM,QAAQC,IAAIoK,GACZjK,KAAK4O,SAAS,CACV+F,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCuP,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CyG,gBAAiBA,EACjB8E,SAAS,IAnBrB,qDAsBQnP,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAxBzC,wBAyBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCrD,2BAuCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjDjD,0D,mFAuIA,WAEI,OAAOzP,KAAKF,MAAM+U,YAAYwB,KAAI,SAAC7S,EAAM8S,GACrC,IAAQxO,EAAgEtE,EAAhEsE,YAAaG,EAAmDzE,EAAnDyE,OAAQF,EAA2CvE,EAA3CuE,QAAS4N,EAAkCnS,EAAlCmS,SAAUY,EAAwB/S,EAAxB+S,WAAY7J,EAAYlJ,EAAZkJ,QAC5D,OACI,+BACI,6BALE,EAKa4J,IACf,6BAAKxO,IACL,6BAAgB,IAAXG,EAAe,MAAQ,YAC5B,6BAAK0N,IACL,6BAAKjJ,IACL,6BAAK6J,IACL,6BAAKxO,MAPAuO,Q,oBAarB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,+DAKR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAKxP,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOhV,UAAU,OAAjB,+BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAEhN,KAAM,mBAAU0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,IACrFiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB6B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,QAG1D,wBAAQ5E,KAAK,SAASpQ,UAAU,uBAAuBmC,QAAS,SAACqN,GAAQA,EAAEM,iBAAkB,EAAK4D,WAAlG,wCAGP1S,KAAKF,MAAM0U,YACR,sBAAKxV,UAAU,QAAf,UACI,cAAC,KAAD,CAAKoW,UAAWf,GAAKgB,SAAS,kBAAkBC,MAAO,GAAKC,EAAG,EAA/D,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAASpQ,UAAU,uBAAuBmC,QAASqU,EAAhE,+BAEpB,cAAC,KAAD,CACIgB,QAAS,WAEL,OAAO,wBAAQpH,KAAK,SAASpQ,UAAU,uBAAhC,kCAEXyX,QAAU,kBAAM,EAAKC,sBAKrC,uBACC1W,KAAKF,MAAM0U,YACR,qBAAKH,IAAKA,GAAK7S,MAAO,CAAEiU,SAAU,QAAlC,SACI,sBAAK7U,GAAG,SAASyT,IAAK,SAAAsC,GAAE,OAAK,EAAKD,aAAeC,GAAK3X,UAAU,kBAAkBwC,MAAO,CAAEsP,MAAO,SAAlG,UACI,qBAAK9R,UAAU,MAAf,SACI,qBAAKA,UAAU,qCAAf,SACI,gCACI,mFAAuC,uBAD3C,6DAOR,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,2CADJ,IACkBgB,KAAKF,MAAM6U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEpI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,YAAYpG,KAAKF,MAAM6U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEpI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,WAASpH,aAEvL,uBAAMA,UAAU,YAAhB,UACI,mDADJ,IACyD,IAApCgB,KAAKF,MAAMmK,gBAAgB6B,KAAa,mBAAW9L,KAAKF,MAAMmK,gBAAgB6B,QAEnG,uBAAM9M,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMmV,wBAKrD,qBAAKjW,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oDACA,gDACA,mDACA,8DACA,qDACA,mDACA,qDAGR,gCACKgB,KAAKoU,2BAMtB,qBAAKpV,UAAU,oCAAf,SACI,sBAAKA,UAAU,kDAAf,qCACkBgB,KAAKF,MAAMoN,KAAKI,UADlC,aACoDtN,KAAKF,MAAMoN,KAAKM,WAAa,EADjF,aACyFxN,KAAKF,MAAMoN,KAAKO,cAAc,uBADvH,sCAEW,uBACP,uBACA,uBACA,uBACCzN,KAAKF,MAAMmV,iC,GAlTpB/V,aA6TbmR,eAAW+F,IC9TpB/B,I,OAAMxV,IAAMyV,aACZsC,G,kDACF,WAAYxX,GAAQ,IAAD,8BACf,cAAMA,IAkEVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UApEJ,EAuEnBkC,QAvEmB,uCAuET,WAAOzI,GAAP,eAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,kBAGcpR,EAAIyJ,iBAAiB,EAAG,IAAS5C,GAAmB,EAAKnK,MAAMmK,iBAH7E,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACViE,UAAWvP,EAAIE,KAAKA,KACpByR,gBAAiB3R,EAAIE,KAAKyR,gBAC1BlG,SAAS,EACTyF,YAAY,IATd,mDAYF5U,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAvES,wDAmHnBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GA7HQ,EAgInB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GA1IQ,EA6InBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KA/IjC,EAAKnK,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX5U,SAAU,OACVkK,gBAAiB,GACjBgL,gBAAiB,GACjB/H,KAAM,IAAIE,KACVyF,UAAW,IATA,E,4FAanB,oCAAAvT,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAKgDjM,QAAQ6P,IAAI,CAChDvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,OAPhC,oCAKaiN,EALb,KAK6B4B,EAL7B,KASY1K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FS,QAASuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,QACvC0F,KAAM,GAGV9L,KAAK4O,SAAS,CACV+F,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCuP,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CyG,gBAAiBA,EACjB8E,SAAS,IAnBrB,qDAsBQnP,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAxBzC,wBAyBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCrD,2BAuCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjDjD,0D,mFAuIA,WAGI,IAFA,IAAI2D,EAAM,GACNhI,EAAOpL,KAAKF,MAAM+S,UACbI,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8K7H,EAAK6H,GAA3K4D,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,QAASC,EAApC,EAAoCA,OAAQC,EAA5C,EAA4CA,OAAQC,EAApD,EAAoDA,MAAOC,EAA3D,EAA2DA,OAAQC,EAAnE,EAAmEA,IAAKC,EAAxE,EAAwEA,KAAM7Q,EAA9E,EAA8EA,YAAa8Q,EAA3F,EAA2FA,OAAQC,EAAnG,EAAmGA,MAAOC,EAA1G,EAA0GA,MAAOC,EAAjH,EAAiHA,SAAUC,EAA3H,EAA2HA,QAASC,EAApI,EAAoIA,QAASC,EAA7I,EAA6IA,OAAQC,EAArJ,EAAqJA,QAASC,EAA9J,EAA8JA,KAAMC,EAApK,EAAoKA,MACpK5E,EAAIvD,KACA,qBAAI7Q,UAAU,cAAd,UACI,oBAAIkV,QAAQ,IAAIlV,UAAU,eAA1B,SAA0CyH,IAC1C,yCACA,6BAAKuQ,IACL,6BAAKU,IACL,6BAAKR,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKb,IACL,6BAAKU,MAZwB1E,IAerCG,EAAIvD,KACA,qBAAI7Q,UAAU,cAAd,UACI,oCACA,6BAAK6X,IACL,6BAAKU,IACL,6BAAKR,IACL,6BAAKU,IACL,6BAAKJ,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKlB,IACL,6BAAKU,MAXwB,KAAOvE,IAehD,OAAOG,I,oBAIX,WAAU,IAAD,OACL,OAAIpT,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,qEAKR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOhV,UAAU,OAAjB,+BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAEhN,KAAM,mBAAU0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,IACrFiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB6B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,QAG1D,wBAAQ5E,KAAK,SAASpQ,UAAU,uBAAuBmC,QAAS,SAACqN,GAAQA,EAAEM,iBAAkB,EAAK4D,WAAlG,wCAGP1S,KAAKF,MAAM0U,YACR,sBAAKxV,UAAU,QAAf,UACI,cAAC,KAAD,CAAKoW,UAAWf,GAAKgB,SAAS,qBAAqBC,MAAO,GAAKC,EAAG,EAAlE,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAASpQ,UAAU,uBAAuBmC,QAASqU,EAAhE,+BAEpB,cAAC,KAAD,CACIyC,YAAY,EACZzB,QAAS,WAEL,OAAO,wBAAQpH,KAAK,SAASpQ,UAAU,uBAAhC,kCAEXyX,QAAS,kBAAM,EAAKC,sBAKpC,uBACC1W,KAAKF,MAAM0U,YACR,qBAAKH,IAAKA,GAAK7S,MAAO,CAAEiU,SAAU,QAAlC,SACI,sBAAKpB,IAAK,SAAAsC,GAAE,OAAK,EAAKD,aAAeC,GAAK3X,UAAU,8BAA8B4B,GAAG,SAASY,MAAO,CAAEsP,MAAO,SAA9G,UACI,qBAAK9R,UAAU,MAAf,SACI,qBAAKA,UAAU,qCAAf,SACI,gCACI,uGAAsCgB,KAAKF,MAAM6U,UAAU3U,KAAKF,MAAMoY,UAAW,uBADrF,6DAOR,qBAAKlZ,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,mDADJ,IACyD,IAApCgB,KAAKF,MAAMmK,gBAAgB6B,KAAa,mBAAW9L,KAAKF,MAAMmK,gBAAgB6B,QAEnG,uBAAM9M,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMmV,wBAKrD,qBAAKjW,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,qCAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIkV,QAAQ,IAAIC,QAAQ,MACxB,oBAAIA,QAAQ,IAAZ,uBACA,oBAAIA,QAAQ,IAAZ,oBACA,oBAAIA,QAAQ,IAAZ,2BACA,oBAAIA,QAAQ,IAAZ,sBACA,oBAAIA,QAAQ,IAAZ,uBAEJ,+BACI,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,0CAGR,gCACKnU,KAAKoU,2BAMtB,sBAAKpV,UAAU,iBAAf,UACI,qBAAKA,UAAU,sCAAf,eACA,sBAAKA,UAAU,0DAAf,qCACkBgB,KAAKF,MAAMoN,KAAKI,UADlC,aACoDtN,KAAKF,MAAMoN,KAAKM,WAAa,EADjF,aACyFxN,KAAKF,MAAMoN,KAAKO,cAAc,uBADvH,sCAEW,uBACP,uBACA,uBACA,uBACCzN,KAAKF,MAAMmV,kC,GAnVjB/V,aA8VhBmR,eAAWuG,I,gDC7VpBuB,G,kDACF,WAAY/Y,GAAQ,IAAD,8BACf,cAAMA,IA4FVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA9FJ,EAuGnBkC,QAvGmB,sBAuGT,4CAAApT,EAAA,6DACF8Y,EAAO,EAAKhZ,MAAMuQ,SAAS7P,MAC/B,EAAK8O,SAAS,CAAEG,SAAS,IAFnB,kBAIgC3L,EAAI4H,wBAAwB,EAAG,IAAS,CACtErF,aAAcyS,EAAKzS,aACnBS,QAASgS,EAAKhS,UANhB,OAWF,IAHAiS,GAJIA,EAJF,QAQ4C7U,KAAKmN,OAAOnN,KAEtD8U,EAAU,GACLrF,EAAI,EAAGA,EAAIoF,EAAsBvW,OAAQmR,IAC9CqF,EAAQzI,KACJzM,EAAIgJ,gBAAgBiM,EAAsBpF,GAAGjK,UAAWoP,EAAKxR,UAAWwR,EAAKzS,aAAcyS,EAAKtM,OAbtG,iBAgBoBhJ,QAAQ6P,IAAI2F,GAhBhC,QAgBEzF,EAhBF,OAkBEzH,EAAO,GACF6H,EAAI,EAnBX,aAmBcA,EAAIJ,EAAU/Q,QAnB5B,iBAoBEsJ,EAAKyE,KAAL,2BACOwI,EAAsBpF,IAD7B,IAEIsF,WAAY,GACZC,QAAS,GACTC,QAAS,GACTC,UAAW,MAEXC,EAAS9F,EAAUI,GAAGzP,KAAKmV,OACtBC,EAAI,EA5Bf,aA4BkBA,EAAID,EAAO7W,QA5B7B,sBA6Bc6W,EAAOC,GAAGvX,KA7BxB,OA8Be,IA9Bf,QAgCe,IAhCf,QAkCe,IAlCf,QAoCe,IApCf,gCA8BkB+J,EAAK6H,GAAGsF,WAAW1I,KAAK8I,EAAOC,IA9BjD,oCAgCkBxN,EAAK6H,GAAGuF,QAAQ3I,KAAK8I,EAAOC,IAhC9C,oCAkCkBxN,EAAK6H,GAAGwF,QAAQ5I,KAAK8I,EAAOC,IAlC9C,oCAoCkBxN,EAAK6H,GAAGyF,UAAYC,EAAOC,GApC7C,6BA4BqCA,IA5BrC,wBAyCE,KAAOxN,EAAK6H,GAAGsF,WAAWzW,OAAS,GAC/BsJ,EAAK6H,GAAGsF,WAAW1I,KAAK,CACpBxO,KAAM,EACNsE,aAAcyS,EAAKzS,aACnB8O,MAAO,GACPzL,UAAWqP,EAAsBpF,GAAGjK,UACpCpC,UAAWwR,EAAKxR,UAChBiD,UAAWuO,EAAKvO,UAChBiC,KAAMsM,EAAKtM,OAGnB,KAAOV,EAAK6H,GAAGuF,QAAQ1W,OAAS,GAC5BsJ,EAAK6H,GAAGuF,QAAQ3I,KAAK,CACjBxO,KAAM,EACNsE,aAAcyS,EAAKzS,aACnB8O,MAAO,GACPzL,UAAWqP,EAAsBpF,GAAGjK,UACpCpC,UAAWwR,EAAKxR,UAChBiD,UAAWuO,EAAKvO,UAChBiC,KAAMsM,EAAKtM,OAGnB,KAAOV,EAAK6H,GAAGwF,QAAQ3W,OAAS,GAC5BsJ,EAAK6H,GAAGwF,QAAQ5I,KAAK,CACjBxO,KAAM,EACNsE,aAAcyS,EAAKzS,aACnB8O,MAAO,GACPzL,UAAWqP,EAAsBpF,GAAGjK,UACpCpC,UAAWwR,EAAKxR,UAChBiD,UAAWuO,EAAKvO,UAChBiC,KAAMsM,EAAKtM,OAGdV,EAAK6H,GAAGyF,UAAUG,UACnBzN,EAAK6H,GAAGyF,UAAY,CAChBrX,KAAM,EACNsE,aAAcyS,EAAKzS,aACnB8O,MAAO,GACPzL,UAAWqP,EAAsBpF,GAAGjK,UACpCpC,UAAWwR,EAAKxR,UAChBiD,UAAWuO,EAAKvO,UAChBiC,KAAMsM,EAAKtM,OAlFrB,QAmBoCmH,IAnBpC,wBAsFFrT,QAAQC,IAAIuL,GACZ,EAAKwD,SAAS,CACVG,SAAS,EACT8D,UAAWzH,IAzFb,qDA4FFxL,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA9F/B,wBA+FE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzG3C,2BA6GFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvHvC,0DAvGS,EA6QnBqJ,YAAc,SAACxC,EAAOjV,EAAM0X,EAAKC,GAC7B,IAAItK,EAAQsK,EAAMvK,OAAOC,MACrBmE,EAAY,EAAK/S,MAAM+S,UAC3B,OAAQxR,GACJ,KAAK,EAAGwR,EAAUyD,GAAOiC,WAAWQ,GAAKtE,MAAQ/F,EAAOmE,EAAUyD,GAAOiC,WAAWQ,GAAKE,QAAS,EAAM,MACxG,KAAK,EAAGpG,EAAUyD,GAAOkC,QAAQO,GAAKtE,MAAQ/F,EAAOmE,EAAUyD,GAAOkC,QAAQO,GAAKE,QAAS,EAAM,MAClG,KAAK,EAAGpG,EAAUyD,GAAOmC,QAAQM,GAAKtE,MAAQ/F,EAAOmE,EAAUyD,GAAOmC,QAAQM,GAAKE,QAAS,EAAM,MAClG,KAAK,EAAGpG,EAAUyD,GAAOoC,UAAUjE,MAAQ/F,EAAOmE,EAAUyD,GAAOoC,UAAUO,QAAS,EAG1F,EAAKrK,SAAS,CACVqK,QAAQ,EACRpG,UAAWA,KAzRA,EA6RnBqG,cAAgB,SAACzE,GACb,MAAc,KAAVA,IAGA0E,MAAM1E,IACNxF,QAAMC,gBAAgB,CAClBnO,MAAO,YACPoO,QAAS,mDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,wBAElC,KAGP2J,WAAW3E,GAAS,GAAK2E,WAAW3E,GAAS,MAC7CxF,QAAMC,gBAAgB,CAClBnO,MAAO,YACPoO,QAAS,sDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,wBAElC,KA9TI,EAoUnB4J,OApUmB,sBAoUV,gDAAA/Z,EAAA,yDACA,EAAKQ,MAAMmZ,OADX,iDAIL,EAAKrK,SAAS,CACV0K,eAAe,IALd,SAQGlO,EAAO,GACPyH,EAAY,EAAK/S,MAAM+S,UAClBI,EAAI,EAVZ,YAUeA,EAAIJ,EAAU/Q,QAV7B,iBAWO6W,EAAS,GACJC,EAAI,EAZhB,aAYmBA,EAAI/F,EAAUI,GAAGsF,WAAWzW,QAZ/C,qBAaW2S,EAAQ5B,EAAUI,GAAGsF,WAAWK,IACzBK,OAdlB,2DAkBY,EAAKC,cAAczE,EAAMA,OAlBrC,sDAsBYA,EAAMoE,QAtBlB,oBAuB+B,KAAhBpE,EAAMA,MAvBrB,+DA0BWkE,EAAO9I,KAAP,aACI0J,OAAQ,OACL9E,IA5BlB,mCAiC2B,KAAhBA,EAAMA,MAjCjB,wBAkCWkE,EAAO9I,KAAP,aACI0J,OAAQ,UACL9E,IApClB,gCAyCOkE,EAAO9I,KAAP,aACI0J,OAAQ,QACL9E,IA3Cd,QAYuDmE,IAZvD,wBA+CYA,EAAI,EA/ChB,aA+CmBA,EAAI/F,EAAUI,GAAGuF,QAAQ1W,QA/C5C,qBAgDW2S,EAAQ5B,EAAUI,GAAGuF,QAAQI,IACtBK,OAjDlB,2DAoDY,EAAKC,cAAczE,EAAMA,OApDrC,sDAuDYA,EAAMoE,QAvDlB,oBAwD+B,KAAhBpE,EAAMA,MAxDrB,+DA2DWkE,EAAO9I,KAAP,aACI0J,OAAQ,OACL9E,IA7DlB,mCAkE2B,KAAhBA,EAAMA,MAlEjB,wBAmEWkE,EAAO9I,KAAP,aACI0J,OAAQ,UACL9E,IArElB,gCA0EOkE,EAAO9I,KAAP,aACI0J,OAAQ,QACL9E,IA5Ed,QA+CoDmE,IA/CpD,wBAgFYA,EAAI,EAhFhB,aAgFmBA,EAAI/F,EAAUI,GAAGwF,QAAQ3W,QAhF5C,qBAiFW2S,EAAQ5B,EAAUI,GAAGwF,QAAQG,IACtBK,OAlFlB,2DAqFY,EAAKC,cAAczE,EAAMA,OArFrC,sDAwFYA,EAAMoE,QAxFlB,oBAyF+B,KAAhBpE,EAAMA,MAzFrB,+DA6FWkE,EAAO9I,KAAP,aACI0J,OAAQ,OACL9E,IA/FlB,mCAoG2B,KAAhBA,EAAMA,MApGjB,wBAqGWkE,EAAO9I,KAAP,aACI0J,OAAQ,UACL9E,IAvGlB,gCA4GOkE,EAAO9I,KAAP,aACI0J,OAAQ,QACL9E,IA9Gd,QAgFoDmE,IAhFpD,6BAkHOnE,EAAQ5B,EAAUI,GAAGyF,WACfO,OAnHb,oBAoHY,EAAKC,cAAczE,EAAMA,OApHrC,mDAuHYA,EAAMoE,QAMa,KAAhBpE,EAAMA,MACNkE,EAAO9I,KAAP,aACI0J,OAAQ,UACL9E,IAGPkE,EAAO9I,KAAP,aACI0J,OAAQ,QACL9E,IAbXkE,EAAO9I,KAAP,aACI0J,OAAQ,OACL9E,IA1HlB,QA0IGrJ,EAAKyE,KAAK,CACN7G,UAAW6J,EAAUI,GAAGjK,UACxB2P,OAAQA,IA5If,QAUqC1F,IAVrC,wCA+IK7P,EAAIkJ,UAAU,CAAEkN,SAAUpO,IA/I/B,yBAgJK,EAAKsH,UAhJV,QAiJDzD,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,qDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAE0K,eAAe,EAAOL,QAAQ,IA7J7C,kDA+JDrZ,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAE0K,eAAe,IAC/BrK,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3KxC,0DApUU,EAofnBgK,aAAe,WACX,EAAK7K,SAAS,CAAE8K,aAAa,KArfd,EAwfnBC,WAAa,WACT,IAAInW,EAAO,GACXA,EAAKqM,KAAK,CAAC,MAAO,OAAQ,iBAAU,aAAS,GAAI,GAAI,GAAI,GAAI,aAAW,GAAI,GAAI,GAAI,GAAI,cAAU,GAAI,GAAI,QAC1F,EAAK/P,MAAM+S,UACjB+G,SAAQ,SAACnF,EAAO6B,GACtB,IAAIlD,EAAM,CAACkD,EAAQ,EAAG7B,EAAM5M,YAAa4M,EAAM3M,aAC3CyQ,EAAa9D,EAAM8D,WAAWlC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SAC/CrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASmF,IACZ,IAAIC,EAAU/D,EAAM+D,QAAQnC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SACzCrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASoF,IACZ,IAAIC,EAAUhE,EAAMgE,QAAQpC,KAAI,SAAC7H,GAAD,OAAOA,EAAEiG,SACzCrB,EAAIvD,KAAJ,MAAAuD,EAAG,aAASqF,IACZrF,EAAIvD,KAAK4E,EAAMiE,UAAUjE,OACzBjR,EAAKqM,KAAKuD,MAEd,IAAIyG,EAAKC,KAAKC,MAAMC,aAAaxW,GACjCqW,EAAG,WAAa,CACZ,CACII,EAAG,CAAEC,EAAG,EAAGC,EAAG,GACd3L,EAAG,CAAE0L,EAAG,EAAGC,EAAG,IAElB,CACIF,EAAG,CAAEC,EAAG,EAAGC,EAAG,GACd3L,EAAG,CAAE0L,EAAG,EAAGC,EAAG,KAElB,CACIF,EAAG,CAAEC,EAAG,EAAGC,EAAG,IACd3L,EAAG,CAAE0L,EAAG,EAAGC,EAAG,MAGtB,IAAMC,EAAKN,KAAKC,MAAMM,WACtBP,KAAKC,MAAMO,kBAAkBF,EAAIP,EAAI,SAErCC,KAAKS,UAAUH,EAAI,eAzhBJ,EA4hBnBI,UAAY,CACR,OAAQ,OAAQ,OAAQ,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,MAAO,OAAQ,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,OAC7InE,KAAI,SAAAoE,GAAC,iBAAQA,MAAKC,KAAK,KA9hBN,EAgiBnBC,WAAa,SAACnM,GACV,IAAMoM,EAAQpM,EAAEC,OAAOmM,MACvB,GAAKA,GAAUA,EAAM,GAArB,CAGA,IAAMC,EAAOD,EAAM,GACbE,EAAS,IAAIC,WACbC,IAASF,EAAOG,mBACtBH,EAAOI,OAAS,SAAC1M,GACb,IAAM2M,EAAO3M,EAAEC,OAAOkC,OAChByJ,EAAKN,KAAKsB,KAAKD,EAAM,CAAE/L,KAAM4L,EAAO,SAAW,UAE/CK,EAASjB,EAAGkB,WAAW,GACvBzB,EAAKO,EAAGmB,OAAOF,GAEf7X,EAAOsW,KAAKC,MAAMyB,cAAc3B,EAAI,CAAE4B,OAAQ,IAChD5I,EAAY,EAAK/S,MAAM+S,UAC3BjT,QAAQC,IAAIgT,EAAWrP,GACvB,IACI,IAAK,IAAIyP,EAAI,EAAGA,EAAIzP,EAAK1B,OAAQmR,IAAK,CAClC,IAAIyI,EAAWlY,EAAKyP,GAChB0I,EAAW9I,EAAUI,EAAI,GAE7B,GADArT,QAAQC,IAAI6b,EAAUC,GAClBA,EAAS9T,cAAgB6T,EAAS,GAclC,OAbAzM,QAAMC,gBAAgB,CAClBnO,MAAO,WACPoO,QAAS,gEACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,4BAEzC,EAAKiD,UAGT,IAAK,IAAIkG,EAAI,EAAGA,GAAK,EAAGA,IAChB+C,EAASpD,WAAWK,EAAI,GAAGnE,QAAUiH,EAAS9C,KAC9C+C,EAASpD,WAAWK,EAAI,GAAGK,QAAS,EAC/ByC,EAAS9C,GAGV+C,EAASpD,WAAWK,EAAI,GAAGnE,MAAQiH,EAAS9C,GAF5C+C,EAASpD,WAAWK,EAAI,GAAGnE,MAAQ,IAM/C,IAAK,IAAIxB,EAAI,EAAGA,GAAK,GAAIA,IACjB0I,EAASnD,QAAQvF,EAAI,GAAGwB,QAAUiH,EAASzI,KAC3C0I,EAASnD,QAAQvF,EAAI,GAAGgG,QAAS,EAC5ByC,EAASzI,GAGV0I,EAASnD,QAAQvF,EAAI,GAAGwB,MAAQiH,EAASzI,GAFzC0I,EAASnD,QAAQvF,EAAI,GAAGwB,MAAQ,IAM5C,IAAK,IAAIxB,EAAI,GAAIA,GAAK,GAAIA,IAClB0I,EAASlD,QAAQxF,EAAI,IAAIwB,QAAUiH,EAASzI,KAC5C0I,EAASlD,QAAQxF,EAAI,IAAIgG,QAAS,EAC7ByC,EAASzI,GAGV0I,EAASlD,QAAQxF,EAAI,IAAIwB,MAAQiH,EAASzI,GAF1C0I,EAASlD,QAAQxF,EAAI,IAAIwB,MAAQ,IAMzCkH,EAASjD,UAAUjE,QAAUiH,EAAS,MACtCC,EAASjD,UAAUO,QAAS,EACvByC,EAAS,IAGVC,EAASjD,UAAUjE,MAAQiH,EAAS,IAFpCC,EAASjD,UAAUjE,MAAQ,IAMvC,EAAK7F,SAAS,CACViE,UAAWA,EACXoG,QAAQ,IAEZhK,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,qKACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAG3C,MAAO9P,GACLC,QAAQC,IAAIF,GACZsP,QAAMC,gBAAgB,CAClBnO,MAAO,WACPoO,QAAS,gEACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiD,YAGTsI,EAAMF,EAAOG,mBAAmBJ,GAAYC,EAAOc,kBAAkBf,KA9oBzE,EAAK/a,MAAQ,CACTiP,SAAS,EACTqJ,KAAM,GACNvF,UAAW,GACXoG,QAAQ,EACRK,eAAe,EACfI,aAAa,GARF,E,4FAYnB,qCAAApa,EAAA,yDACIU,KAAK4O,SAAS,CACVG,SAAS,IAGR/O,KAAKZ,MAAMuQ,SAAS7P,MAL7B,uBAMQE,KAAKZ,MAAMwQ,QAAQC,KAAK,0BAA2B,CAC/CxO,KAAM,SAPlB,iCAYIrB,KAAK6b,QAAU7b,KAAKZ,MAAMwQ,QAAQkM,OAAM,SAAAC,GACpC,OAAK,EAAKjc,MAAMmZ,QAIZ,EAAKrK,SAAS,CACV8K,aAAa,KAEV,IANP,EAAKmC,WACE,MAQXzD,EAAOpY,KAAKZ,MAAMuQ,SAAS7P,MAC/BE,KAAK4O,SAAS,CAAEwJ,KAAMA,IAxB1B,mBA0B8BhV,EAAI+I,UAAUiM,EAAKzS,aAAcyS,EAAKtM,MA1BpE,WA0BYK,EA1BZ,OA2BQvM,QAAQC,IAAIsM,IACRA,EAAU3I,KAAKmN,OAAO5E,KA5BlC,wBA6BYkD,QAAMC,gBAAgB,CAClBnO,MAAO,6CACPoO,QAAS,0MACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzCzP,KAAKZ,MAAMwQ,QAAQC,KAAK,0BAA2B,CAC/CxO,KAAM,SA1CtB,4CA8CcrB,KAAK0S,UA9CnB,QA+CQ1S,KAAK4O,SAAS,CAAEG,SAAS,IA/CjC,qDAiDQnP,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAnDzC,wBAoDY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9DrD,2BAkEQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5EjD,0D,wFAqFA,WACQzP,KAAK6b,SACL7b,KAAK6b,Y,6BAgIb,WAAmB,IAAD,OAEd,OAAO7b,KAAKF,MAAM+S,UAAUwD,KAAI,SAAC7S,EAAM8S,GAGnC,IAFA,IAAQzO,EAAsErE,EAAtEqE,YAAaC,EAAyDtE,EAAzDsE,YAAayQ,EAA4C/U,EAA5C+U,WAAYC,EAAgChV,EAAhCgV,QAASC,EAAuBjV,EAAvBiV,QAASC,EAAclV,EAAdkV,UAC5DtN,EAAO,GAFkC,WAGpC6H,GACL7H,EAAKyE,KACD,oBAAI7Q,UAAU,WAAd,SACI,uBAAOA,UAAU,2BAA2BoQ,KAAK,OAAOV,MAAO6J,EAAWtF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OADzG,QAAUyE,KAFvCA,EAAI,EAAGA,EAAIsF,EAAWzW,OAAQmR,IAAM,EAApCA,GAOT,IAV6C,eAUpCA,GACL7H,EAAKyE,KACD,oBAAI7Q,UAAU,WAAd,SACI,uBAAOA,UAAU,2BAA2BoQ,KAAK,OAAOV,MAAO8J,EAAQvF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OADtG,UAAYyE,KAFzCA,EAAI,EAAGA,EAAIuF,EAAQ1W,OAAQmR,IAAM,EAAjCA,GAOT,IAjB6C,eAiBpCA,GACL7H,EAAKyE,KACD,oBAAI7Q,UAAU,WAAd,SACI,uBAAOA,UAAU,2BAA2BoQ,KAAK,OAAOV,MAAO+J,EAAQxF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OADtG,UAAYyE,KAFzCA,EAAI,EAAGA,EAAIwF,EAAQ3W,OAAQmR,IAAM,EAAjCA,GAYT,OALA7H,EAAKyE,KACD,oBAAI7Q,UAAU,WAAd,SACI,uBAAOA,UAAU,2BAA2BoQ,KAAK,OAAOV,MAAOgK,EAAUjE,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAG,EAAG9H,OADrG,eAK9B,+BACI,6BAhCE,EAgCa8H,IACf,6BAAKzO,IACL,6BAAKC,IACJsD,IAJIkL,Q,oBAgZrB,WAAU,IAAD,OAEL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAQhB,sBAAKA,UAAU,kBAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAM4Z,YACjBsC,MAAOhc,KAAKyZ,aACZoC,QAAS7b,KAAK6b,QACdrL,OAAQxQ,KAAKuQ,OAEjB,cAAC,EAAD,CAASpC,KAAMnO,KAAKF,MAAMwZ,gBAC1B,qBAAKta,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,2CAKR,sBAAKA,UAAU,WAAf,UACI,sBAAKA,UAAU,aAAf,UACI,uBAAMA,UAAU,oBAAhB,UACI,oDAAiBgB,KAAKF,MAAMsY,KAAKpT,cAErC,uBAAMhG,UAAU,oBAAhB,UACI,2CAAagB,KAAKF,MAAMsY,KAAKpZ,aAEjC,uBAAMA,UAAU,oBAAhB,UACI,mDAAgBgB,KAAKF,MAAMsY,KAAKtM,QAGpC,uBAAM9M,UAAU,eAAhB,UACI,yCAAagB,KAAKF,MAAMsY,KAAK3R,kBAGrC,sBAAKzH,UAAU,QAAf,UACI,uBACIoQ,KAAK,OACLiF,IAAK,SAAAsC,GAAE,OAAI,EAAKsF,SAAWtF,GAC3BzG,SAAUlQ,KAAK2a,WACfnZ,MAAO,CAAE0a,QAAS,QAClBC,OAAQnc,KAAKwa,YAEjB,wBAAQpL,KAAK,SAASpQ,UAAU,uBAAuBmC,QAAS,WAAQ,EAAK8a,SAASG,SAAtF,yDACA,wBAAQhN,KAAK,SAASpQ,UAAU,kBAAkBmC,QAAS,kBAAM,EAAKwY,cAAtE,iDAGR,uBACA,qBAAK3a,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,sBAAMA,UAAU,cAAhB,SACI,wBAAO4B,GAAG,cAAc5B,UAAU,qCAAlC,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,sCACA,gDACA,oBAAImV,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,0CAGR,gCACKnU,KAAKoU,yBAIlB,wBAAQpV,UAAU,kBAAkBmC,QAAS,WAAQ,EAAKkY,SAAU,EAAKzK,SAAS,CAAE0K,eAAe,KAAnG,kC,GAtuBSpa,aA8uB3Bmd,G,kDACF,WAAYjd,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,CACTiP,SAAS,GAHE,E,0CAMnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,0CAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACK,iIAGT,eAACkP,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAAS,WAAQ,EAAK/B,MAAMyc,UAAW,EAAKzc,MAAMoR,UAA3E,4BAGR,cAAC,EAAD,CAASrC,KAAMnO,KAAKF,MAAMiP,iB,GAxBpBlQ,IAAMK,WA+BbmR,eAAW8H,I,UC5wBpBsE,I,yDACF,WAAYrd,GAAQ,IAAD,8BACf,cAAMA,IA0EVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA5EJ,EA+EnBkC,QA/EmB,uCA+ET,WAAOzI,GAAP,eAAA3K,EAAA,6DACN2K,EAAkBA,GAAmB,EAAKnK,MAAMmK,gBAEhD,EAAK2E,SAAS,CAAEG,SAAS,IAHnB,2BAAAzP,EAAA,kDAAAA,EAAA,sEAKiB8D,EAAIkH,gCAAgC,EAAG,IAASL,GAAmB,EAAKnK,MAAMmK,iBAL/F,UAMqC,KADnCiL,EALF,QAMS1R,KAAKmN,OAAOnN,KAAK1B,OAN1B,uBAOEmN,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAS,oFACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAO2N,UAAU,IAnB5C,4CAuBFzS,EAAe,QAAciL,EAAO1R,KAAKmN,OAAOnN,KAAK,GAAG4C,QAvBtD,UAyB6BtD,QAAQ6P,IAAI,CACvCvP,EAAImJ,gBAAgBtC,GAAmB,EAAKnK,MAAMmK,iBAClD7G,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,mBA3BxE,QAgCF,IAhCE,6BAyBG3G,EAzBH,KAyBQuR,EAzBR,KA6BFjV,QAAQC,IAAIyD,EAAKuR,GACb8H,EAAWrZ,EAAIE,KAAKmN,OACpBiM,EAAc/H,EAAYrR,KAAKmN,OAAOnN,KA/BxC,WAgCOyP,GACL,IAAIvG,EAAUiQ,EAAS1I,MAAK,SAAAzF,GAAC,OAAIA,EAAExF,YAAc4T,EAAY3J,GAAGjK,aAE5D4T,EAAY3J,GADZvG,EACA,2BACOkQ,EAAY3J,IADnB,IAEIvG,QAASA,EAAQA,QACjBC,KAAMD,EAAQC,KACd9C,UAAW6C,EAAQ7C,UACnBiC,KAAM7B,EAAgB6B,OAG1B,2BACO8Q,EAAY3J,IADnB,IAEIvG,QAAS,EACTC,KAAM,GACN9C,UAAW,EAAK/J,MAAMiV,QAAQlL,UAC9BiC,KAAM,EAAKhM,MAAMmK,gBAAgB6B,QAhBpCmH,EAAI,EAAGA,EAAI2J,EAAY9a,OAAQmR,IAAM,EAArCA,GAoBTrT,QAAQC,IAAI+c,GAEZ,EAAKhO,SAAS,CACVsJ,MAAOhD,EAAO1R,KAAKmN,OAAOnN,KAAK,GAC/BuL,SAAS,EACT6N,YAAaA,EACbF,UAAU,EACVzS,gBAAiB,EAAKnK,MAAMmK,kBA3D9B,iMA8DFrK,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAhE/B,wBAiEE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3E3C,2BA+EFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzFvC,yDA/ES,wDA6KnBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAvLQ,EA0LnBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,IACjC,EAAKyI,QAAQzI,IA/LE,EAkMnBwG,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eArME,EA2MnBoP,YAAc,CAAC,WAAO,SAAO,gBAAc,WAAO,UA3M/B,EAqOnBC,YAAc,SAACxG,GACX,IAAI5J,EAAU,EAAK5M,MAAM8c,YAAYtG,GACrC,EAAK1H,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHzQ,MA7OI,EAkPnB0Q,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KAjP3B,EAAKjd,MAAQ,CACTiT,eAAgB,GAChB6J,YAAa,GACb9Q,KAAM,EACN/L,SAAU,OACVkK,gBAAiB,GACjB8K,QAAS,GACTmD,MAAO,GACPnJ,SAAS,EACToO,UAAW,GAGXJ,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACbR,UAAU,GAlBC,E,4FAsBnB,oCAAApd,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK8CjM,QAAQ6P,IAAI,CAC9CvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,YAPnD,2CAKawH,EALb,KAK6BgC,EAL7B,KASY9K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FmG,KAAM,EACNjC,UAAWkL,EAAQvR,KAAKmN,OAAO9G,WAEnC7J,KAAK4O,SAAS,CACVmG,QAASA,EAAQvR,KAAKmN,OACtBoC,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CyG,gBAAiBA,IAjB7B,UAmBcjK,KAAK0S,QAAQzI,GAnB3B,6DAqBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFAuLA,WAAmB,IAAD,OAEd,OAAOzP,KAAKF,MAAM8c,YAAYvG,KAAI,SAAC7S,EAAM8S,GACrC,IAAQzO,EAA0ErE,EAA1EqE,YAAaC,EAA6DtE,EAA7DsE,YAAaM,EAAgD5E,EAAhD4E,YAAaL,EAAmCvE,EAAnCuE,QAASE,EAA0BzE,EAA1ByE,OAAQyE,EAAkBlJ,EAAlBkJ,QAASC,EAASnJ,EAATmJ,KACzE,OACI,+BACI,6BALE,EAKa2J,IACf,6BAAKzO,IACL,6BAAKC,IACL,6BAAK,EAAK2I,WAAW,IAAIrD,KAAKhF,MAC9B,6BAAKH,EAAS,OAAS,YACvB,6BAAKF,IACL,6BAAK,EAAK8U,YAAYnQ,KACtB,6BAAKC,IACL,6BACI,wBAAQyC,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,kBAAM,EAAK2b,YAAYxG,IAAzF,SACI,cAAC,IAAD,CAAQ9V,KAAM,EAAKV,MAAMC,iBAX5BuW,Q,oBAoCrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,kBAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,6EAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,+BACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAEhN,KAAM,IAAK0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,IACvDiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB6B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,eAMtE,uBACChU,KAAKF,MAAM4c,UACR,qBAAK1d,UAAU,MAAf,SACI,qBAAKA,UAAU,mCAAf,SACI,gCACI,mFAA+B,uBADnC,6DAOXgB,KAAKF,MAAM4c,UACR,qBAAK1d,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,OAAhB,UACI,oDAAiBgB,KAAKF,MAAMoY,MAAMlT,cAEtC,uBAAMhG,UAAU,OAAhB,UACI,mDAAgBgB,KAAKF,MAAMmK,gBAAgB6B,QAE/C,uBAAM9M,UAAU,OAAhB,UACI,2CAAagB,KAAKF,MAAMoY,MAAMlZ,aAElC,uBAAMA,UAAU,OAAhB,UACI,kDADJ,IACoBgB,KAAKF,MAAM8c,YAAY9a,UAE3C,uBAAM9C,UAAU,OAAhB,UACI,sEAA6BgB,KAAKF,MAAMiV,QAAQtL,oBAK/DzJ,KAAKF,MAAM4c,UACR,qBAAK1d,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,wBAAOA,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,sCACA,gDACA,8CACA,mDACA,+CACA,qDACA,gEACA,4BAGR,gCACKgB,KAAKoU,kC,GAzWVlV,cAoX1Boe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,8BAEa,SAApB,EAAKjC,MAAMiC,KACJ,yCAEJ,oCAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKsc,WAAtB,qBAEa,SAApB,EAAKre,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK2b,YAAtB,gCAEJ,MA1BQ,EA6BnBA,YA7BmB,sBA6BL,sBAAAxd,EAAA,6DACV,EAAKsP,SAAS,CAAEG,SAAS,IADf,kBAGA3L,EAAIqJ,cAAc,EAAKrN,MAAMoE,MAH7B,OAKN,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,0DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UAnBL,kDAqBN9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCnC,0DA7BK,EAmEnBuM,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAzEA,EA6EnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA/EI,EAkFnBzN,cAAgB,SAACC,GAEb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAxFJ,EA2FnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KA3FjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CAiGnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,qBAAK/P,UAAU,kBAAf,SACI,eAAC8e,GAAA,EAAD,WACI,eAACA,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,kCACA,cAACtK,GAAA,EAAD,CACIV,QAAS,CAAC,CAAEhN,KAAM,WAAO0I,MAAO,GAAK,CAAE1I,KAAM,SAAO0I,MAAO,GAAK,CAAE1I,KAAM,gBAAc0I,MAAO,GAAK,CAAE1I,KAAM,WAAO0I,MAAO,GAAK,CAAE1I,KAAM,SAAO0I,MAAO,IACnJiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKZ,MAAMoE,KAAKkJ,QACvBwD,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,UAAW0I,MAAOsF,WAGhF,eAAC8J,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,6CACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,yCACZ/N,KAAK,OACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKmJ,KACvBuD,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,kBAO7C,eAAC6M,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GApKrBlQ,IAAMK,WA0K3Bud,GAAkBnb,YAAc1C,EAEjByR,mBAAWoM,I,6BChiBpB0B,G,kDACF,WAAY/e,GAAQ,IAAD,8BACf,cAAMA,IA6EVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA/EJ,EAkFnBkC,QAlFmB,uCAkFT,WAAOzI,GAAP,qBAAA3K,EAAA,yDACN,EAAKsP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK1U,MAAMmK,gBAAgB7D,QAH9B,uBAIE6I,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAO8F,YAAa,KAhB/C,0CAmB6B/R,QAAQ6P,IAAI,CACvCvP,EAAI4J,mBAAmB/C,GAAmB,EAAKnK,MAAMmK,iBACrD7G,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,mBArBxE,oCAmBG3G,EAnBH,KAmBQuR,EAnBR,KAuBFA,EAAc,EAAKuJ,YAAYvJ,EAAYrR,KAAKmN,OAAOnN,KAAMF,EAAIE,KAAKmN,QACtE/Q,QAAQC,IAAIyD,EAAKuR,GACjB,EAAKjG,SAAS,CACVG,SAAS,EACT8F,YAAaA,EACbL,YAAY,EACZ6J,eAAgB/a,EAAIE,KAAKmN,SA7B3B,qDAgCF/Q,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAlC/B,wBAmCE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA7C3C,2BAiDFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3DvC,0DAlFS,wDAkJnBxC,cAAgB,SAACC,GACb,IAAIC,EAAI,IAAIC,KAAKF,GACbG,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GAFfJ,EAAEM,cAGC,IAAMF,EAAK,IAAMF,GAzJhB,EA4JnB+Q,YAAc,SAACvJ,EAAawJ,GAExB,IADA,IAAIC,EAAc,GACTrL,EAAI,EAAGA,EAAIoL,EAAevc,OAAQmR,IAAK,CAC5C,IAAIsL,EAAaF,EAAepL,GAC3BqL,EAAYC,EAAWvV,aACxBsV,EAAYC,EAAWvV,WAAa,IAExCsV,EAAYC,EAAWvV,WAAW,EAAKiE,cAAcsR,EAAWrR,OAASqR,EAE7E,IAAK,IAAItL,EAAI,EAAGA,EAAI4B,EAAY/S,OAAQmR,IAAK,CACzC,IAAIsL,EAAaD,EAAYzJ,EAAY5B,GAAGjK,YAAc,GAC1D6L,EAAY5B,GAAZ,aACIsL,cACG1J,EAAY5B,IAGvB,OAAO4B,GA5KQ,EA+KnB/B,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAzLQ,EA4LnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GAtMQ,EAyMnBE,sBAzMmB,uCAyMK,WAAOlN,EAAM0I,GAAb,iBAAApP,EAAA,0DAChB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ0I,EACX,cAAT1I,IACAiE,EAAgB0D,QAAW,IAAIP,KAAKsB,GAAQ8P,QAAQ9P,EAAMpB,UAAY,IAE7D,YAATtH,IACAiE,EAAgByD,UAAa,IAAIN,KAAKsB,GAAQ8P,QAAQ9P,EAAMpB,UAAY,IAE/D,iBAATtH,EATgB,wBAUhB,EAAK4I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CvK,EAAgB7D,aAAU0O,EAXV,mBAaU1R,EAAIkH,gCAAgC,EAAG,IAASL,GAb1D,eAaR0K,EAbQ,QAcEnR,KAAKmN,OAAOnN,KAAK1B,OAC3BmI,EAAgB7D,QAAUuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,QAExD6I,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAG7C,EAAKb,SAAS,CACVG,SAAS,EACTmJ,MAAOvD,EAAUnR,KAAKmN,OAAOnN,KAAK1B,OAAS6S,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAK,GAC3EmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCyG,gBAAiBA,IAlCT,qDAsCZ,EAAK2E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACX1K,gBAAiBA,IAErBrK,QAAQC,IAAR,MA3CY,QA8CpB,EAAK+O,SAAS,CAAE3E,gBAAiBA,EAAiBuK,YAAY,IA9C1C,0DAzML,0DA0PnBiK,kBAAoB,WAChB,IAAIC,EAAS,GACbA,EAAO7O,KAAK,oCAAQ,QACpB6O,EAAO7O,KAAK,yCAAQ,SACpB6O,EAAO7O,KAAK,+CAAQ,SAEpB,IADA,IAAIoD,EAAI,IAAI7F,KAAK,EAAKtN,MAAMmK,gBAAgByD,WACrCuF,GAAK,EAAKnT,MAAMmK,gBAAgB0D,SACnC+Q,EAAO7O,KACH,6BAAwBoD,EAAE3F,UAAY,KAAO2F,EAAEzF,WAAa,IAAnDyF,EAAE0L,aAEf1L,EAAEuL,QAAQvL,EAAE3F,UAAY,GAE5B,OACI,6BACKoR,KAxQM,EA6QnBtK,gBAAkB,WAGd,IAFA,IAAIS,EAAc,EAAK/U,MAAM+U,YACzB+J,EAAS,GAFO,WAGX3L,GACL,IAAIyL,EAAS,GACTvL,EAAU0B,EAAY5B,GAC1ByL,EAAO7O,KAAK,6BAAqBoD,EAAI,GAAhB,MAAQA,IAC7ByL,EAAO7O,KAAK,6BAAsBsD,EAAQtL,aAArB,OAASoL,IAC9ByL,EAAO7O,KAAK,6BAAsBsD,EAAQrL,aAArB,OAASmL,IAI9B,IAHA,IAAI/F,EAAO,IAAIE,KAAK,EAAKtN,MAAMmK,gBAAgByD,WAC3C6Q,EAAapL,EAAQoL,WACrBvZ,EAAa,EAAKlF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAXnF,aAaZ,IAAIkZ,EAAM,EAAK5R,cAAcC,GACxBqR,EAAWM,KACZN,EAAWM,GAAO,CACdlZ,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCkE,UAAW,EAAK/J,MAAMmK,gBAAgBJ,UACtCqD,KAAM2R,EACNN,WAAY,EACZzS,KAAMoB,GAAQlI,EAAWG,aAAe,EAAI,IAGpDuZ,EAAO7O,KACH,6BACI,yBACI7Q,UAAU,kBACVkR,SAAU,SAAA1B,GAAC,OAAI,EAAKsQ,iBAAiBP,EAAWM,GAAMrQ,EAAEC,OAAOC,QAC/DA,MAAO6P,EAAWM,GAAKN,WAH3B,UAKI,wBAAQ7P,MAAM,MACd,wBAAQA,MAAM,IAAd,gBACA,wBAAQA,MAAM,IAAd,mBARCxB,EAAKyR,WAAa1L,IAY/B/F,EAAKsR,QAAQtR,EAAKI,UAAY,IAxB3BJ,GAAQ,EAAKpN,MAAMmK,gBAAgB0D,SAAU,IA0BpDiR,EAAO/O,KACH,6BACK6O,GADIzL,KApCRA,EAAI,EAAGA,EAAI4B,EAAY/S,OAAQmR,IAAM,EAArCA,GAyCT,OAAO2L,GAzTQ,EA4TnBE,iBAAmB,SAACP,EAAY7P,GAC5B6P,EAAWA,WAAa7S,SAASgD,GACjC6P,EAAWtF,QAAS,EACpB,EAAKrK,SAAS,CAAEqK,QAAQ,KA/TT,EAkUnBI,OAlUmB,sBAkUV,sCAAA/Z,EAAA,sDACL,EAAKsP,SAAS,CAAEmQ,aAAa,IACzB3T,EAAO,GACPyJ,EAAc,EAAK/U,MAAM+U,YACpB5B,EAAI,EAJR,YAIWA,EAAI4B,EAAY/S,QAJ3B,iBAKGkd,EAAU,CACVhW,UAAW6L,EAAY5B,GAAGjK,UAC1B5C,QAAS,EAAKtG,MAAMmK,gBAAgB7D,QACpCkY,YAAa,IAEbC,EAAa1J,EAAY5B,GAAGsL,WAV/B,OAAAjf,EAAA,KAWgBif,GAXhB,iDAWQrR,EAXR,YAYOqR,EAAWrR,GAAM+L,OAZxB,oBAaYsF,EAAWrR,GAAM+R,aAb7B,oBAc+C,IAAhCV,EAAWrR,GAAMqR,WAdhC,iBAeeS,EAAQV,YAAYzO,KAApB,2BACO0O,EAAWrR,IADlB,IAEIqM,OAAQ,SAjB3B,sFAuB+C,IAAhCgF,EAAWrR,GAAMqR,WACjBS,EAAQV,YAAYzO,KAApB,2BACO0O,EAAWrR,IADlB,IAEIqM,OAAQ,UAGZyF,EAAQV,YAAYzO,KAApB,2BACO0O,EAAWrR,IADlB,IAEIqM,OAAQ,SACRgF,WAAY,KAhC/B,+BAsCDnT,EAAKyE,KAAKmP,GAtCT,QAImC/L,IAJnC,qCAyCG,EAAKnT,MAAMmZ,OAzCd,kCA0CS7V,EAAIwK,iBAAiB,CAAE4L,SAAUpO,IA1C1C,eA6CD6D,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAS,0DACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEmQ,aAAa,EAAO9F,QAAQ,IAzD3C,UA0DK,EAAKvG,UA1DV,2DA4DD,EAAK9D,SAAS,CAAEmQ,aAAa,IAC7Bnf,QAAQC,IAAR,MACAoP,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxExC,2DAlUU,EA+YnBgK,aAAe,WACX,EAAK7K,SAAS,CAAE8K,aAAa,KA9Y7B,EAAK5Z,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACXE,YAAa,GACb5K,gBAAiB,CACbyD,UAAW,IAAIN,KACfO,QAAS,IAAIP,MAEjBrN,SAAU,OACVkZ,QAAQ,EACRzE,YAAY,EACZuK,aAAa,GAbF,E,4FAiBnB,+CAAAzf,EAAA,6DACIU,KAAK6b,QAAU7b,KAAKZ,MAAMwQ,QAAQkM,OAAM,SAAAC,GACpC,OAAK,EAAKjc,MAAMmZ,QAIZ,EAAKrK,SAAS,CACV8K,aAAa,KAEV,IANP,EAAKmC,WACE,MAQf7b,KAAK4O,SAAS,CAAEG,SAAS,IAZ7B,kBAc8CjM,QAAQ6P,IAAI,CAC9CvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,YAhBnD,2CAcawH,EAdb,KAc6BgC,EAd7B,KAkBYmK,EAAM,IAAI9R,KACVnD,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWkL,EAAQvR,KAAKmN,OAAO9G,UAC/B6D,WAAY,IAAIN,MAAQoR,QAAQU,EAAI5R,UAAY,GAChDK,SAAU,IAAIP,MAAQoR,QAAQU,EAAI5R,UAAY,IAvB1D,UAyBkClK,EAAIkH,gCAAgC,EAAG,IAASL,GAzBlF,eAyBY+K,EAzBZ,QA0B0BxR,KAAKmN,OAAOnN,KAAK1B,SAC/BmI,EAAgB7D,QAAU4O,EAAcxR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAEhEpG,KAAK4O,SAAS,CACV+F,UAAWK,EAAcxR,KAAKmN,OAAOnN,KACrCuP,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CyR,gBAAiBF,EAAQvR,KAAKmN,OAC9B1G,gBAAiBA,EACjBiO,MAAOlD,EAAcxR,KAAKmN,OAAOnN,KAAK1B,OAASkT,EAAcxR,KAAKmN,OAAOnN,KAAK,GAAK,GACnFuL,SAAS,IAnCrB,UAqCc/O,KAAK0S,QAAQzI,GArC3B,0DAuCQrK,QAAQC,IAAR,MACAoP,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDjD,0D,wFAuDA,WACQzP,KAAK6b,SACL7b,KAAK6b,Y,oBA2Ub,WAAU,IAAD,OAEL,OAAI7b,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAQhB,sBAAKA,UAAU,YAAf,UACI,cAAC,EAAD,CAASmP,KAAMnO,KAAKF,MAAMif,cAC1B,cAAC,GAAD,CACI5Q,KAAMnO,KAAKF,MAAM4Z,YACjBsC,MAAOhc,KAAKyZ,aACZoC,QAAS7b,KAAK6b,QACdrL,OAAQxQ,KAAKuQ,OAEjB,qBAAKvR,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,sCAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAKxP,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDmB,UAAU,MAGlB,uBAAOnW,UAAU,OAAjB,8BACA,qBAAKwC,MAAO,CAAEsP,MAAO,SAAW9R,UAAU,OAA1C,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKF,MAAMmK,gBAAgByD,UACrCwC,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,IACvDoL,WAAW,aACXpgB,UAAU,iCACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,SAG7B,uBAAOrC,UAAU,OAAjB,oCACA,qBAAKwC,MAAO,CAAEsP,MAAO,SAAW9R,UAAU,OAA1C,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKF,MAAMmK,gBAAgB0D,QACrCuC,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDoL,WAAW,aACXpgB,UAAU,iCACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,SAG7B,wBAAQ+N,KAAK,SAASpQ,UAAU,0BAA0BmC,QAAS,SAAAqN,GAAOA,EAAEM,iBAAkB,EAAK4D,WAAnG,0CAIZ,uBACC1S,KAAKF,MAAM0U,YACR,qBAAKxV,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,wBAAOA,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACKgB,KAAKye,sBAEV,gCACKze,KAAKoU,uBAGd,wBAAQhF,KAAK,SAASpQ,UAAU,kBAAkBmC,QAAS,kBAAM,EAAKkY,UAAtE,kC,GAvfIna,aAkgB1Bmd,G,kDACF,WAAYjd,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,CACTiP,SAAS,GAHE,E,0CAMnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,0CAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACK,iIAGT,eAACkP,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAAS,WAAQ,EAAK/B,MAAMyc,UAAW,EAAKzc,MAAMoR,UAA3E,4BAGR,cAAC,EAAD,CAASrC,KAAMnO,KAAKF,MAAMiP,iB,GAxBpBlQ,IAAMK,WA+B5Bif,GAAkB7c,YAAc1C,EAEjByR,mBAAW8N,ICxaXkB,I,gEA9HX,WAAYjgB,GAAQ,IAAD,8BACf,cAAMA,IAMVkgB,UAAY,WACR,OAA0C,IAAtC,EAAKlgB,MAAMmgB,WAAWC,YAElB,oBAAIxgB,UAAU,YAAYmC,QAAS,kBAAM,EAAK/B,MAAMqgB,WAAW,IAA/D,SACI,qBAAKzgB,UAAU,YAAf,SACI,cAAC,IAAD,QAMZ,oBAAIA,UAAU,qBAAd,SACI,qBAAKA,UAAU,YAAf,SACI,cAAC,IAAD,SApBG,EA0BnB0gB,QAAU,WACN,OAA0C,IAAtC,EAAKtgB,MAAMmgB,WAAWC,YAElB,oBAAIxgB,UAAU,YAAYmC,QAAS,kBAAM,EAAK/B,MAAMqgB,WAAW,EAAKrgB,MAAMmgB,WAAWC,YAAc,IAAnG,SACI,qBAAKxgB,UAAU,aAAf,SACI,cAAC,IAAD,QAMZ,oBAAIA,UAAU,qBAAd,SACI,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,SAvCG,EA6CnB2gB,SAAW,WACP,OAAI,EAAKvgB,MAAMmgB,WAAWC,cAAgB,EAAKpgB,MAAMmgB,WAAWK,SAExD,oBAAI5gB,UAAU,YAAYmC,QAAS,kBAAM,EAAK/B,MAAMqgB,WAAW,EAAKrgB,MAAMmgB,WAAWC,YAAc,IAAnG,SACI,qBAAKxgB,UAAU,YAAf,SACI,cAAC,IAAD,QAMZ,oBAAIA,UAAU,qBAAd,SACI,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,SA1DG,EAgEnB4gB,SAAW,WACP,OAAI,EAAKxgB,MAAMmgB,WAAWC,cAAgB,EAAKpgB,MAAMmgB,WAAWK,SAExD,oBAAI5gB,UAAU,YAAYmC,QAAS,kBAAM,EAAK/B,MAAMqgB,WAAW,EAAKrgB,MAAMmgB,WAAWK,WAArF,SACI,qBAAK5gB,UAAU,YAAf,SACI,cAAC,IAAD,QAMZ,oBAAIA,UAAU,qBAAd,SACI,qBAAKA,UAAU,YAAf,SACI,cAAC,IAAD,SA7EG,EAmFnB6gB,SAAW,WAIP,IAHA,IAAIC,EAAQ,EAAK1gB,MAAMmgB,WAAWC,YAAc,EAAI,EAAKpgB,MAAMmgB,WAAWC,YAAc,EAAI,EACxFO,EAAM,EAAK3gB,MAAMmgB,WAAWC,YAAc,EAAKpgB,MAAMmgB,WAAWK,SAAW,EAAI,EAAKxgB,MAAMmgB,WAAWC,YAAc,EAAI,EAAKpgB,MAAMmgB,WAAWK,SAC7IxU,EAAO,GAHE,WAIJ6H,GACL,GAAIA,IAAM,EAAK7T,MAAMmgB,WAAWC,YAM5B,OALApU,EAAKyE,KACD,oBAAI7Q,UAAU,qBAAd,SACI,qBAAKA,UAAU,yBAAf,SAAyCiU,KADLA,IAI5C,WAEJ7H,EAAKyE,KACD,oBAAI7Q,UAAU,YAAoBmC,QAAS,kBAAM,EAAK/B,MAAMqgB,WAAWxM,IAAvE,SACI,qBAAKjU,UAAU,yBAAf,SAAyCiU,KADdA,KAV9BA,EAAI6M,EAAO7M,GAAK8M,EAAK9M,IAAK,EAA1BA,GAeT,OAAO7H,GApGP,EAAKtL,MAAQ,GAFE,E,0CAyGnB,WAKI,OAJuC,IAAnCE,KAAKZ,MAAMmgB,WAAWK,WACtB5f,KAAKZ,MAAMmgB,WAAWK,SAAW,GAIjC,8BACI,qBAAKI,aAAW,aAAhB,SACI,qBAAIhhB,UAAU,aAAd,UACKgB,KAAKsf,YACLtf,KAAK0f,UACL1f,KAAK6f,WACL7f,KAAK2f,WACL3f,KAAK4f,sB,GAvHL/gB,IAAMK,YCGzB+gB,G,kDACF,WAAY7gB,GAAQ,IAAD,8BACf,cAAMA,IAmDVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UArDJ,EAwDnBkC,QAxDmB,uCAwDT,WAAO7N,EAAMC,GAAb,eAAAxF,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAIwI,iBAAiB/G,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAHpG,OAGExB,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CAAEG,SAAS,EAAOmR,cAAe5c,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAL/F,mDAOF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAT/B,wBAUE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApB3C,2BAwBFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCvC,yDAxDS,0DA+FnB0Q,cA/FmB,uCA+FH,WAAO3R,GAAP,SAAAlP,EAAA,6DACZ,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CA/FG,wDAoGnB+Q,WApGmB,uCAoGN,WAAO5a,GAAP,SAAAvF,EAAA,sEACH,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SAD3B,2CApGM,wDAwGnBsP,gBAAkB,WACd,IAAIgM,EAAU,EAAKtgB,MAAMgF,SAAW,EAAKhF,MAAMyf,WAAWC,YAAc,GAAK,EACzEzM,EAAiB,EAAKjT,MAAMiT,eAChC,OAAO,EAAKjT,MAAMogB,cAAc7J,KAAI,SAAC7S,EAAM8S,GACvC,IAAQ3Q,EAA6BnC,EAA7BmC,aAAcmG,EAAetI,EAAfsI,KAAMC,EAASvI,EAATuI,KAC5B,OACI,+BACI,oBAAI/M,UAAU,cAAd,SAA6BohB,EAAU9J,IACvC,oBAAItX,UAAU,cAAd,SAA6B+T,EAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiBA,KAAcX,aACvF,oBAAIhG,UAAU,cAAd,SAA6B8M,IAC7B,oBAAI9M,UAAU,cAAd,SAA6B+M,EAAO,UAAS,YAC7C,oBAAI/M,UAAU,cAAd,SACI,wBAAQoQ,KAAK,SAASpQ,UAAU,mBAAmBmC,QAAS,kBAAM4K,EAAO,EAAKsU,OAAO/J,GAAS,EAAKvK,KAAKuK,IAAxG,SAAkHvK,EAAO,UAAO,gBAN/HuK,OA9GF,EA2HnBvK,KAAO,SAACuK,GACJ,IAAIgK,EAAY,EAAKxgB,MAAMogB,cAAc5J,GACzC,EAAK1H,SAAS,CACV8K,aAAa,EACbyD,UAAU,aACN5D,OAAQ,OACRvU,WAAY,EAAKlF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB2a,EAAU3a,gBAAcX,YACxFsb,MAlII,EAuInBD,OAAS,SAAC/J,GACN,IAAIgK,EAAY,EAAKxgB,MAAMogB,cAAc5J,GACzC,EAAK1H,SAAS,CACV8K,aAAa,EACbyD,UAAU,aACN5D,OAAQ,SACRvU,WAAY,EAAKlF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB2a,EAAU3a,gBAAcX,YACxFsb,MA9II,EAmJnB7G,aAAe,WACX,EAAK7K,SAAS,CAAE8K,aAAa,KAlJ7B,EAAK5Z,MAAQ,CACTogB,cAAe,GACfnN,eAAgB,GAChBhE,SAAS,EACT2K,aAAa,EACbyD,UAAW,GACXrY,QAAS,GACTya,WAAY,CACRC,YAAa,EACbI,SAAU,IAXH,E,4FAgBnB,iCAAAtgB,EAAA,6DACIU,KAAK4O,SAAS,CAAEG,SAAS,IAD7B,2BAAAzP,EAAA,8CAAAA,EAAA,sEAGoDwD,QAAQ6P,IAAI,CACpDvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIwI,iBAAiB,EAAG,OALpC,OAWQ,IAXR,6BAGamH,EAHb,KAG6BmN,EAH7B,KAOQnN,EAAiBA,EAAevP,KAAKmN,OAAOnN,KAC5C0c,EAAgBA,EAAc1c,KAAKmN,OAAOnN,KAEtC+c,EAAU,GAVtB,WAWiBtN,IACoF,IAArFiN,EAAcM,WAAU,SAAAhS,GAAC,OAAIA,EAAE7I,eAAiBoN,EAAeE,GAAGtN,iBAClE4a,EAAQ1Q,KACJzM,EAAIyI,aAAa,CACblG,aAAcoN,EAAeE,GAAGtN,aAChCmG,KAAM,EACNC,KAAM,IAEV3I,EAAIyI,aAAa,CACblG,aAAcoN,EAAeE,GAAGtN,aAChCmG,KAAM,EACNC,KAAM,MAXbkH,EAAI,EAAGA,EAAIF,EAAejR,OAAQmR,IAAM,EAAxCA,GAXjB,OA2BQ,EAAKrE,SAAS,CAAEmE,eAAgBA,IA3BxC,UA4BcjQ,QAAQ6P,IAAI4N,GA5B1B,yBA6Bc,EAAK7N,QAAQ,EAAG,EAAK5S,MAAMgF,SA7BzC,QA8BQ,EAAK8J,SAAS,CAAEG,SAAS,IA9BjC,2GAgCQ/O,KAAK4O,SAAS,CAAEG,SAAS,IAhCjC,wD,0EAuIA,WAAU,IAAD,OACL,OAAI/O,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAM4Z,YACjBsC,MAAOhc,KAAKyZ,aACZjW,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,2DAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAKuR,WAA/E,UACI,cAAC,IAAD,CAAWlS,KAAMR,KAAKF,MAAMC,WADhC,6BAGA,uBAAOf,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAahB,uBACA,sBAAK1P,UAAU,MAAf,UACI,qBAAKA,UAAU,0CAAf,SACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,mDACA,gDACA,oDACA,4BAGR,gCACKgB,KAAKoU,2BAKtB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,uB,GArO5DvgB,aA4OlBmd,G,kDACF,WAAYjd,GAAQ,IAAD,8BACf,cAAMA,IAMVia,OAPmB,sBAOV,sBAAA/Z,EAAA,yDACL,EAAKsP,SAAS,CAAEG,SAAS,IADpB,SAG0B,SAA3B,EAAK3P,MAAMoE,KAAK+V,OAHf,gCAGyCnW,EAAI4I,cAAc,EAAK5M,MAAMoE,MAHtE,6CAGoFJ,EAAI6I,gBAAgB,EAAK7M,MAAMoE,MAHnH,OAKD,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAoC,SAA3B,EAAK/P,MAAMoE,KAAK+V,OAAoB,2BAAoB,2BACjEnK,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBV,kDAqBD9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK3P,MAAQ,CACTiP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,sBAAKrP,UAAU,YAAf,UACK,0CADL,IACwD,SAA3BgB,KAAKZ,MAAMoE,KAAK+V,OAAoB,mCAAmB,mCADpF,IACqG,mBADrG,IACiH,kCAAKvZ,KAAKZ,MAAMoE,KAAKsI,KAArB,OADjH,IACkJ,sBADlJ,IAC+J,kCAAK9L,KAAKZ,MAAMoE,KAAKwB,WAArB,OAD/J,IACsM,UAG1M,eAACkJ,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAKqZ,OAAvC,SAA2E,SAA3BrZ,KAAKZ,MAAMoE,KAAK+V,OAAoB,UAAS,kBAGrG,cAAC,EAAD,CAASpL,KAAMnO,KAAKF,MAAMiP,iB,GAhEpBlQ,IAAMK,WAsEbmR,eAAW4P,IC/SpBS,I,8DACF,WAAYthB,GAAQ,IAAD,8BACf,cAAMA,IAsFVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAxFJ,EA2FnBkC,QA3FmB,uCA2FT,WAAO7N,EAAMC,EAASmF,GAAtB,2BAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAIkH,gCAAgCzF,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAH1J,OAMF,GAHI3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACRE,EAAOF,EAAIE,KAAKmN,OAAOnN,MACrB,EAAK1D,MAAMmK,gBAAgB7D,UAAW,EAAKtG,MAAMmK,gBAAgBJ,UAAY,CAE/E,IADI8W,EAAO,GACF1N,EAAI,EAAGA,EAAIzP,EAAK1B,OAAQmR,IAC7B0N,EAAKnd,EAAKyP,GAAG7M,SAAW,EAI5B,IAFIuO,EAAY,EAAK7U,MAAM6U,UACvB3P,EAAa,EAAKlF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAC1FsN,EAAI,EAAGA,EAAI0B,EAAU7S,OAAQmR,IAC7B0N,EAAKhM,EAAU1B,GAAG7M,UACnB5C,EAAKqM,KAAL,2BACO8E,EAAU1B,IACVjO,IAKnB,EAAK4J,SAAS,CACVG,SAAS,EACT6R,8BAA+Bpd,EAC/B+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAzB9B,qDA4BF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DA3FS,4DAuJnByD,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KA3JlB,EA8JnBmT,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KA/JZ,EAgMnB8D,iBAAmB,WAGf,IAFA,IAAIzV,EAAO,EAAKtL,MAAMghB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8C7H,EAAK6H,GAA7CpJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BwJ,EAAQnD,KAAK,CACT7J,KAAMyD,EAAc,MAAQD,EAC5BkF,MAAO7E,IAGf,OAAOmJ,GA1MQ,EA6MnBF,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAvNQ,EA0NnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GApOQ,EAuOnBxI,8BAAgC,SAAC8L,GAC7B,IAAIyK,EAA4B,EAAKjhB,MAAM8gB,8BAA8BtK,GACzE,EAAK1H,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACH4D,MA7OX,EAAKjhB,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACXmM,YAAa,GACbF,8BAA+B,GAC/B7gB,SAAU,OACVkK,gBAAiB,GAEjBnF,QAAS,IACTya,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACToO,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACd6D,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgB,4BAA6B,GAEjCsS,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb8D,YAAY,GA9BD,E,4FAkCnB,sCAAA1hB,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK6DjM,QAAQ6P,IAAI,CAC7DvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,OARlC,2CAKa6J,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAUY7W,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCsd,YAAaA,EAAYtd,KAAKmN,OAAOnN,KACrCyG,gBAAiBA,IAjB7B,UAmBcjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,GAnBlD,6DAqBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFAgIA,WAAmB,IAAD,OACV2Q,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAM8gB,8BAA8BvK,KAAI,SAAC4K,EAAM3K,GACvD,IAAQ9M,EAAoDyX,EAApDzX,YAAaC,EAAuCwX,EAAvCxX,YAAazK,EAA0BiiB,EAA1BjiB,UAAWgG,EAAeic,EAAfjc,WAC7C,OACI,+BACI,6BAAKob,EAAU9J,IACf,6BAAKtX,IACL,6BAAKwK,IACL,6BAAKC,GAA4B,8BACjC,6BAAKzE,IACL,oBAAIhG,UAAU,cAAd,SACI,wBAAQoQ,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,kBAAM,EAAKqJ,8BAA8B8L,IAA3G,SACI,cAAC,IAAD,CAAQ9V,KAAM,EAAKV,MAAMC,iBAR5BuW,Q,0BAerB,WACI,IAAIrM,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK4O,SAAS,CACV3E,gBAAiBA,IAErBjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,K,oBAuDxC,WAAU,IAAD,OACL,OAAIjK,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,QACdI,oBAAqB9S,KAAK8S,oBAC1B+N,iBAAkB7gB,KAAK6gB,iBACvBnM,eAAgB1U,KAAK0U,iBAEzB,qBAAK1V,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,sFAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,SACI,yBAAQY,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAK+f,gBAA/E,UACI,cAAC,IAAD,CAAW1gB,KAAMR,KAAKF,MAAMC,WADhC,mCAMZ,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAKxP,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAIlE,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK6gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBJ,UAClCqG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAK/D,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAI7D,yBAAQ5E,KAAK,SAASpQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKuR,WAArF,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,0CACA,+DACA,gDACA,mDACA,4BAGR,gCACKgB,KAAKoU,oC,GApWFlV,cA+WlCoe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,8DAEa,SAApB,EAAKjC,MAAMiC,KACJ,yEAEJ,oEAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKoJ,6BAAtB,qBAEa,SAApB,EAAKnL,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKqJ,8BAAtB,gCAEJ,MA1BQ,EA6BnBA,8BA7BmB,sBA6Ba,sBAAAlL,EAAA,yDAC5B,EAAKsP,SAAS,CAAEG,SAAS,IADG,UAGpB,EAAK3P,MAAMoE,KAAKqG,UAHI,qBAIhB,EAAKzK,MAAMoE,KAAKiH,4BAJA,gCAKVrH,EAAIoH,8BAA8B,EAAKpL,MAAMoE,MALnC,+CAOVJ,EAAImH,6BAA6B,EAAKnL,MAAMoE,MAPlC,oCAUhB,EAAKpE,MAAMoE,KAAKiH,4BAVA,kCAWVrH,EAAIsH,gCAAgC,EAAKtL,MAAMoE,KAAKiH,6BAX1C,QAgBxB,EAAKmE,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,0EACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UA9Ba,qDAgCxB9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAlCtB,wBAmCpByH,QAAMC,gBAAgB,CAClBnO,MAAO,wCACPoO,QAAS,6HACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA7CrB,2BAiDxBR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3DjB,0DA7Bb,EA6FnBuM,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAnGA,EAuGnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SAzGI,EA4GnBzN,cAAgB,SAACC,GACb5O,QAAQC,IAAI2O,GACZ,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAlHJ,EAqHnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KArHjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CA2HnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,sBAAK/P,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAM0T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,eAAgB0I,MAAOsF,MAC7EtF,MAAO1O,KAAKZ,MAAMoE,KAAKmC,aACvBwP,UAAU,SAItB,sBAAKnW,UAAU,aAAf,UACI,oDACA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,SAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMyhB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAOsF,MAC1EtF,MAAO1O,KAAKZ,MAAMoE,KAAKqG,cAG/B,qBAAK7K,UAAU,aAAf,SACI,cAAC,IAAD,CAASA,UAAU,oBAAoBmC,QAAS,kBAAM,EAAKoN,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAO,mBAK3H,sBAAK1P,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMsV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,UAAW0I,MAAOsF,MACxEtF,MAAO1O,KAAKZ,MAAMoE,KAAK4C,QACvB+O,UAAU,eAOlC,eAACjH,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GAxNrBlQ,IAAMK,WA+NZmR,eAAWqQ,I,SC/kBpBS,G,kDACF,WAAY/hB,GAAQ,IAAD,8BACf,cAAMA,IA6FVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA/FJ,EAkGnBkC,QAlGmB,uCAkGT,WAAO7N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAI4G,yBAAyBnF,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHnJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACVG,SAAS,EACTqS,uBAAwB9d,EAAIE,KAAKmN,OAAOnN,KACxC+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAR9B,mDAYF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAlGS,4DAwJnB0Q,cAxJmB,uCAwJH,WAAO3R,GAAP,SAAAlP,EAAA,6DACZ,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CAxJG,wDA4JnB+Q,WA5JmB,uCA4JN,WAAO5a,GAAP,SAAAvF,EAAA,sEACH,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SAD3B,2CA5JM,wDAgKnB+b,iBAAmB,WAGf,IAFA,IAAIzV,EAAO,EAAKtL,MAAMghB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8C7H,EAAK6H,GAA7CpJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BwJ,EAAQnD,KAAK,CACT7J,KAAMyD,EAAc,MAAQD,EAC5BkF,MAAO7E,IAGf,OAAOmJ,GA1KQ,EA6KnBF,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAvLQ,EA0LnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GApMQ,EAuMnBqO,iBAAmB,WAGf,IAFA,IAAIjW,EAAO,EAAKtL,MAAMwhB,YAClBtO,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAiC7H,EAAK6H,GAAhCrM,EAAN,EAAMA,UAAWH,EAAjB,EAAiBA,YACjBuM,EAAQnD,KAAK,CACT7J,KAAMS,EACNiI,MAAO9H,IAGf,OAAOoM,GAjNQ,EAoNnBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KAxNlB,EA6OnBE,sBAAwB,WACpB,EAAKyE,SAAS,CACVmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACb8X,qBAAsB,MA7Pf,EAkQnBnX,yBAA2B,SAACkM,GACxB,IAAIkL,EAAqB,EAAK1hB,MAAMshB,uBAAuB9K,GAC3D,EAAK1H,SAAS,CACVoS,YAAY,EACZ7D,UAAU,eACHqE,MAvQI,EA4QnBC,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KA7Qb,EAgRnB5D,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KA/Q3B,EAAKjd,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVZ,YAAa,GACbQ,YAAa,GACbF,uBAAwB,GACxBrhB,SAAU,OACVkK,gBAAiB,GAGjBnF,QAAS,GACTya,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACToO,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACdiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACb8X,qBAAsB,GAE1BxE,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb8D,YAAY,GAnCD,E,4FAuCnB,wCAAA1hB,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK0EjM,QAAQ6P,IAAI,CAC1EvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,KACtB9F,EAAIkD,eAAe,EAAG,OATlC,2CAKayM,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAKqDQ,EALrD,KAWYrX,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCsd,YAAaA,EAAYtd,KAAKmN,OAAOnN,KACrC8d,YAAaA,EAAY9d,KAAKmN,OAAOnN,KACrCyG,gBAAiBA,IAnB7B,UAqBcjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,GArBlD,6DAuBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAzBzC,wBA0BY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApCrD,2BAwCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDjD,0D,gFAuGA,WACI,IAAIxF,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK4O,SAAS,CACV3E,gBAAiBA,IAErBjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,K,6BAsExC,WAAmB,IAAD,OACVmW,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMshB,uBAAuB/K,KAAI,SAAC4K,EAAM3K,GAChD,IAAQ9M,EAAiEyX,EAAjEzX,YAAaC,EAAoDwX,EAApDxX,YAAahD,EAAuCwa,EAAvCxa,YAAazH,EAA0BiiB,EAA1BjiB,UAAWgG,EAAeic,EAAfjc,WAC1D,OACI,+BACI,6BAAKob,EAAU9J,IACf,6BAAK9M,IACL,6BAAKC,IACL,6BAAKhD,IACL,6BAAKzH,IACL,6BAAKgG,IACL,oBAAIhG,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKiJ,yBAAyBkM,UAP7EA,Q,oBAoDrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,QACdI,oBAAqB9S,KAAK8S,oBAC1B+N,iBAAkB7gB,KAAK6gB,iBACvBnM,eAAgB1U,KAAK0U,eACrB2M,iBAAkBrhB,KAAKqhB,mBAE3B,cAAC,GAAD,CACIlT,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,sEAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAK+f,gBAA/E,UACI,cAAC,IAAD,CAAW1gB,KAAMR,KAAKF,MAAMC,WADhC,6BAIA,yBAAQqP,KAAK,SAASpQ,UAAU,8BAA8BmC,QAASnB,KAAKmK,sBAA5E,UACI,cAAC,KAAD,CAAU3J,KAAMR,KAAKF,MAAMC,SAAU4hB,MAAM,KAD/C,6BAGA,uBAAO3iB,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAKhB,qBAAK1P,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK6gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBJ,UAClCqG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAI/D,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKqhB,mBACd1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBrD,UAClCsJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAASpQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKuR,WAArF,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,+DACA,gDACA,iDACA,0CACA,mDACA,6BACI,cAAC,IAAD,WAIZ,gCACKgB,KAAKoU,yBAIlB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,yB,GAzavDvgB,aAib3B0iB,G,kDACF,WAAYxiB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKsP,SAAS,CAAEG,SAAS,IADpB,kBAGK3L,EAAIgH,yBAAyB,EAAKhL,MAAMoE,KAAK+d,sBAHlD,OAKD,EAAK3S,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,8DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBV,kDAqBD9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IAEzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCxC,0DALL,EAAK3P,MAAQ,CACTiP,SAAS,GAHE,E,0CA+CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,wCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,sBAAKrP,UAAU,YAAf,UACK,0FADL,IACwD,kCAAKgB,KAAKZ,MAAMoE,KAAKiG,YAArB,OADxD,IACgG,UAGpG,eAACyE,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GAjEdlQ,IAAMK,WAwE5Boe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,8CAEa,SAApB,EAAKjC,MAAMiC,KACJ,+CAEJ,oDAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKgJ,sBAAtB,qBAEa,SAApB,EAAK/K,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK0gB,uBAAtB,sBAEJ,MA1BQ,EA6BnB1X,sBA7BmB,sBA6BK,sBAAA7K,EAAA,6DACpB,EAAKsP,SAAS,CAAEG,SAAS,IADL,kBAGV3L,EAAI+G,sBAAsB,EAAK/K,MAAMoE,MAH3B,OAKhB,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,+DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UAnBK,qDAqBhB9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvB9B,wBAwBZyH,QAAMC,gBAAgB,CAClBnO,MAAO,6CACPoO,QAAS,sDACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlC7B,2BAsChBR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDzB,0DA7BL,EAkFnBuM,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAxFA,EA4FnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA9FI,EAiGnBzN,cAAgB,SAACC,GACb5O,QAAQC,IAAI2O,GACZ,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAvGJ,EA0GnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KA1GjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CAgHnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,sBAAK/P,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAM0T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,eAAgB0I,MAAOsF,MAC7EtF,MAAO1O,KAAKZ,MAAMoE,KAAKmC,oBAInC,sBAAK3G,UAAU,aAAf,UACI,oDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMyhB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAOsF,MAC1EtF,MAAO1O,KAAKZ,MAAMoE,KAAKqG,iBAInC,sBAAK7K,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMsV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,UAAW0I,MAAOsF,MACxEtF,MAAO1O,KAAKZ,MAAMoE,KAAK4C,eAInC,sBAAKpH,UAAU,aAAf,UACI,uBAAOA,UAAU,GAAjB,6BACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMiiB,mBACpB1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAOsF,MAC1EtF,MAAO1O,KAAKZ,MAAMoE,KAAKoD,uBAO/C,eAACsH,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GAnNrBlQ,IAAMK,WAyNZmR,eAAW8Q,IChtBpBW,I,yDACF,WAAY1iB,GAAQ,IAAD,8BACf,cAAMA,IA6FVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA/FJ,EAkGnBkC,QAlGmB,uCAkGT,WAAO7N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAIwH,2BAA2B/F,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHrJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACVG,SAAS,EACTgT,yBAA0Bze,EAAIE,KAAKmN,OAAOnN,KAC1C+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAR9B,mDAYF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAlGS,4DAwJnB0Q,cAxJmB,uCAwJH,WAAO3R,GAAP,SAAAlP,EAAA,6DACZ,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CAxJG,wDA4JnB+Q,WA5JmB,uCA4JN,WAAO5a,GAAP,SAAAvF,EAAA,sEACH,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SAD3B,2CA5JM,wDAgKnB+b,iBAAmB,WAGf,IAFA,IAAIzV,EAAO,EAAKtL,MAAMghB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8C7H,EAAK6H,GAA7CpJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BwJ,EAAQnD,KAAK,CACT7J,KAAMyD,EAAc,MAAQD,EAC5BkF,MAAO7E,IAGf,OAAOmJ,GA1KQ,EA6KnBF,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAvLQ,EA0LnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GApMQ,EAuMnBgP,wBAA0B,WAGtB,IAFA,IAAI5W,EAAO,EAAKtL,MAAMmiB,mBAClBjP,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA2C7H,EAAK6H,GAA1C9L,EAAN,EAAMA,iBAAkBF,EAAxB,EAAwBA,eACxB+L,EAAQnD,KAAK,CACT7J,KAAMiB,EACNyH,MAAOvH,IAGf,OAAO6L,GAjNQ,EAoNnBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KAxNlB,EA4OnBY,wBAA0B,WACtB,EAAK+D,SAAS,CACVmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCwB,iBAAkB,EAAKrH,MAAMmK,gBAAgB9C,iBAC7C+a,mBAAoB,GACpB1Y,YAAa,GACbK,UAAW,KACXJ,YAAa,GACb8X,qBAAsB,MA5Pf,EAiQnBzW,2BAA6B,SAACwL,GAC1B,IAAI6L,EAAuB,EAAKriB,MAAMiiB,yBAAyBzL,GAC/D,EAAK1H,SAAS,CACVoS,YAAY,EACZ7D,UAAU,eACHgF,MAtQI,EA2QnBV,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KA5Qb,EA+QnB5D,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KA9Q3B,EAAKjd,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVZ,YAAa,GACbmB,mBAAoB,GACpBF,yBAA0B,GAC1BhiB,SAAU,OACVkK,gBAAiB,GAGjBnF,QAAS,GACTya,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACToO,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACdiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACb8X,qBAAsB,GAE1BxE,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb8D,YAAY,GAnCD,E,4FAuCnB,wCAAA1hB,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAKiFjM,QAAQ6P,IAAI,CACjFvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,KACtB9F,EAAI0D,sBAAsB,EAAG,OATzC,2CAKaiM,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAKqDmB,EALrD,KAWYhY,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCsd,YAAaA,EAAYtd,KAAKmN,OAAOnN,KACrCye,mBAAoBA,EAAmBze,KAAKmN,OAAOnN,KACnDyG,gBAAiBA,IAnB7B,UAqBcjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,GArBlD,6DAuBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAzBzC,wBA0BY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApCrD,2BAwCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDjD,0D,gFAuGA,WACI,IAAIxF,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK4O,SAAS,CACV3E,gBAAiBA,IAErBjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,K,6BAsExC,WAAmB,IAAD,OACVmW,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMiiB,yBAAyB1L,KAAI,SAAC7S,EAAM8S,GAClD,IAAQ9M,EAAyDhG,EAAzDgG,YAAaC,EAA4CjG,EAA5CiG,YAAaxC,EAA+BzD,EAA/ByD,eAAgBjC,EAAexB,EAAfwB,WAClD,OACI,+BACI,6BAAKob,EAAU9J,IACf,6BAAK9M,IACL,6BAAKC,IACL,6BAAKxC,IACL,6BAAKjC,IACL,oBAAIhG,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK2J,2BAA2BwL,UAN/EA,Q,oBAsDrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,QACdI,oBAAqB9S,KAAK8S,oBAC1B+N,iBAAkB7gB,KAAK6gB,iBACvBnM,eAAgB1U,KAAK0U,eACrBsN,wBAAyBhiB,KAAKgiB,0BAElC,cAAC,GAAD,CACI7T,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,2EAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAK+f,gBAA/E,UACI,cAAC,IAAD,CAAW1gB,KAAMR,KAAKF,MAAMC,WADhC,6BAGA,yBAAQqP,KAAK,SAASpQ,UAAU,8BAA8BmC,QAASnB,KAAK6K,wBAA5E,UACI,cAAC,KAAD,CAAUrK,KAAMR,KAAKF,MAAMC,SAAU4hB,MAAM,KAD/C,6BAGA,uBAAO3iB,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAKhB,qBAAK1P,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAKxP,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK6gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBJ,UAClCqG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,uBAAOhV,UAAU,OAAjB,sBACA,qBAAKA,UAAU,8BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKgiB,0BACdrO,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB9C,iBAClC+I,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,mBAAoBc,QAGtE,yBAAQ5E,KAAK,SAASpQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKuR,WAArF,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,+DACA,gDACA,yCACA,mDACA,6BACI,cAAC,IAAD,WAIZ,gCACKgB,KAAKoU,yBAIlB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,yB,GA5ZrDvgB,cAoa7B0iB,G,kDACF,WAAYxiB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKsP,SAAS,CAAEG,SAAS,IADpB,kBAGK3L,EAAI0H,2BAA2B,EAAK1L,MAAMoE,KAAK4e,wBAHpD,OAKD,EAAKxT,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,mEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBV,kDAqBD9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK3P,MAAQ,CACTiP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,wCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,sBAAKrP,UAAU,YAAf,UACK,mFADL,IACoD,kCAAKgB,KAAKZ,MAAMoE,KAAKiG,YAArB,OADpD,IAC4F,UAGhG,eAACyE,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GAhEdlQ,IAAMK,WAuE5Boe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,mDAEa,SAApB,EAAKjC,MAAMiC,KACJ,oDAEJ,yDAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK0J,wBAAtB,qBAEa,SAApB,EAAKzL,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK0gB,uBAAtB,sBAEJ,MA1BQ,EA6BnBhX,wBA7BmB,sBA6BO,sBAAAvL,EAAA,6DACtB,EAAKsP,SAAS,CAAEG,SAAS,IADH,kBAGZ3L,EAAIyH,wBAAwB,EAAKzL,MAAMoE,MAH3B,OAKlB,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,oEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UAnBO,kDAqBlB9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCvB,0DA7BP,EAmEnBuM,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAzEA,EA6EnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA/EI,EAkFnBzN,cAAgB,SAACC,GACb5O,QAAQC,IAAI2O,GACZ,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAxFJ,EA2FnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KA3FjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CAiGnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,sBAAK/P,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAM0T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,eAAgB0I,MAAOsF,MAC7EtF,MAAO1O,KAAKZ,MAAMoE,KAAKmC,oBAInC,sBAAK3G,UAAU,aAAf,UACI,oDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMyhB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAOsF,MAC1EtF,MAAO1O,KAAKZ,MAAMoE,KAAKqG,iBAInC,sBAAK7K,UAAU,aAAf,UACI,uBAAOA,UAAU,GAAjB,sCACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAM4iB,0BACpBrO,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,mBAAoB0I,MAAOsF,MACjFtF,MAAO1O,KAAKZ,MAAMoE,KAAK2D,8BAO/C,eAAC+G,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GAtLrBlQ,IAAMK,WA4LZmR,eAAWyR,I,2BClqBpBO,I,yDACJ,WAAYjjB,GAAQ,IAAD,8BACjB,cAAMA,IA+BRmR,KAAO,WACL,EAAKnR,MAAMwQ,QAAQY,UAjCF,EAoCnBkC,QApCmB,uCAoCT,WAAO7N,EAAMC,GAAb,eAAAxF,EAAA,6DACR,EAAKsP,SAAS,CAAEG,SAAS,IADjB,kBAGU3L,EAAIwB,kBAAkBC,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAHjG,OAGFxB,EAHE,OAIN,EAAKsL,SAAS,CAAEG,SAAS,EAAOgE,eAAgBzP,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAJ5F,mDAON3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAT3B,wBAUJ8L,QAAMC,gBAAgB,CACpBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApBnC,2BAwBNR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCjC,yDApCS,0DA2EnB0Q,cA3EmB,uCA2EH,WAAO3R,GAAP,SAAAlP,EAAA,6DACd,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA3EG,wDA+EnB+Q,WA/EmB,uCA+EN,WAAO5a,GAAP,SAAAvF,EAAA,sEACL,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SADzB,2CA/EM,wDA+GnBC,cAAgB,WACd,EAAK6J,SAAS,CACZmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTjY,mBAAoB,IAAIkI,KACxBhI,oBAAqB,IAAIgI,KACzB9H,oBAAqB,IAAI8H,KACzB5H,qBAAsB,IAAI4H,KAC1BpI,WAAY,GACZS,YAAa,GACbE,aAAc,MA5HD,EAiInBD,eAjImB,uCAiIF,WAAO4Q,GAAP,eAAAhX,EAAA,sDACX0F,EAAa,EAAKlF,MAAMiT,eAAeuD,GAC3C,EAAK1H,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTxX,aAAcX,EAAWW,aACzBT,mBAAoB,IAAIkI,KAAKpI,EAAWC,gBACxCG,oBAAqB,IAAIgI,KAAKpI,EAAWG,cACzCG,oBAAqB,IAAI8H,KAAKpI,EAAWK,gBACzCG,qBAAsB,IAAI4H,KAAKpI,EAAWO,cAC1CP,WAAYA,EAAWA,WACvBS,YAAaT,EAAWS,eAdb,2CAjIE,wDAoJnBG,iBAAmB,SAAC0Q,GAClB,IAAItR,EAAa,EAAKlF,MAAMiT,eAAeuD,GAC3C,EAAK1H,SAAS,CACZoS,YAAY,EACZ7D,UAAW,CACTxX,aAAcX,EAAWW,aACzBT,mBAAoB,IAAIkI,KAAKpI,EAAWC,gBACxCG,oBAAqB,IAAIgI,KAAKpI,EAAWG,cACzCG,oBAAqB,IAAI8H,KAAKpI,EAAWK,gBACzCG,qBAAsB,IAAI4H,KAAKpI,EAAWO,cAC1CP,WAAYA,EAAWA,WACvBS,YAAaT,EAAWS,gBA/JX,EAoKnB6c,SAAW,SAAChM,GACV,IAAItR,EAAa,EAAKlF,MAAMiT,eAAeuD,GAC3C,EAAK1H,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTxX,aAAcX,EAAWW,aACzBT,mBAAoB,IAAIkI,KAAKpI,EAAWC,gBACxCG,oBAAqB,IAAIgI,KAAKpI,EAAWG,cACzCG,oBAAqB,IAAI8H,KAAKpI,EAAWK,gBACzCG,qBAAsB,IAAI4H,KAAKpI,EAAWO,cAC1CP,WAAYA,EAAWA,WACvBS,YAAaT,EAAWS,gBAlLX,EAuLnBgc,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KAxLX,EA2LnB5D,WAAa,WACX,EAAKxO,SAAS,CAAEmO,WAAW,KA1L3B,EAAKjd,MAAQ,CAEXiT,eAAgB,GAChBjO,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZzC,UAAW,CACTxX,aAAc,EACdT,mBAAoB,IAAIkI,KACxBhI,oBAAqB,IAAIgI,KACzB9H,oBAAqB,IAAI8H,KACzB5H,qBAAsB,IAAI4H,KAC1BpI,WAAY,GACZS,YAAa,IAEfsX,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,GAvBE,E,4FA2BnB,sBAAA5d,EAAA,6DACEU,KAAK4O,SAAS,CAAEG,SAAS,IAD3B,SAEQ/O,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SAFnC,gD,qFAwDA,WACE,OACE,+BACE,qCACA,mDACA,+CACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKlC,WAAmB,IAAD,OACZohB,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMiT,eAAesD,KAAI,SAAC4K,EAAM3K,GAC1C,IAAQtR,EAA4Bic,EAA5Bjc,WAAYS,EAAgBwb,EAAhBxb,YACpB,OACE,+BACE,6BAAK2a,EAAU9J,IACf,6BAAI,sBAAMtX,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGtR,MACvG,6BAAKS,IACL,oBAAIzG,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKyE,iBAAiB0Q,QAC1E,oBAAItX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKuE,eAAe4Q,UALrEA,Q,oBA2Ff,WAAU,IAAD,OACP,OAAItW,KAAKF,MAAMiP,QAEX,qBAAK/P,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEmP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAEhB,cAAC,GAAD,CACEvE,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAEhB,qBAAK1T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE5C,qBAAKvR,UAAU,4BAAf,kEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKuR,WAApE,SACE,sBAAK1T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAASnB,KAAK+E,cAA9D,SACE,sBAAK/F,UAAU,SAAf,UACE,4DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,4BAKR,uBACA,qBAAKlN,MAAO,CAAEif,UAAW,SAAzB,SACE,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO3jB,UAAU,eAAjB,SACGgB,KAAKye,sBAER,gCAAQze,KAAKoU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,oB,GA7R/C5gB,IAAMK,YAmSzB0iB,G,kDACJ,WAAYxiB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKsP,SAAS,CAAEG,SAAS,IADlB,kBAGC3L,EAAIwC,iBAAiB,EAAKxG,MAAMoE,KAAKmC,cAHtC,OAKL,EAAKiJ,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBN,qDAqBL9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvBzC,wBAwBHyH,QAAMC,gBAAgB,CACpBnO,MAAO,2BACPoO,QAAS,sLACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK3P,MAAQ,CACXiP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,wCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,sBAAKrP,UAAU,YAAf,UACG,mEADH,KACuC,4BAAIgB,KAAKZ,MAAMoE,KAAKwB,aAD3D,KAC6E,UAG/E,eAACkJ,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GA/ENlQ,IAAMK,WAsF5Boe,G,kDACJ,WAAYle,GAAQ,IAAD,8BACjB,cAAMA,IAQRme,SAAW,WACT,MAAwB,QAApB,EAAKne,MAAMiC,KACN,4BAEe,SAApB,EAAKjC,MAAMiC,KACN,6BAEF,kCAhBU,EAmBnBmc,UAAY,WACV,MAAwB,QAApB,EAAKpe,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK4D,cAAtB,qBAEe,SAApB,EAAK3F,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKuE,eAAtB,sBAEF,MA1BU,EA4BnBkd,aAAe,WACb,OAA0C,IAAtC,EAAKxjB,MAAMoE,KAAKwB,WAAWlD,QAC7BmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,4EACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEL,EAAKrQ,MAAMoE,KAAK4B,qBAAuB,EAAKhG,MAAMoE,KAAK0B,oBACzD+J,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,qHACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEL,EAAKrQ,MAAMoE,KAAK8B,qBAAuB,EAAKlG,MAAMoE,KAAK4B,qBACzD6J,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,qHACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,KAEL,EAAKrQ,MAAMoE,KAAKgC,sBAAwB,EAAKpG,MAAMoE,KAAK8B,uBAC1D2J,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,qHACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAvFQ,EA2FnB1K,cA3FmB,sBA2FH,sBAAAzF,EAAA,yDACT,EAAKsjB,eADI,wDAId,EAAKhU,SAAS,CAAEG,SAAS,IAJX,kBAMN3L,EAAI2B,cAAc,EAAK3F,MAAMoE,MANvB,OAQZ,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,6CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UAtBC,kDAwBZ9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApC3B,0DA3FG,EAoInB/J,eApImB,sBAoIF,sBAAApG,EAAA,yDACV,EAAKsjB,eADK,wDAIf,EAAKhU,SAAS,CAAEG,SAAS,IAJV,kBAMP3L,EAAIsC,eAAe,EAAKtG,MAAMoE,MANvB,OAQb,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,8CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UAtBE,kDAwBb9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApC1B,0DApIE,EA6KnBuM,MAAQ,WACF,EAAK5c,MAAM6Z,OACb,EAAKrK,SAAS,CACZ8K,aAAa,IAGf,EAAKta,MAAM4c,SAnLI,EAuLnB0B,SAAW,WACT,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SAzLM,EA4LnBzN,cAAgB,SAACC,GAEf,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAlMF,EAqMnBiW,aAAe,WACb,EAAK7K,SAAS,CACZ8K,aAAa,KArMf,EAAK5Z,MAAQ,CACX4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALM,E,0CA2MnB,WAAU,IAAD,OAEP,OACE,gCACE,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACE,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACE,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAErB,eAACrP,EAAA,EAAMG,KAAP,WACGrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACrB,qBAAK/R,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM2P,SACX,qBAAK/P,UAAU,kBAAf,SACE,eAAC8e,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,8BACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKwB,WACvBkL,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,UAIzB,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,8DAGA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAK0B,mBAC1BgL,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,qBAAsB0I,MAAOA,MACrF0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,YAK3B,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDAGA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAK4B,oBAC1B8K,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,sBAAuB0I,MAAOA,MACtF0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,YAK3B,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,8DAGA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAK8B,oBAC1B4K,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,sBAAuB0I,MAAOA,MACtF0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,YAK3B,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDAGA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAKgC,qBAC1B0K,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,uBAAwB0I,MAAOA,MACvF0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,YAK3B,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BAGA,cAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,WACH9O,YAAY,0BACZrF,MAAO1O,KAAKZ,MAAMoE,KAAKiC,YACvBO,KAAK,cACLkK,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,kBAOjC,eAAC6M,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAIV,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,iCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,qBAAKrP,UAAU,YAAf,SACGgB,KAAKF,MAAMqP,YAGhB,eAACjB,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGJ,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GA7UblQ,IAAMK,WAoVZmR,eAAWgS,ICltBpBS,I,yDACF,WAAY1jB,GAAQ,IAAD,8BACf,cAAMA,IAwFVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA1FJ,EA6FnBkC,QA7FmB,uCA6FT,WAAO7N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAI4H,wBAAwBnG,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHlJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACVG,SAAS,EACTsJ,sBAAuB/U,EAAIE,KAAKmN,OAAOnN,KACvC+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAR9B,mDAYF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDA7FS,4DAoJnB0Q,cApJmB,uCAoJH,WAAO3R,GAAP,SAAAlP,EAAA,6DACZ,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CApJG,wDAwJnB+Q,WAxJmB,uCAwJN,WAAO5a,GAAP,SAAAvF,EAAA,sEACH,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SAD3B,2CAxJM,wDA4JnB8P,iBAAmB,WAGf,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,YAClB7B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8C7H,EAAK6H,GAA7CjK,EAAN,EAAMA,UAAWlB,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BmL,EAAQnD,KAAK,CACT7J,KAAM8B,EAAc,MAAQD,EAC5B6G,MAAO1F,IAGf,OAAOgK,GAtKQ,EAyKnBF,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAnLQ,EAsLnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GAhMQ,EAmMnBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KAvMlB,EA0MnBwG,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eA7ME,EAqOnBxC,qBAAuB,WACnB,EAAK2D,SAAS,CACVmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACP/W,QAAS,EAAKtG,MAAMmK,gBAAgB7D,QACpCpH,UAAW,GACXgG,WAAY,GACZW,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCkC,YAAa,GACbmB,UAAW,KACXlB,YAAa,GACbib,oBAAqB,MAnPd,EAwPnB7X,wBAA0B,SAACoL,GACvB,IAAI1D,EAAoB,EAAK9S,MAAMuY,sBAAsB/B,GACzD,EAAK1H,SAAS,CACVoS,YAAY,EACZ7D,UAAU,eACHvK,MA7PI,EAkQnB6O,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KAnQb,EAsQnB5D,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KArQ3B,EAAKjd,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACXE,YAAa,GACbwD,sBAAuB,GACvBtY,SAAU,OACVkK,gBAAiB,GAGjBnF,QAAS,GACTya,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACToO,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACdkC,YAAa,GACbmB,UAAW,KACXlB,YAAa,GACbib,oBAAqB,GAEzBhG,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb8D,YAAY,GA/BD,E,4FAmCnB,sCAAA1hB,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK6DjM,QAAQ6P,IAAI,CAC7DvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAIiE,eAAe,EAAG,OARlC,2CAKa0L,EALb,KAK6B4B,EAL7B,KAKwCE,EALxC,KAUY5K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FS,QAASuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAE3CpG,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCqR,YAAaA,EAAYrR,KAAKmN,OAAOnN,KACrCyG,gBAAiBA,IAlB7B,UAoBcjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,GApBlD,6DAsBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAxBzC,wBAyBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCrD,2BAuCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjDjD,0D,gFAsGA,WACI,IAAIxF,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,aACzCS,QAASpG,KAAKF,MAAMmK,gBAAgB7D,SAExCpG,KAAK4O,SAAS,CACV3E,gBAAiBA,IAErBjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,K,6BAkExC,WAAmB,IAAD,OACVmW,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMuY,sBAAsBhC,KAAI,SAAC7S,EAAM8S,GAC/C,IAAQzO,EAA2DrE,EAA3DqE,YAAaC,EAA8CtE,EAA9CsE,YAAaM,EAAiC5E,EAAjC4E,YAAaH,EAAoBzE,EAApByE,OAAQF,EAAYvE,EAAZuE,QACvD,OACI,+BACI,6BAAKqY,EAAU9J,IACf,6BAAKzO,IACL,6BAAKC,IACL,6BAAK,EAAK2I,WAAW,IAAIrD,KAAKhF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,IACL,oBAAI/I,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK+J,wBAAwBoL,UAP5EA,Q,oBAiDrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,QACdI,oBAAqB9S,KAAK8S,oBAC1B8B,iBAAkB5U,KAAK4U,iBACvBF,eAAgB1U,KAAK0U,iBAEzB,cAAC,GAAD,CACIvG,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,4EAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAK+f,gBAA/E,UACI,cAAC,IAAD,CAAW1gB,KAAMR,KAAKF,MAAMC,WADhC,6BAGA,yBAAQqP,KAAK,SAASpQ,UAAU,8BAA8BmC,QAASnB,KAAKiL,qBAA5E,UACI,cAAC,KAAD,CAAUzK,KAAMR,KAAKF,MAAMC,WAD/B,2CAGA,uBAAOf,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAKhB,qBAAK1P,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOhV,UAAU,OAAjB,4BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK4U,mBACdjB,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBjB,UAClCkH,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAASpQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKuR,WAArF,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,6DACA,gDACA,8CACA,mDACA,wDACA,6BACI,cAAC,IAAD,WAIZ,gCACKgB,KAAKoU,yBAIlB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,yB,GA/YxDvgB,cAwZ1B0iB,G,kDACF,WAAYxiB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKsP,SAAS,CAAEG,SAAS,IADpB,kBAGK3L,EAAI8H,wBAAwB,EAAK9L,MAAMoE,KAAKuf,qBAHjD,OAKD,EAAKnU,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,mEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBV,kDAqBD9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK3P,MAAQ,CACTiP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,wCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,sBAAKrP,UAAU,YAAf,UACK,+DADL,IACyC,kCAAKgB,KAAKZ,MAAMoE,KAAKsE,YAArB,OADzC,IACiF,6BAGrF,eAACoG,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GAhEdlQ,IAAMK,WAuE5Boe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,wCAEa,SAApB,EAAKjC,MAAMiC,KACJ,yCAEJ,8CAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK8J,qBAAtB,qBAEa,SAApB,EAAK7L,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK0gB,uBAAtB,sBAEJ,MA1BQ,EA6BnB5W,qBA7BmB,sBA6BI,sBAAA3L,EAAA,6DACnB,EAAKsP,SAAS,CAAEG,SAAS,IADN,kBAGT3L,EAAI6H,qBAAqB,EAAK7L,MAAMoE,MAH3B,OAKf,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,iEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UAnBI,qDAqBf9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvB/B,wBAwBXyH,QAAMC,gBAAgB,CAClBnO,MAAO,6BACPoO,QAAS,sHACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlC9B,2BAsCfR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhD1B,0DA7BJ,EAkFnBuM,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAxFA,EA4FnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA9FI,EAiGnBzN,cAAgB,SAACC,GACb5O,QAAQC,IAAI2O,GACZ,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAvGJ,EA0GnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KA1GjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CAgHnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,sBAAK/P,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAM0T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,eAAgB0I,MAAOsF,MAC7EtF,MAAO1O,KAAKZ,MAAMoE,KAAKmC,oBAInC,sBAAK3G,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMsV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,UAAW0I,MAAOsF,MACxEtF,MAAO1O,KAAKZ,MAAMoE,KAAK4C,eAInC,sBAAKpH,UAAU,aAAf,UACI,kDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMwV,mBACpBjB,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAOsF,MAC1EtF,MAAO1O,KAAKZ,MAAMoE,KAAKwF,uBAO/C,eAACkF,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GArMrBlQ,IAAMK,WA2MZmR,eAAWyS,IC/qBpBE,G,kDACF,WAAY5jB,GAAQ,IAAD,8BACf,cAAMA,IAmEVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UArEJ,EAwEnBkC,QAxEmB,uCAwET,WAAOzI,GAAP,iBAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,iBAHpF,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACRuR,EAAcvR,EAAIE,KAAKmN,OAAOnN,KAClC,EAAK1D,MAAMmjB,aAAanhB,OAAS+S,EAAY/S,OAC7C,EAAKhC,MAAMmjB,aAAaC,MAAK,GAC7B,EAAKtU,SAAS,CACVG,SAAS,EACT8F,YAAaA,EACboO,aAAc,EAAKnjB,MAAMmjB,eAX3B,qDAcFrjB,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAhB/B,wBAiBE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA3B3C,2BA+BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzCvC,0DAxES,wDAsHnBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAhIQ,EAmInBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KAvIlB,EA0InByK,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GApJQ,EAuJnBvC,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eA1JE,EAgKnB0V,MAAQ,SAAC7M,GACL,IAAI2M,EAAe,EAAKnjB,MAAMmjB,aAC9BA,EAAa3M,IAAS,EACtB,EAAK1H,SAAS,CACVqU,aAAcA,KApKH,EAwKnBG,QAAU,SAAC9M,GACP,IAAI2M,EAAe,EAAKnjB,MAAMmjB,aAC9BA,EAAa3M,IAAS,EACtB,EAAK1H,SAAS,CACVqU,aAAcA,KA5KH,EAgLnBI,SAAW,WACP,IAAIJ,EAAe,EAAKnjB,MAAMmjB,aAC9BA,EAAaC,MAAK,GAClB,EAAKtU,SAAS,CACVqU,aAAcA,KApLH,EAwLnBK,WAAa,WACT,IAAIL,EAAe,EAAKnjB,MAAMmjB,aAC9BA,EAAaC,MAAK,GAClB,EAAKtU,SAAS,CACVqU,aAAcA,KA5LH,EAyNnB9X,aAzNmB,sBAyNJ,kCAAA7L,EAAA,sDAMP,IALJ,EAAKsP,SAAS,CAAE2U,cAAc,IADnB,SAGH1O,EAAc,EAAK/U,MAAM+U,YACzBoO,EAAe,EAAKnjB,MAAMmjB,aAC1B7X,EAAO,GACF6H,EAAI,EAAGA,EAAI4B,EAAY/S,OAAQmR,IAChCgQ,EAAahQ,IACb7H,EAAKyE,KAAK,CACN7G,UAAW6L,EAAY5B,GAAGjK,UAC1B5C,QAAS,EAAKtG,MAAM0jB,WACpB7d,aAAc,EAAK7F,MAAM2jB,kBAX9B,GAea,IAAhBrY,EAAKtJ,OAfF,uBAgBH,EAAK8M,SAAS,CAAE2U,cAAc,IAhB3B,2CAmBDngB,EAAI+H,aAAaC,GAnBhB,QAoBP6D,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,iDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAGzC,EAAKb,SAAS,CACV2U,cAAc,IAlCX,qDAsCP3jB,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAE2U,cAAc,KAC1B,KAAIvgB,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAxCvC,wBAyCHyH,QAAMC,gBAAgB,CAClBnO,MAAO,0CACPoO,QAAS,2JACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnDtC,2BAuDPR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjElC,0DAvNX,EAAK3P,MAAQ,CACTiT,eAAgB,GAChB0Q,gBAAiB,EACjB9O,UAAW,GACX6O,WAAY,EACZ3O,YAAa,GACboO,aAAc,GACdljB,SAAU,OACVkK,gBAAiB,IAVN,E,4FAcnB,oCAAA3K,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAKgDjM,QAAQ6P,IAAI,CAChDvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,OAPhC,oCAKaiN,EALb,KAK6B4B,EAL7B,KASY1K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FS,QAASuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAE3CpG,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCyG,gBAAiBA,EACjBwZ,gBAAiB1Q,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC7F6d,WAAY7O,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,QAC1C2I,SAAS,IAnBrB,qDAsBQnP,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAxBzC,wBAyBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCrD,2BAuCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjDjD,0D,mFAkLA,WAAmB,IAAD,OAEd,OAAOzP,KAAKF,MAAM+U,YAAYwB,KAAI,SAAC7S,EAAM8S,GACrC,IAAQzO,EAA2DrE,EAA3DqE,YAAaC,EAA8CtE,EAA9CsE,YAAaM,EAAiC5E,EAAjC4E,YAAaH,EAAoBzE,EAApByE,OAAQF,EAAYvE,EAAZuE,QACvD,OACI,+BACI,6BACI,uBACIqH,KAAK,WACLpQ,UAAU,sBACV0kB,QAAS,EAAK5jB,MAAMmjB,aAAa3M,GACjCnV,QAAS,kBAAM,EAAKrB,MAAMmjB,aAAa3M,GAAS,EAAK8M,QAAQ9M,GAAS,EAAK6M,MAAM7M,QAGzF,6BAbE,EAaaA,IACf,6BAAKzO,IACL,6BAAKC,IACL,6BAAK,EAAK2I,WAAW,IAAIrD,KAAKhF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,MAdAuO,Q,oBA2FrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,EAAD,CAASmP,KAAMnO,KAAKF,MAAMyjB,eAC1B,qBAAKvkB,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,gDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,6EACA,qBAAKxP,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOhV,UAAU,OAAjB,gCACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,wBAAQ5E,KAAK,SAASpQ,UAAU,8BAA8BmC,QAAS,WAAQ,EAAKuR,WAApF,uBAMZ,uBACmC,IAAlC1S,KAAKF,MAAM+U,YAAY/S,QACpB,qBAAK9C,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,wBAAOA,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,6BACI,uBACIoQ,KAAK,WACLpQ,UAAU,sBACV0kB,SAAqD,IAA5C1jB,KAAKF,MAAMmjB,aAAaU,SAAQ,GACzCxiB,QAAS,kBAAkD,IAA5C,EAAKrB,MAAMmjB,aAAaU,SAAQ,GAAgB,EAAKL,aAAe,EAAKD,gBAGhG,qCACA,6DACA,gDACA,8CACA,mDACA,6DAGR,gCACKrjB,KAAKoU,2BAMS,IAAlCpU,KAAKF,MAAM+U,YAAY/S,QACpB,qBAAK9C,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,oFACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAM0jB,WAClBtT,SAAU,SAAA8D,GAAC,OAAI,EAAKpF,SAAS,CAAE4U,WAAYxP,SAGnD,uBAAOhV,UAAU,OAAjB,gCACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAM2jB,gBAClBvT,SAAU,SAAA8D,GAAC,OAAI,EAAKpF,SAAS,CAAE6U,gBAAiBzP,SAGxD,wBAAQ5E,KAAK,SAASpQ,UAAU,8BAA8BmC,QAAS,WAAQ,EAAKgK,gBAApF,uD,GArZJjM,aAiabmR,eAAW2S,IC1aLY,G,4JACjB,WACI,OACI,qBAAK5kB,UAAU,oCAAf,SACI,qBAAKA,UAAU,sCAAf,SACI,oBAAIA,UAAU,oBAAd,gE,GALiBH,IAAMK,WCkBrC2kB,G,kDACJ,WAAYzkB,GAAQ,IAAD,8BACjB,cAAMA,IA6BRmR,KAAO,WACL,EAAKnR,MAAMwQ,QAAQY,UA/BF,EAkCnBkC,QAlCmB,uCAkCT,WAAO7N,EAAMC,EAASgf,GAAtB,eAAAxkB,EAAA,yDACR,EAAKsP,SAAS,CAAEG,SAAS,IADjB,UAIF+U,IAAe,EAAKhkB,MAAMgkB,YAJxB,gCAKQ1gB,EAAI2C,kBAAkBlB,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASgf,GAAe,EAAKhkB,MAAMgkB,aALlI,OAKJxgB,EALI,+CAOQF,EAAI0C,aAAajB,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAP1F,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CAAEG,SAAS,EAAO4F,UAAWrR,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAVvF,qDAaN3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJ8L,QAAMC,gBAAgB,CACpBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DAlCS,4DA+EnB0Q,cA/EmB,uCA+EH,WAAO3R,GAAP,SAAAlP,EAAA,6DACd,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA/EG,wDAmFnB+Q,WAnFmB,uCAmFN,WAAO5a,GAAP,SAAAvF,EAAA,sEACL,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SADzB,2CAnFM,wDAmHnBmB,SAAW,WACT,EAAK2I,SAAS,CACZmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACT/W,QAAS,EACTpH,UAAW,GACXkH,UAAW,GACXT,YAAa,OA7HA,EAkInBU,UAlImB,uCAkIP,WAAOmQ,GAAP,eAAAhX,EAAA,sDACN4V,EAAS,EAAKpV,MAAM6U,UAAU2B,GAClC,EAAK1H,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLjI,KARG,2CAlIO,wDA+InB7O,YAAc,SAACiQ,GACb,IAAIpB,EAAS,EAAKpV,MAAM6U,UAAU2B,GAClC,EAAK1H,SAAS,CACZoS,YAAY,EACZ7D,UAAU,eACLjI,MApJU,EAyJnBoN,SAAW,SAAChM,GACV,IAAIpB,EAAS,EAAKpV,MAAM6U,UAAU2B,GAClC,EAAK1H,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLjI,MAjKU,EAsKnBuM,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KAvKX,EA0KnB5D,WAAa,WACX,EAAKxO,SAAS,CAAEmO,WAAW,KAzK3B,EAAKjd,MAAQ,CAEX6U,UAAW,GACX7P,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZzC,UAAW,CACT/W,QAAS,EACTpH,UAAW,GACXkH,UAAW,GACXT,YAAa,IAEfsX,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IArBE,E,4FAyBnB,sBAAAxkB,EAAA,6DACEU,KAAK4O,SAAS,CAAEG,SAAS,IAD3B,SAEQ/O,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SAFnC,gD,qFA8DA,WACE,OACE,+BACE,qCACA,gDACA,iDACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKlC,WAAmB,IAAD,OACZohB,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAM6U,UAAU0B,KAAI,SAAC4K,EAAM3K,GACrC,IAAQpQ,EAAyB+a,EAAzB/a,UAAWlH,EAAciiB,EAAdjiB,UACnB,OACE,+BACE,6BAAKohB,EAAU9J,IACf,6BAAKpQ,IACL,6BAAI,sBAAMlH,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGtX,MACvG,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKkF,YAAYiQ,QACrE,oBAAItX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKgF,UAAUmQ,UALhEA,Q,oBAsEf,WAAU,IAAD,OACP,OAAItW,KAAKF,MAAMiP,QAEX,qBAAK/P,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEmP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAEhB,cAAC,GAAD,CACEvE,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAEhB,qBAAK1T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE5C,qBAAKvR,UAAU,4BAAf,kEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKuR,WAApE,SACE,sBAAK1T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAASnB,KAAKiG,SAA9D,SACE,sBAAKjH,UAAU,SAAf,UACE,4DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK1P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe+U,YAAY,mBAAWrF,MAAO1O,KAAKF,MAAMgkB,YAAa5T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEkV,YAAatV,EAAEC,OAAOC,WACvJ,qBAAK1P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBoQ,KAAK,SAASjO,QAAS,kBAAM,EAAKuR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKlR,MAAO,CAAEif,UAAW,SAAzB,SACE,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO3jB,UAAU,eAAjB,SACGgB,KAAKye,sBAER,gCAAQze,KAAKoU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,oB,GArRpD5gB,IAAMK,WA2RpB0iB,G,kDACJ,WAAYxiB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKsP,SAAS,CAAEG,SAAS,IADlB,kBAGC3L,EAAIiD,YAAY,EAAKjH,MAAMoE,KAAK4C,SAHjC,OAKL,EAAKwI,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBN,qDAqBL9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvBzC,wBAwBHyH,QAAMC,gBAAgB,CACpBnO,MAAO,2BACPoO,QAAS,2MACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK3P,MAAQ,CACXiP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,wCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,sBAAKrP,UAAU,YAAf,UACG,mEADH,IACsC,kCAAKgB,KAAKZ,MAAMoE,KAAKxE,UAArB,OADtC,IAC4E,UAG9E,eAACkP,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GA/ENlQ,IAAMK,WAsF5Boe,G,kDACJ,WAAYle,GAAQ,IAAD,8BACjB,cAAMA,IAQRme,SAAW,WACT,MAAwB,QAApB,EAAKne,MAAMiC,KACN,4BAEe,SAApB,EAAKjC,MAAMiC,KACN,6BAEF,kCAhBU,EAmBnBmc,UAAY,WACV,MAAwB,QAApB,EAAKpe,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK8E,SAAtB,qBAEe,SAApB,EAAK7G,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKgF,UAAtB,sBAEF,MA1BU,EA4BnByc,aAAe,WAab,IAZsBmB,EActB,MAFe,qBAEHC,KAbE,QADQD,EAcQ,EAAK3kB,MAAMoE,KAAKxE,iBAbhB8V,IAARiP,EAA0BA,EAQ9CA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIE,eACAjS,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,QAIX,iBAgBHgS,KAAK,EAAK5kB,MAAMoE,KAAK0C,aAC/B+I,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,+HACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA3BPR,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,6CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAxDQ,EA4EnBxJ,SA5EmB,sBA4ER,sBAAA3G,EAAA,yDACJ,EAAKsjB,eADD,wDAIT,EAAKhU,SAAS,CAAEG,SAAS,IAJhB,kBAMD3L,EAAI6C,SAAS,EAAK7G,MAAMoE,MANvB,OAQP,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,6CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UAtBJ,kDAwBP9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApChC,0DA5EQ,EAqHnBtJ,UArHmB,sBAqHP,sBAAA7G,EAAA,yDACL,EAAKsjB,eADA,wDAIV,EAAKhU,SAAS,CAAEG,SAAS,IAJf,kBAMF3L,EAAI+C,UAAU,EAAK/G,MAAMoE,MANvB,OAQR,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,8CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UAtBH,kDAwBR9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApC/B,0DArHO,EA8JnBuM,MAAQ,WACF,EAAK5c,MAAM6Z,OACb,EAAKrK,SAAS,CACZ8K,aAAa,IAGf,EAAKta,MAAM4c,SApKI,EAwKnB0B,SAAW,WACT,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA1KM,EA6KnBzN,cAAgB,SAACC,GAEf,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAnLF,EAsLnBiW,aAAe,WACb,EAAK7K,SAAS,CACZ8K,aAAa,KAtLf,EAAK5Z,MAAQ,CACX4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALM,E,0CA4LnB,WAEE,OACE,gCACE,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACE,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACE,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAErB,eAACrP,EAAA,EAAMG,KAAP,WACGrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACrB,qBAAK/R,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM2P,SACX,qBAAK/P,UAAU,kBAAf,SACE,eAAC8e,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,uCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,qCACZ/N,KAAK,YACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKxE,UACvBkR,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,UAGzB,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,sCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,oCACZ/N,KAAK,YACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK0C,UACvBgK,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,UAGzB,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,WACH9O,YAAY,0BACZrF,MAAO1O,KAAKZ,MAAMoE,KAAKiC,YACvBO,KAAK,cACLkK,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,kBAOjC,eAAC6M,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAIV,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,iCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,qBAAKrP,UAAU,YAAf,SACGgB,KAAKF,MAAMqP,YAGhB,eAACjB,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGJ,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GA1QblQ,IAAMK,WAgRZmR,eAAWwT,ICjoBpBK,G,kDACJ,WAAY9kB,GAAQ,IAAD,8BACjB,cAAMA,IA6BRmR,KAAO,WACL,EAAKnR,MAAMwQ,QAAQY,UA/BF,EAkCnBkC,QAlCmB,uCAkCT,WAAO7N,EAAMC,EAASgf,GAAtB,eAAAxkB,EAAA,yDACR,EAAKsP,SAAS,CAAEG,SAAS,IADjB,UAIF+U,IAAe,EAAKhkB,MAAMgkB,YAJxB,gCAKQ1gB,EAAImD,oBAAoB1B,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASgf,GAAe,EAAKhkB,MAAMgkB,aALpI,OAKJxgB,EALI,+CAOQF,EAAIkD,eAAezB,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAP5F,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CAAEG,SAAS,EAAOuS,YAAahe,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAVzF,qDAaN3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJ8L,QAAMC,gBAAgB,CACpBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DAlCS,4DA+EnB0Q,cA/EmB,uCA+EH,WAAO3R,GAAP,SAAAlP,EAAA,6DACd,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA/EG,wDAmFnB+Q,WAnFmB,uCAmFN,WAAO5a,GAAP,SAAAvF,EAAA,sEACL,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SADzB,2CAnFM,wDAmHnB0B,WAAa,WACX,EAAKoI,SAAS,CACZmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTvW,UAAW,EACXH,YAAa,GACbC,YAAa,GACbjB,YAAa,OA7HA,EAkInBkB,YAlImB,uCAkIL,WAAO2P,GAAP,eAAAhX,EAAA,sDACR6kB,EAAU,EAAKrkB,MAAMwhB,YAAYhL,GACrC,EAAK1H,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLgH,KARK,2CAlIK,wDA+InBtd,cAAgB,SAACyP,GACf,IAAI6N,EAAU,EAAKrkB,MAAMwhB,YAAYhL,GACrC,EAAK1H,SAAS,CACZoS,YAAY,EACZ7D,UAAU,eACLgH,MApJU,EAyJnB7B,SAAW,SAAChM,GACV,IAAI6N,EAAU,EAAKrkB,MAAMwhB,YAAYhL,GACrC,EAAK1H,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLgH,MAjKU,EAsKnB1C,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KAvKX,EA0KnB5D,WAAa,WACX,EAAKxO,SAAS,CAAEmO,WAAW,KAzK3B,EAAKjd,MAAQ,CAEXwhB,YAAa,GACbxc,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZzC,UAAW,CACTvW,UAAW,EACXH,YAAa,GACbC,YAAa,GACbjB,YAAa,IAEfsX,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IArBE,E,4FAyBnB,sBAAAxkB,EAAA,6DACEU,KAAK4O,SAAS,CAAEG,SAAS,IAD3B,SAEQ/O,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SAFnC,gD,qFA8DA,WACE,OACE,+BACE,qCACA,uDACA,wDACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKlC,WAAmB,IAAD,OACZohB,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMwhB,YAAYjL,KAAI,SAAC7S,EAAM8S,GACvC,IAAQ5P,EAA6BlD,EAA7BkD,YAAaD,EAAgBjD,EAAhBiD,YACrB,OACE,+BACE,6BAAK2Z,EAAU9J,IACf,6BAAK5P,IACL,6BAAI,sBAAM1H,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmG7P,MACvG,oBAAIzH,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK0F,cAAcyP,QACvE,oBAAItX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKwF,YAAY2P,UALlEA,Q,oBAsEf,WAAU,IAAD,OACP,OAAItW,KAAKF,MAAMiP,QAEX,qBAAK/P,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEmP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAEhB,cAAC,GAAD,CACEvE,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAEhB,qBAAK1T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE5C,qBAAKvR,UAAU,4BAAf,gEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKuR,WAApE,SACE,sBAAK1T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAASnB,KAAKwG,WAA9D,SACE,sBAAKxH,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK1P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe+U,YAAY,mBAAWrF,MAAO1O,KAAKF,MAAMgkB,YAAa5T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEkV,YAAatV,EAAEC,OAAOC,WACvJ,qBAAK1P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBoQ,KAAK,SAASjO,QAAS,kBAAM,EAAKuR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKlR,MAAO,CAAEif,UAAW,SAAzB,SACE,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO3jB,UAAU,eAAjB,SACGgB,KAAKye,sBAER,gCAAQze,KAAKoU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,oB,GArRlD5gB,IAAMK,WA2RtB0iB,G,kDACJ,WAAYxiB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKsP,SAAS,CAAEG,SAAS,IADlB,kBAGC3L,EAAIyD,cAAc,EAAKzH,MAAMoE,KAAKoD,WAHnC,OAKL,EAAKgI,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,0CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBN,qDAqBL9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvBzC,wBAwBHyH,QAAMC,gBAAgB,CACpBnO,MAAO,2BACPoO,QAAS,uMACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK3P,MAAQ,CACXiP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,wCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,sBAAKrP,UAAU,YAAf,UACG,iEADH,IACsC,kCAAKgB,KAAKZ,MAAMoE,KAAKiD,YAArB,OADtC,IAC8E,UAGhF,eAACyH,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GA/ENlQ,IAAMK,WAsF5Boe,G,kDACJ,WAAYle,GAAQ,IAAD,8BACjB,cAAMA,IAQRme,SAAW,WACT,MAAwB,QAApB,EAAKne,MAAMiC,KACN,0BAEe,SAApB,EAAKjC,MAAMiC,KACN,2BAEF,gCAhBU,EAmBnBmc,UAAY,WACV,MAAwB,QAApB,EAAKpe,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKqF,WAAtB,qBAEe,SAApB,EAAKpH,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKwF,YAAtB,sBAEF,MA1BU,EA4BnBic,aAAe,WAab,IAZsBmB,EActB,MAFe,qBAEHC,KAbE,QADQD,EAcQ,EAAK3kB,MAAMoE,KAAKiD,mBAbhBqO,IAARiP,EAA0BA,EAQ9CA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIE,eACAjS,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,QAIX,iBAgBHgS,KAAK,EAAK5kB,MAAMoE,KAAKkD,eAC/BuI,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,6HACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA3BPR,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAxDQ,EA4EnBjJ,WA5EmB,sBA4EN,sBAAAlH,EAAA,yDACN,EAAKsjB,eADC,wDAIX,EAAKhU,SAAS,CAAEG,SAAS,IAJd,kBAMH3L,EAAIoD,WAAW,EAAKpH,MAAMoE,MANvB,OAQT,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,2CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UAtBF,kDAwBT9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IAEzBE,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArC9B,0DA5EM,EAsHnB9I,YAtHmB,sBAsHL,sBAAArH,EAAA,yDACP,EAAKsjB,eADE,wDAIZ,EAAKhU,SAAS,CAAEG,SAAS,IAJb,kBAMJ3L,EAAIuD,YAAY,EAAKvH,MAAMoE,MANvB,OAQV,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UAtBD,kDAwBV9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApC7B,0DAtHK,EA+JnBuM,MAAQ,WACF,EAAK5c,MAAM6Z,OACb,EAAKrK,SAAS,CACZ8K,aAAa,IAGf,EAAKta,MAAM4c,SArKI,EAyKnB0B,SAAW,WACT,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA3KM,EA8KnBzN,cAAgB,SAACC,GAEf,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IApLF,EAuLnBiW,aAAe,WACb,EAAK7K,SAAS,CACZ8K,aAAa,KAvLf,EAAK5Z,MAAQ,CACX4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALM,E,0CA6LnB,WAEE,OACE,gCACE,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACE,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACE,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAErB,eAACrP,EAAA,EAAMG,KAAP,WACGrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACrB,qBAAK/R,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM2P,SACX,qBAAK/P,UAAU,kBAAf,SACE,eAAC8e,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,mCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiD,YACvByJ,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,UAGzB,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,oCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,kCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKkD,YACvBwJ,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,UAGzB,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,WACH9O,YAAY,0BACZrF,MAAO1O,KAAKZ,MAAMoE,KAAKiC,YACvBO,KAAK,cACLkK,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,kBAOjC,eAAC6M,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAIV,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,iCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,qBAAKrP,UAAU,YAAf,SACGgB,KAAKF,MAAMqP,YAGhB,eAACjB,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGJ,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GA3QblQ,IAAMK,WAiRZmR,eAAW6T,ICloBpBE,G,kDACJ,WAAYhlB,GAAQ,IAAD,8BACjB,cAAMA,IA4BRmR,KAAO,WACL,EAAKnR,MAAMwQ,QAAQY,UA9BF,EAiCnBkC,QAjCmB,uCAiCT,WAAO7N,EAAMC,EAASgf,GAAtB,eAAAxkB,EAAA,yDACR,EAAKsP,SAAS,CAAEG,SAAS,IADjB,UAIF+U,IAAe,EAAKhkB,MAAMgkB,YAJxB,gCAKQ1gB,EAAI2D,2BAA2BlC,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASgf,GAAe,EAAKhkB,MAAMgkB,aAL3I,OAKJxgB,EALI,+CAOQF,EAAI0D,sBAAsBjC,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAPnG,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CAAEG,SAAS,EAAOkT,mBAAoB3e,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAVhG,qDAaN3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJ8L,QAAMC,gBAAgB,CACpBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DAjCS,4DA8EnB0Q,cA9EmB,uCA8EH,WAAO3R,GAAP,SAAAlP,EAAA,6DACd,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA9EG,wDAkFnB+Q,WAlFmB,uCAkFN,WAAO5a,GAAP,SAAAvF,EAAA,sEACL,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SADzB,2CAlFM,wDAgHnBkC,kBAAoB,WAClB,EAAK4H,SAAS,CACZmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACThW,iBAAkB,EAClBF,eAAgB,GAChBxB,YAAa,OAzHA,EA8HnByB,mBA9HmB,uCA8HE,WAAOoP,GAAP,eAAAhX,EAAA,sDACf+kB,EAAiB,EAAKvkB,MAAMmiB,mBAAmB3L,GACnD,EAAK1H,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLkH,KARY,2CA9HF,wDA2InBjd,qBAAuB,SAACkP,GACtB,IAAI+N,EAAiB,EAAKvkB,MAAMmiB,mBAAmB3L,GACnD,EAAK1H,SAAS,CACZoS,YAAY,EACZ7D,UAAU,eACLkH,MAhJU,EAqJnB/B,SAAW,SAAChM,GACV,IAAI+N,EAAiB,EAAKvkB,MAAMmiB,mBAAmB3L,GACnD,EAAK1H,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLkH,MA7JU,EAkKnB5C,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KAnKX,EAsKnB5D,WAAa,WACX,EAAKxO,SAAS,CAAEmO,WAAW,KArK3B,EAAKjd,MAAQ,CAEXmiB,mBAAoB,GACpBnd,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZzC,UAAW,CACThW,iBAAkB,EAClBF,eAAgB,GAChBxB,YAAa,IAEfsX,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IApBE,E,4FAwBnB,sBAAAxkB,EAAA,6DACEU,KAAK4O,SAAS,CAAEG,SAAS,IAD3B,SAEQ/O,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SAFnC,gD,qFA8DA,WACE,OACE,+BACE,qCACA,iEACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKlC,WAAmB,IAAD,OACZohB,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMmiB,mBAAmB5L,KAAI,SAACgO,EAAgB/N,GACxD,IAAQrP,EAAmBod,EAAnBpd,eACR,OACE,+BACE,6BAAKmZ,EAAU9J,IACf,6BAAI,sBAAMtX,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGrP,MACvG,oBAAIjI,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKiG,qBAAqBkP,QAC9E,oBAAItX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAK+F,mBAAmBoP,UAJzEA,Q,oBAoEf,WAAU,IAAD,OACP,OAAItW,KAAKF,MAAMiP,QAEX,qBAAK/P,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEmP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAEhB,cAAC,GAAD,CACEvE,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAEhB,qBAAK1T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE5C,qBAAKvR,UAAU,4BAAf,yEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKuR,WAApE,SACE,sBAAK1T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAASnB,KAAKgH,kBAA9D,SACE,sBAAKhI,UAAU,SAAf,UACE,mEAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK1P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe+U,YAAY,mBAAWrF,MAAO1O,KAAKF,MAAMgkB,YAAa5T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEkV,YAAatV,EAAEC,OAAOC,WACvJ,qBAAK1P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBoQ,KAAK,SAASjO,QAAS,kBAAM,EAAKuR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKlR,MAAO,CAAEif,UAAW,SAAzB,SACE,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO3jB,UAAU,eAAjB,SACGgB,KAAKye,sBAER,gCAAQze,KAAKoU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,oB,GAjR3C5gB,IAAMK,WAuR7B0iB,G,kDACJ,WAAYxiB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKsP,SAAS,CAAEG,SAAS,IADlB,kBAGC3L,EAAIgE,qBAAqB,EAAKhI,MAAMoE,KAAK2D,kBAH1C,OAKL,EAAKyH,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,mDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBN,qDAqBL9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvBzC,wBAwBHyH,QAAMC,gBAAgB,CACpBnO,MAAO,2BACPoO,QAAS,uNACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK3P,MAAQ,CACXiP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,wCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,sBAAKrP,UAAU,YAAf,UACG,0EADH,IAC4C,kCAAKgB,KAAKZ,MAAMoE,KAAKyD,eAArB,OAD5C,IACuF,UAGzF,eAACiH,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GA/ENlQ,IAAMK,WAsF5Boe,G,kDACJ,WAAYle,GAAQ,IAAD,8BACjB,cAAMA,IAQRme,SAAW,WACT,MAAwB,QAApB,EAAKne,MAAMiC,KACN,mCAEe,SAApB,EAAKjC,MAAMiC,KACN,oCAEF,yCAhBU,EAmBnBmc,UAAY,WACV,MAAwB,QAApB,EAAKpe,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK6F,kBAAtB,qBAEe,SAApB,EAAK5H,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK+F,mBAAtB,sBAEF,MA1BU,EA4BnB0b,aAAe,WACb,OAA8C,IAA1C,EAAKxjB,MAAMoE,KAAKyD,eAAenF,SACjCmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,mFACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA1CQ,EA8CnBzI,kBA9CmB,sBA8CC,sBAAA1H,EAAA,yDACb,EAAKsjB,eADQ,wDAIlB,EAAKhU,SAAS,CAAEG,SAAS,IAJP,kBAMV3L,EAAI4D,kBAAkB,EAAK5H,MAAMoE,MANvB,OAQhB,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UAtBK,kDAwBhB9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApCvB,0DA9CD,EAuFnBvI,mBAvFmB,sBAuFE,sBAAA5H,EAAA,yDACd,EAAKsjB,eADS,wDAInB,EAAKhU,SAAS,CAAEG,SAAS,IAJN,kBAMX3L,EAAI8D,mBAAmB,EAAK9H,MAAMoE,MANvB,OAQjB,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,qDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UAtBM,kDAwBjB9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApCtB,0DAvFF,EAgInBuM,MAAQ,WACF,EAAK5c,MAAM6Z,OACb,EAAKrK,SAAS,CACZ8K,aAAa,IAGf,EAAKta,MAAM4c,SAtII,EA0InB0B,SAAW,WACT,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA5IM,EA+InBzN,cAAgB,SAACC,GAEf,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IArJF,EAwJnBiW,aAAe,WACb,EAAK7K,SAAS,CACZ8K,aAAa,KAxJf,EAAK5Z,MAAQ,CACX4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALM,E,0CA8JnB,WAEE,OACE,gCACE,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACE,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACE,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAErB,eAACrP,EAAA,EAAMG,KAAP,WACGrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACrB,qBAAK/R,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM2P,SACX,qBAAK/P,UAAU,kBAAf,SACE,eAAC8e,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,8CACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,4CACZ/N,KAAK,iBACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKyD,eACvBiJ,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,UAGzB,eAACyc,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,WACH9O,YAAY,0BACZrF,MAAO1O,KAAKZ,MAAMoE,KAAKiC,YACvBO,KAAK,cACLkK,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,kBAOjC,eAAC6M,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAIV,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,iCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,qBAAKrP,UAAU,YAAf,SACGgB,KAAKF,MAAMqP,YAGhB,eAACjB,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGJ,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GAjOblQ,IAAMK,WAuOZmR,eAAW+T,I,qBChlBpBE,G,kDACJ,WAAYllB,GAAQ,IAAD,8BACjB,cAAMA,IA4CRmR,KAAO,WACL,EAAKnR,MAAMwQ,QAAQY,UA9CF,EAiDnBkC,QAjDmB,uCAiDT,WAAO7N,EAAMC,EAASgf,GAAtB,eAAAxkB,EAAA,yDACR,EAAKsP,SAAS,CAAEG,SAAS,IADjB,UAIF+U,IAAe,EAAKhkB,MAAMgkB,YAJxB,gCAKQ1gB,EAAIqE,oBAAoB5C,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASgf,GAAe,EAAKhkB,MAAMgkB,aALpI,OAKJxgB,EALI,+CAOQF,EAAIiE,eAAexC,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAP5F,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CAAEG,SAAS,EAAO8F,YAAavR,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAVzF,qDAaN3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJ8L,QAAMC,gBAAgB,CACpBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DAjDS,4DA8FnB0Q,cA9FmB,uCA8FH,WAAO3R,GAAP,SAAAlP,EAAA,6DACd,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA9FG,wDAkGnB+Q,WAlGmB,uCAkGN,WAAO5a,GAAP,SAAAvF,EAAA,sEACL,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SADzB,2CAlGM,wDAqHnB2L,WAAa,SAACtD,GACZ,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAxHI,EAiJnB7F,WAAa,WACX,EAAKgH,SAAS,CACZmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTnU,UAAW,EACXnB,YAAa,GACbC,YAAa,GACbC,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,oCACPC,YAAa,IAAIgF,KACjB/E,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI6E,KACjB5E,YAAa,IAAI4E,KACjBlM,YAAa,GACbuH,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,OA3KC,EAgLnBC,YAhLmB,uCAgLL,WAAOuN,GAAP,eAAAhX,EAAA,uDACR6T,EAAU,EAAKrT,MAAM+U,YAAYyB,IAC7BlO,YAAc,IAAIgF,KAAK+F,EAAQ/K,aACvC+K,EAAQ3K,YAAc,IAAI4E,KAAK+F,EAAQ3K,aACvC2K,EAAQ5K,YAAc,IAAI6E,KAAK+F,EAAQ5K,aACvC,EAAKqG,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLhK,KAXK,2CAhLK,wDAgMnBlK,cAAgB,SAACqN,GACf,IAAInD,EAAU,EAAKrT,MAAM+U,YAAYyB,GACrCnD,EAAQ/K,YAAc,IAAIgF,KAAK+F,EAAQ/K,aACvC+K,EAAQ3K,YAAc,IAAI4E,KAAK+F,EAAQ3K,aACvC2K,EAAQ5K,YAAc,IAAI6E,KAAK+F,EAAQ5K,aACvC,EAAKqG,SAAS,CACZoS,YAAY,EACZ7D,UAAU,eACLhK,MAxMU,EA6MnBmP,SAAW,SAAChM,GACV,IAAInD,EAAU,EAAKrT,MAAM+U,YAAYyB,GACrCnD,EAAQ/K,YAAc,IAAIgF,KAAK+F,EAAQ/K,aACvC+K,EAAQ3K,YAAc,IAAI4E,KAAK+F,EAAQ3K,aACvC2K,EAAQ5K,YAAc,IAAI6E,KAAK+F,EAAQ5K,aACvC,EAAKqG,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLhK,MAxNU,EA6NnBsO,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KA9NX,EAiOnB5D,WAAa,WACX,EAAKxO,SAAS,CAAEmO,WAAW,KAhO3B,EAAKjd,MAAQ,CAEX+U,YAAa,GACb/P,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZzC,UAAW,CACTnU,UAAW,EACXnB,YAAa,GACbC,YAAa,GACbC,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,mCACPC,YAAa,IAAIgF,KACjB/E,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI6E,KACjB5E,YAAa,IAAI4E,KACjBlM,YAAa,GACbuH,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,IAEdiU,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IArCE,E,4FAyCnB,sBAAAxkB,EAAA,sEACQU,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SADnC,gD,qFA6DA,WACE,OACE,+BACE,qCACA,6DACA,gDACA,8CACA,mDACA,+CACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAclC,WAAmB,IAAD,OACZohB,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAM+U,YAAYwB,KAAI,SAAC4K,EAAM3K,GACvC,IAAQzO,EAA2DoZ,EAA3DpZ,YAAaC,EAA8CmZ,EAA9CnZ,YAAaM,EAAiC6Y,EAAjC7Y,YAAaH,EAAoBgZ,EAApBhZ,OAAQF,EAAYkZ,EAAZlZ,QACvD,OACE,+BACE,6BAAKqY,EAAU9J,IACf,6BAAKzO,IACL,6BAAI,sBAAM7I,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGxO,MACvG,6BAAK,EAAK2I,WAAW,IAAIrD,KAAKhF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,IACL,oBAAI/I,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK8H,cAAcqN,QACvE,oBAAItX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAK4H,YAAYuN,UARlEA,Q,oBAkGf,WAAU,IAAD,OACP,OAAItW,KAAKF,MAAMiP,QAEX,qBAAK/P,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEmP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAEhB,cAAC,GAAD,CACEvE,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAEhB,qBAAK1T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE5C,qBAAKvR,UAAU,4BAAf,8DAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKuR,WAApE,SACE,sBAAK1T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAASnB,KAAK4H,WAA9D,SACE,sBAAK5I,UAAU,SAAf,UACE,wDAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK1P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe+U,YAAY,mBAAWrF,MAAO1O,KAAKF,MAAMgkB,YAAa5T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEkV,YAAatV,EAAEC,OAAOC,WACvJ,qBAAK1P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBoQ,KAAK,SAASjO,QAAS,kBAAM,EAAKuR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKlR,MAAO,CAAEif,UAAW,SAAzB,SACE,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO3jB,UAAU,eAAjB,SACGgB,KAAKye,sBAER,gCAAQze,KAAKoU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,oB,GA5UlD5gB,IAAMK,WAkVtB0iB,G,kDACJ,WAAYxiB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKsP,SAAS,CAAEG,SAAS,IADlB,kBAGC3L,EAAI6F,cAAc,EAAK7J,MAAMoE,KAAKwF,WAHnC,OAKL,EAAK4F,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,wCACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBN,qDAqBL9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvBzC,wBAwBHyH,QAAMC,gBAAgB,CACpBnO,MAAO,2BACPoO,QAAS,mMACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK3P,MAAQ,CACXiP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,wCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,sBAAKrP,UAAU,YAAf,UACG,+DADH,IACuC,kCAAKgB,KAAKZ,MAAMoE,KAAKsE,YAArB,OADvC,IAC+E,UAGjF,eAACoG,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GA/ENlQ,IAAMK,WAsF5Boe,G,kDACJ,WAAYle,GAAQ,IAAD,8BACjB,cAAMA,IAQRme,SAAW,WACT,MAAwB,QAApB,EAAKne,MAAMiC,KACN,wBAEe,SAApB,EAAKjC,MAAMiC,KACN,yBAEF,8BAhBU,EAmBnBmc,UAAY,WACV,MAAwB,QAApB,EAAKpe,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKyG,WAAtB,qBAEe,SAApB,EAAKxI,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK4H,YAAtB,sBAEF,MA1BU,EA4BnB6Z,aAAe,WACb,SAAS2B,EAAaR,GACpB,OAAY,OAARA,QAAwBjP,IAARiP,EAA0BA,EAQ9CA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIE,eACAjS,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,KAG1B,IAAMwS,EAAS,kBAGTC,EAAkB,cAClBC,EAAU,2IAChB,OAAKF,EAAOR,KAAKO,EAAa,EAAKnlB,MAAMoE,KAAKsE,eAJhC,cAmBHkc,KAAK,EAAK5kB,MAAMoE,KAAK0E,MAAQ,EAAK9I,MAAMoE,KAAK0E,IAAIpG,OAAS,GACnEmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,iEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GA/BM,iBAiCHuU,KAAK,EAAK5kB,MAAMoE,KAAKqE,cAe5B4c,EAAgBT,KAAK,EAAK5kB,MAAMoE,KAAK8E,cAAgB,EAAKlJ,MAAMoE,KAAK8E,YAAYxG,OAAS,GAC7FmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,iJACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GAEJiV,EAAQV,KAAK,EAAK5kB,MAAMoE,KAAK6E,QAe7Bmc,EAAOR,KAAKO,EAAa,EAAKnlB,MAAMoE,KAAKiF,cAAgB,EAAKrJ,MAAMoE,KAAKiF,WAAW3G,OAAS,GAChGmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJgV,EAAgBT,KAAK,EAAK5kB,MAAMoE,KAAKkF,cAAgB,EAAKtJ,MAAMoE,KAAKkF,YAAY5G,OAAS,GAC7FmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,2IACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJiV,EAAQV,KAAK,EAAK5kB,MAAMoE,KAAKmF,aAAe,EAAKvJ,MAAMoE,KAAKmF,WAAW7G,OAAS,GACnFmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,2CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJ+U,EAAOR,KAAKO,EAAa,EAAKnlB,MAAMoE,KAAKoF,cAAgB,EAAKxJ,MAAMoE,KAAKoF,WAAW9G,OAAS,GAChGmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,oDACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAEJgV,EAAgBT,KAAK,EAAK5kB,MAAMoE,KAAKqF,cAAgB,EAAKzJ,MAAMoE,KAAKqF,YAAY/G,OAAS,GAC7FmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,2IACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,MAEJiV,EAAQV,KAAK,EAAK5kB,MAAMoE,KAAKsF,aAAe,EAAK1J,MAAMoE,KAAKsF,WAAWhH,OAAS,KACnFmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,2CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IAtGPR,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,8FACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA1CPR,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,oIACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA1CPR,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,0DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA3DQ,EAsNnB7H,WAtNmB,sBAsNN,4BAAAtI,EAAA,yDACN,EAAKsjB,eADC,oDAIX,EAAKhU,SAAS,CAAEG,SAAS,IAJd,WAML,EAAK3P,MAAMoE,KAAK2E,MAAM,aAAcwc,MAN/B,gCAOSvhB,EAAI0K,YAAY,EAAK1O,MAAMoE,KAAK2E,MAAM,IAP/C,OAOH7E,EAPG,OAQP,EAAKlE,MAAMoE,KAAK2E,MAAQ7E,EAAIE,KAAKmN,OAR1B,wBAUHvN,EAAIwE,WAAW,EAAKxI,MAAMoE,MAVvB,QAYT,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,yCACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UA1BF,qDA4BT9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KA9BrC,wBA+BPyH,QAAMC,gBAAgB,CACpBnO,MAAO,6BACPoO,QAAS,2GACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzChC,2BA6CTR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvD9B,0DAtNM,EAkRnB1G,YAlRmB,sBAkRL,4BAAAzJ,EAAA,yDACP,EAAKsjB,eADE,oDAIZ,EAAKhU,SAAS,CAAEG,SAAS,IAJb,WAMN,EAAK3P,MAAMoE,KAAK2E,MAAM,aAAcwc,MAN9B,gCAOQvhB,EAAI0K,YAAY,EAAK1O,MAAMoE,KAAK2E,MAAM,IAP9C,OAOJ7E,EAPI,OAQR,EAAKlE,MAAMoE,KAAK2E,MAAQ7E,EAAIE,KAAKmN,OARzB,wBAUJvN,EAAI2F,YAAY,EAAK3J,MAAMoE,MAVvB,QAYV,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,0CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UA1BD,qDA4BV9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KA9BpC,wBA+BRyH,QAAMC,gBAAgB,CACpBnO,MAAO,8BACPoO,QAAS,2GACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC/B,2BA6CVR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvD7B,0DAlRK,EA8UnBuM,MAAQ,WACF,EAAK5c,MAAM6Z,OACb,EAAKrK,SAAS,CACZ8K,aAAa,IAGf,EAAKta,MAAM4c,SApVI,EAwVnB0B,SAAW,WACT,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA1VM,EA6VnBzN,cAAgB,SAACC,GAEf,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAnWF,EAsWnBiW,aAAe,WACb,EAAK7K,SAAS,CACZ8K,aAAa,KAtWf,EAAK5Z,MAAQ,CACX4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALM,E,0CA4WnB,WAAU,IAAD,OAEP,OACE,gCACE,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACE,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACE,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAErB,eAACrP,EAAA,EAAMG,KAAP,WACGrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACrB,qBAAK/R,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM2P,SACX,qBAAK/P,UAAU,kBAAf,SACE,eAAC8e,GAAA,EAAD,WACE,sBAAK9e,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,yCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKsE,YACvBoI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,kCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,gCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKqE,YACvBqI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAK4E,YAC1B8H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAK7B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,8CACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK8E,YACvB4H,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,SACH7c,KAAK,SACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKyE,OACvBiI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,KALvB,UAOE,wBAAQqN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIN,qBAAK1P,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,QACLpJ,KAAK,QACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK6E,MACvB6H,SAAUlQ,KAAKuO,cACfwF,YAAY,kBACZmK,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,cAAC8e,GAAA,EAAKC,MAAN,UACE,cAACD,GAAA,EAAKE,MAAN,yBAEmB,SAApBhe,KAAKZ,MAAMiC,KACV,qBAAKuP,IAAKjP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO0I,IAAI,SAASrP,MAAO,CAAEsP,MAAO,OAAQC,OAAQ,UACzG,cAAC,KAAD,CACE6T,UAAU,EACVC,WAAW,gBACX3U,SAAU,SAAC4U,GAAD,OAAS,EAAKvW,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,QAAS0I,MAAOoW,MACxEC,aAAc,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QAC/CC,YAAa,QACbC,aAAa,EACbC,aAAa,OAInB,qBAAKlmB,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,mCACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiF,WACvByH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,yBACZ/N,KAAK,MACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK0E,IACvBgI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKkF,YACvBwH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,qBACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKwE,mBACvBkI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,0BACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKmF,WACvBuH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,0CACZ/N,KAAK,UACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKuE,QACvBmI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,mCACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKoF,WACvBsH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAKgF,YAC1B0H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAK7B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKqF,YACvBqH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAK+E,YAC1B2H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAK7B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,0BACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKsF,WACvBoH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,uBASrC,eAAC6M,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAIV,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,iCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,qBAAKrP,UAAU,YAAf,SACGgB,KAAKF,MAAMqP,YAGhB,eAACjB,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGJ,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GA9pBblQ,IAAMK,WAoqBZmR,eAAWiU,IC7kCpBa,G,kDACJ,WAAY/lB,GAAQ,IAAD,8BACjB,cAAMA,IAwCRmR,KAAO,WACL,EAAKnR,MAAMwQ,QAAQY,UA1CF,EA6CnBkC,QA7CmB,uCA6CT,WAAO7N,EAAMC,EAASgf,GAAtB,eAAAxkB,EAAA,yDACR,EAAKsP,SAAS,CAAEG,SAAS,IADjB,UAIF+U,IAAe,EAAKhkB,MAAMgkB,YAJxB,gCAKQ1gB,EAAIiG,oBAAoBxE,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASgf,GAAe,EAAKhkB,MAAMgkB,aALpI,OAKJxgB,EALI,+CAOQF,EAAI8F,eAAerE,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAP5F,QAOJxB,EAPI,eASN1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CAAEG,SAAS,EAAO+R,YAAaxd,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAVzF,qDAaN3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAf3B,wBAgBJ8L,QAAMC,gBAAgB,CACpBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1BnC,2BA8BNR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCjC,0DA7CS,4DA0FnB0Q,cA1FmB,uCA0FH,WAAO3R,GAAP,SAAAlP,EAAA,6DACd,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADpB,SAER,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFjD,2CA1FG,wDA8FnB+Q,WA9FmB,uCA8FN,WAAO5a,GAAP,SAAAvF,EAAA,sEACL,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SADzB,2CA9FM,wDAiHnB2L,WAAa,SAACtD,GACZ,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eApHI,EA6InBlE,WAAa,WACX,EAAKqF,SAAS,CACZmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACTtT,UAAW,EACXL,YAAa,GACbC,YAAa,GACbC,mBAAoB,GACpB3B,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,iCACPC,YAAa,IAAIgF,KACjB/E,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI6E,KACjB5E,YAAa,IAAI4E,KACjBzD,MAAO,OAlKM,EAuKnBC,YAvKmB,uCAuKL,WAAO0M,GAAP,eAAAhX,EAAA,uDACRyV,EAAU,EAAKjV,MAAMghB,YAAYxK,IAC7BlO,YAAc,IAAIgF,KAAK2H,EAAQ3M,aACvC2M,EAAQvM,YAAc,IAAI4E,KAAK2H,EAAQvM,aACvCuM,EAAQxM,YAAc,IAAI6E,KAAK2H,EAAQxM,aACvC,EAAKqG,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLpI,KAXK,2CAvKK,wDAuLnBjL,cAAgB,SAACwM,GACf,IAAIvB,EAAU,EAAKjV,MAAMghB,YAAYxK,GACrCvB,EAAQ3M,YAAc,IAAIgF,KAAK2H,EAAQ3M,aACvC2M,EAAQvM,YAAc,IAAI4E,KAAK2H,EAAQvM,aACvCuM,EAAQxM,YAAc,IAAI6E,KAAK2H,EAAQxM,aACvC,EAAKqG,SAAS,CACZoS,YAAY,EACZ7D,UAAU,eACLpI,MA/LU,EAoMnBuN,SAAW,SAAChM,GACV,IAAIvB,EAAU,EAAKjV,MAAMghB,YAAYxK,GACrCvB,EAAQ3M,YAAc,IAAIgF,KAAK2H,EAAQ3M,aACvC2M,EAAQvM,YAAc,IAAI4E,KAAK2H,EAAQvM,aACvCuM,EAAQxM,YAAc,IAAI6E,KAAK2H,EAAQxM,aACvC,EAAKqG,SAAS,CACZmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACLpI,MA/MU,EAoNnB0M,YAAc,WACZ,EAAK7S,SAAS,CAAEoS,YAAY,KArNX,EAwNnB5D,WAAa,WACX,EAAKxO,SAAS,CAAEmO,WAAW,KAvN3B,EAAKjd,MAAQ,CAEXghB,YAAa,GACbhc,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACVC,YAAa,EACbI,SAAU,GAEZzC,UAAW,CACTtT,UAAW,EACXL,YAAa,GACbC,YAAa,GACbC,mBAAoB,GACpB3B,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,GACPC,YAAa,IAAIgF,KACjB/E,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI6E,KACjB5E,YAAa,IAAI4E,KACjBzD,MAAO,IAEToT,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb4G,YAAa,IAhCE,E,4FAoCnB,sBAAAxkB,EAAA,6DACEU,KAAK4O,SAAS,CAAEG,SAAS,IAD3B,SAEQ/O,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SAFnC,gD,qFA8DA,WACE,OACE,+BACE,qCACA,+DACA,gDACA,8CACA,mDACA,wDACA,oBAAI9F,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAclC,WAAmB,IAAD,OACZohB,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMghB,YAAYzK,KAAI,SAAC4K,EAAM3K,GACvC,IAAQ9M,EAA2DyX,EAA3DzX,YAAaC,EAA8CwX,EAA9CxX,YAAarB,EAAiC6Y,EAAjC7Y,YAAaH,EAAoBgZ,EAApBhZ,OAAQF,EAAYkZ,EAAZlZ,QACvD,OACE,+BACE,6BAAKqY,EAAU9J,IACf,6BAAK9M,IACL,6BAAI,sBAAMxK,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmG7M,MACvG,6BAAK,EAAKgH,WAAW,IAAIrD,KAAKhF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,IACL,oBAAI/I,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAK2I,cAAcwM,QACvE,oBAAItX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKyI,YAAY0M,UARlEA,Q,oBA6Ff,WAAU,IAAD,OACP,OAAItW,KAAKF,MAAMiP,QAEX,qBAAK/P,UAAU,gDAAf,SACE,qBAAKA,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,8BAOR,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CACEmP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAEhB,cAAC,GAAD,CACEvE,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAEhB,qBAAK1T,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE5C,qBAAKvR,UAAU,4BAAf,gEAKJ,uBACA,sBAAKA,UAAU,SAAf,UACE,8BACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKuR,WAApE,SACE,sBAAK1T,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,aAMR,qBAAKA,UAAU,OAAf,SACE,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAASnB,KAAKuJ,WAA9D,SACE,sBAAKvK,UAAU,SAAf,UACE,0DAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,KAAD,aAKR,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACE,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACE,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIN,qBAAK1P,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe+U,YAAY,mBAAWrF,MAAO1O,KAAKF,MAAMgkB,YAAa5T,SAAU,SAAA1B,GAAC,OAAI,EAAKI,SAAS,CAAEkV,YAAatV,EAAEC,OAAOC,WACvJ,qBAAK1P,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBoQ,KAAK,SAASjO,QAAS,kBAAM,EAAKuR,QAAQ,IAA9E,SAAkF,cAAC,IAAD,gBAM1F,uBACA,qBAAKlR,MAAO,CAAEif,UAAW,SAAzB,SACE,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,uBAAO3jB,UAAU,eAAjB,SACGgB,KAAKye,sBAER,gCAAQze,KAAKoU,yBAGjB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,oB,GAnUlD5gB,IAAMK,WAyUtB0iB,G,kDACJ,WAAYxiB,GAAQ,IAAD,8BACjB,cAAMA,IAMRyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACP,EAAKsP,SAAS,CAAEG,SAAS,IADlB,kBAGC3L,EAAI0G,cAAc,EAAK1K,MAAMoE,KAAKqG,WAHnC,OAKL,EAAK+E,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,0CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBN,qDAqBL9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,2BAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvBzC,wBAwBHyH,QAAMC,gBAAgB,CACpBnO,MAAO,2BACPoO,QAAS,uMACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCpC,2BAsCLR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDlC,0DALP,EAAK3P,MAAQ,CACXiP,SAAS,GAHM,E,0CA6DnB,WACE,OACE,gCACE,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,wCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,sBAAKrP,UAAU,YAAf,UACG,iEADH,IACwC,kCAAKgB,KAAKZ,MAAMoE,KAAKsE,YAArB,OADxC,IACgF,UAGlF,eAACoG,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGJ,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GA/ENlQ,IAAMK,WAsF5Boe,G,kDACJ,WAAYle,GAAQ,IAAD,8BACjB,cAAMA,IAQRme,SAAW,WACT,MAAwB,QAApB,EAAKne,MAAMiC,KACN,0BAEe,SAApB,EAAKjC,MAAMiC,KACN,2BAEF,gCAhBU,EAmBnBmc,UAAY,WACV,MAAwB,QAApB,EAAKpe,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKoI,WAAtB,qBAEe,SAApB,EAAKnK,MAAMiC,KACN,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKyI,YAAtB,sBAEF,MA1BU,EA6BnBgZ,aAAe,WAab,IAZsBmB,EAiBtB,MALe,kBAKHC,KAhBE,QADQD,EAiBQ,EAAK3kB,MAAMoE,KAAKiG,mBAhBhBqL,IAARiP,EAA0BA,EAQ9CA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIE,eACAjS,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,OAIZ,cAmBHgS,KAAK,EAAK5kB,MAAMoE,KAAK0E,MAAQ,EAAK9I,MAAMoE,KAAK0E,IAAIpG,OAAS,GACnEmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,iEACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,GA/Ba,iBAiCHuU,KAAK,EAAK5kB,MAAMoE,KAAKgG,cAhChB,cA+CHwa,KAAK,EAAK5kB,MAAMoE,KAAK8E,cAAgB,EAAKlJ,MAAMoE,KAAK8E,YAAYxG,OAAS,GAC7FmN,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,mIACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,KA3DO,2IA6DHuU,KAAK,EAAK5kB,MAAMoE,KAAK6E,SAChC4G,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,+FACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA1CPR,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,6HACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA1CPR,QAAMC,gBAAgB,CACpBnO,MAAO,uDACPoO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,wBAEhC,IA5DQ,EA8HnBlG,WA9HmB,sBA8HN,4BAAAjK,EAAA,yDAEN,EAAKsjB,eAFC,oDAKX,EAAKhU,SAAS,CAAEG,SAAS,IALd,WAOL,EAAK3P,MAAMoE,KAAK2E,MAAM,aAAcwc,MAP/B,gCAQSvhB,EAAI0K,YAAY,EAAK1O,MAAMoE,KAAK2E,MAAM,IAR/C,OAQH7E,EARG,OASP,EAAKlE,MAAMoE,KAAK2E,MAAQ7E,EAAIE,KAAKmN,OAT1B,wBAWHvN,EAAImG,WAAW,EAAKnK,MAAMoE,MAXvB,QAaT,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,2CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UA3BF,qDA6BT9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KA/BrC,wBAgCPyH,QAAMC,gBAAgB,CACpBnO,MAAO,6BACPoO,QAAS,6GACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1ChC,2BA8CTR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxD9B,0DA9HM,EA2LnB7F,YA3LmB,sBA2LL,4BAAAtK,EAAA,yDACP,EAAKsjB,eADE,oDAIZ,EAAKhU,SAAS,CAAEG,SAAS,IAJb,WAMN,EAAK3P,MAAMoE,KAAK2E,MAAM,aAAcwc,MAN9B,gCAOQvhB,EAAI0K,YAAY,EAAK1O,MAAMoE,KAAK2E,MAAM,IAP9C,OAOJ7E,EAPI,OAQR,EAAKlE,MAAMoE,KAAK2E,MAAQ7E,EAAIE,KAAKmN,OARzB,wBAUJvN,EAAIwG,YAAY,EAAKxK,MAAMoE,MAVvB,QAYV,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CACpBnO,MAAO,mBACPoO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,KAGZC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEvC,EAAKiO,WACL,EAAKte,MAAMsT,UA1BD,qDA4BV9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KA9BpC,wBA+BRyH,QAAMC,gBAAgB,CACpBnO,MAAO,8BACPoO,QAAS,6GACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC/B,2BA6CVR,QAAMC,gBAAgB,CACpBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACPC,SAAU,IACVO,UAAU,GAEZN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvD7B,0DA3LK,EAuPnBuM,MAAQ,WACF,EAAK5c,MAAM6Z,OACb,EAAKrK,SAAS,CACZ8K,aAAa,IAGf,EAAKta,MAAM4c,SA7PI,EAiQnB0B,SAAW,WACT,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SAnQM,EAsQnBzN,cAAgB,SAACC,GAEf,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IA5QF,EA+QnBiW,aAAe,WACb,EAAK7K,SAAS,CACZ8K,aAAa,KA/Qf,EAAK5Z,MAAQ,CACX4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALM,E,0CAqRnB,WAAU,IAAD,OAEP,OACE,gCACE,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACE,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACE,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAErB,eAACrP,EAAA,EAAMG,KAAP,WACGrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACrB,qBAAK/R,UAAU,6DAAf,SACE,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACE,sBAAMlB,UAAU,UAAhB,+BAKJgB,KAAKZ,MAAM2P,SACX,qBAAK/P,UAAU,kBAAf,SACE,eAAC8e,GAAA,EAAD,WACE,sBAAK9e,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,2CACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiG,YACvByG,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAKgF,YAC1B0H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,iBAM/B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAK4E,YAC1B8H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAK7B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKhf,UAAU,QAAf,SACE,cAAC,KAAD,CACEmgB,SAAUnf,KAAKZ,MAAMoE,KAAK+E,YAC1B2H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,iBAM/B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACE4E,GAAG,SACH7c,KAAK,SACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKyE,OACvBiI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,KALvB,UAOE,wBAAQqN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIN,qBAAK1P,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,oCACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,kCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKgG,YACvB0G,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,cAAC8e,GAAA,EAAKC,MAAN,UACE,cAACD,GAAA,EAAKE,MAAN,yBAEmB,SAApBhe,KAAKZ,MAAMiC,KACV,qBAAKuP,IAAKjP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO0I,IAAI,SAASrP,MAAO,CAAEsP,MAAO,OAAQC,OAAQ,UACzG,cAAC,KAAD,CACE6T,UAAU,EACVC,WAAW,gBACX3U,SAAU,SAAC4U,GAAD,OAAS,EAAKvW,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,QAAS0I,MAAOoW,MACxEC,aAAc,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QAC/CC,YAAa,QACbC,aAAa,EACbC,aAAa,OAInB,qBAAKlmB,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,8CACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK8E,YACvB4H,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,yBACZ/N,KAAK,MACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK0E,IACvBgI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,QACLpJ,KAAK,QACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK6E,MACvB6H,SAAUlQ,KAAKuO,cACfwF,YAAY,kBACZmK,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,qBACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKwE,mBACvBkI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,kDACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,gDACZ/N,KAAK,qBACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKkG,mBACvBwG,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAK7B,sBAAKrC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,0CACZ/N,KAAK,UACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKuE,QACvBmI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAI3B,qBAAKrC,UAAU,MAAf,SACE,eAAC8e,GAAA,EAAKC,MAAN,WACE,cAACD,GAAA,EAAKE,MAAN,+BACA,cAACF,GAAA,EAAKG,QAAN,CACE7O,KAAK,OACL2E,YAAY,6BACZ/N,KAAK,QACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKmG,MACvBuG,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,uBASrC,eAAC6M,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAIV,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACE,cAACpO,EAAA,EAAM/O,OAAP,UACE,cAAC+O,EAAA,EAAMqO,MAAP,iCAEF,cAACrO,EAAA,EAAMG,KAAP,UACE,qBAAKrP,UAAU,YAAf,SACGgB,KAAKF,MAAMqP,YAGhB,eAACjB,EAAA,EAAMnP,OAAP,WACE,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGJ,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GA/gBblQ,IAAMK,WAqhBZmR,eAAW8U,ICr7BpBC,G,kDACF,WAAYhmB,GAAQ,IAAD,8BACf,cAAMA,IA4DVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA9DJ,EAiEnBkC,QAjEmB,uCAiET,WAAO7N,EAAMC,GAAb,6BAAAxF,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAIiI,eAAexG,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAHlG,OAQF,IALIxB,EAHF,OAIE+hB,EAAc/hB,EAAIE,KAAKmN,OAAOnN,KAC9Bsd,EAAc,EAAKhhB,MAAMghB,YACzBjM,EAAc,EAAK/U,MAAM+U,YACzBwB,EAAM,GACDpD,EAAI,EAAGA,EAAI6N,EAAYhf,OAAQmR,IACpCoD,EAAIyK,EAAY7N,GAAGzJ,aAAnB,eACOsX,EAAY7N,IAGvB,IAASA,EAAI,EAAGA,EAAI4B,EAAY/S,OAAQmR,IACpCoD,EAAIxB,EAAY5B,GAAGpL,aAAnB,eACOgN,EAAY5B,IAGvB,IAASA,EAAI,EAAGA,EAAIoS,EAAYvjB,OAAQmR,IACpCoS,EAAYpS,GAAZ,2BACOoS,EAAYpS,IACZoD,EAAIgP,EAAYpS,GAAG1H,WAG9B3L,QAAQC,IAAIwlB,GACZ,EAAKzW,SAAS,CAAEG,SAAS,EAAOsW,YAAaA,EAAa9F,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAzBpF,qDA4BF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DAjES,0DA6HnBoR,iBAAmB,WAGf,IAFA,IAAIzV,EAAO,EAAKtL,MAAMghB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCxJ,EAAN,EAAMA,YAAaD,EAAnB,EAAmBA,YACnBwJ,EAAQnD,KAAK,CACT7J,KAAMyD,EAAc,MAAQD,EAC5BkF,MAAOlF,IAGf,OAAOwJ,GAvIQ,EA0InB4B,iBAAmB,WAGf,IAFA,IAAIxJ,EAAO,EAAKtL,MAAM+U,YAClB7B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCnL,EAAN,EAAMA,YAAaD,EAAnB,EAAmBA,YACnBmL,EAAQnD,KAAK,CACT7J,KAAM8B,EAAc,MAAQD,EAC5B6G,MAAO7G,IAGf,OAAOmL,GApJQ,EAuJnBmN,cAvJmB,uCAuJH,WAAO3R,GAAP,SAAAlP,EAAA,6DACZ,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CAvJG,wDA2JnB+Q,WA3JmB,uCA2JN,WAAO5a,GAAP,SAAAvF,EAAA,sEACH,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SAD3B,2CA3JM,wDA+LnBwG,WAAa,WACT,EAAKsD,SAAS,CACVmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACP1R,UAAW,EACXvK,YAAa,GACbhB,KAAM,EACNqL,SAAU,OAzMH,EA8MnBC,YA9MmB,uCA8ML,WAAO8K,GAAP,eAAAhX,EAAA,sDACNgmB,EAAU,EAAKxlB,MAAMulB,YAAY/O,GACrC,EAAK1H,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHmI,KARD,2CA9MK,wDA2NnB3Z,cAAgB,SAAC2K,GACb,IAAIgP,EAAU,EAAKxlB,MAAMulB,YAAY/O,GACrC,EAAK1H,SAAS,CACVoS,YAAY,EACZ7D,UAAU,eACHmI,MAhOI,EAqOnBhD,SAAW,SAAChM,GACR,IAAIgP,EAAU,EAAKxlB,MAAMulB,YAAY/O,GACrC,EAAK1H,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHmI,MA7OI,EAkPnB7D,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KAnPb,EAsPnB5D,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KArP3B,EAAKjd,MAAQ,CAETulB,YAAa,GACbxQ,YAAa,GACbiM,YAAa,GACbhc,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACRC,YAAa,EACbI,SAAU,GAEdzC,UAAW,CACP1R,UAAW,EACXvK,YAAa,GACbhB,KAAM,EACNqL,SAAU,IAEdwR,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,GAtBF,E,4FA0BnB,kCAAA5d,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK+CjM,QAAQ6P,IAAI,CAC/CvP,EAAI8F,eAAe,EAAG,KACtB9F,EAAIiE,eAAe,EAAG,OAPlC,2CAKayZ,EALb,KAK0BjM,EAL1B,KASQ7U,KAAK4O,SAAS,CACVkS,YAAaA,EAAYtd,KAAKmN,OAAOnN,KACrCqR,YAAaA,EAAYrR,KAAKmN,OAAOnN,OAXjD,UAacxD,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SAbzC,6DAeQlF,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAjBzC,mDAoBQ8L,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA9BjD,0D,qFAqIA,WACI,OACI,+BACI,qCACA,0DACA,gDACA,qEACA,6DACA,oBAAIzQ,UAAU,cAAd,SAA4B,cAAC,IAAD,MAC5B,oBAAIA,UAAU,cAAd,SAA4B,cAAC,IAAD,W,6BAKxC,WAAmB,IAAD,OACVohB,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMulB,YAAYhP,KAAI,SAAC7S,EAAM8S,GACrC,IAAQpV,EAA0DsC,EAA1DtC,YAAa4G,EAA6CtE,EAA7CsE,YAAa5H,EAAgCsD,EAAhCtD,KAAMuJ,EAA0BjG,EAA1BiG,YAAa8B,EAAa/H,EAAb+H,SACrD,OACI,+BACI,6BAAK6U,EAAU9J,IACf,6BAAI,sBAAMtX,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGpV,MACvG,6BAAc,IAAThB,EAAa4H,EAAc2B,IAChC,6BAAK8B,IACL,6BAAc,IAATrL,EAAa,gBAAsB,IAATA,EAAa,kBAAc,+BAC1D,oBAAIlB,UAAU,cAAd,SAA4B,cAAC,IAAD,CAASmC,QAAS,kBAAM,EAAKwK,cAAc2K,QACvE,oBAAItX,UAAU,cAAd,SAA4B,cAAC,IAAD,CAAamC,QAAS,kBAAM,EAAKqK,YAAY8K,UAPpEA,Q,oBAwErB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,QACdkC,iBAAkB5U,KAAK4U,iBACvBiM,iBAAkB7gB,KAAK6gB,mBAE3B,cAAC,GAAD,CACI1S,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,oDAKR,uBACA,sBAAKA,UAAU,SAAf,UACI,8BACI,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAAS,kBAAM,EAAKuR,WAApE,SACI,sBAAK1T,UAAU,SAAf,UACI,0DAGA,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,aAMhB,qBAAKA,UAAU,OAAf,SACI,wBAAQoQ,KAAK,SAASpQ,UAAU,gBAAgBmC,QAASnB,KAAKsL,WAA9D,SACI,sBAAKtM,UAAU,SAAf,UACI,4DAGA,qBAAKA,UAAU,OAAf,SACI,cAAC,KAAD,aAKhB,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACI,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,yBAIZ,qBAAK1P,UAAU,iBAAf,SACI,sBAAKA,UAAU,cAAf,UACI,uBAAOoQ,KAAK,OAAOpQ,UAAU,eAAe+U,YAAY,qBACxD,qBAAK/U,UAAU,qBAAf,SACI,wBAAQA,UAAU,kBAAkBoQ,KAAK,SAAzC,SAAkD,cAAC,IAAD,gBAMlE,uBACA,qBAAK5N,MAAO,CAAEif,UAAW,SAAzB,SACI,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,uBAAO3jB,UAAU,eAAjB,SACKgB,KAAKye,sBAEV,gCAAQze,KAAKoU,yBAGrB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,oB,GAnW1D5gB,IAAMK,WAyWtB0iB,G,kDACF,WAAYxiB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKsP,SAAS,CAAEG,SAAS,IADpB,kBAGK3L,EAAIuI,cAAc,EAAKvM,MAAMoE,KAAKiI,WAHvC,OAKD,EAAKmD,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,4CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBV,kDAqBD9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK3P,MAAQ,CACTiP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,wCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,sBAAKrP,UAAU,YAAf,UACK,mEADL,IAC0C,kCAAKgB,KAAKZ,MAAMoE,KAAKtC,YAArB,OAD1C,IACkF,UAGtF,eAACgN,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GAhEdlQ,IAAMK,WAuE5Boe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,4BAEa,SAApB,EAAKjC,MAAMiC,KACJ,6BAEJ,kCAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKmK,WAAtB,qBAEa,SAApB,EAAKlM,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKqK,YAAtB,sBAEJ,MA1BQ,EA6BnBF,WA7BmB,sBA6BN,sBAAAhM,EAAA,6DACT,EAAKsP,SAAS,CAAEG,SAAS,IADhB,kBAGC3L,EAAIkI,WAAW,EAAKlM,MAAMoE,MAH3B,OAKL,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,6CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UAnBN,qDAqBL9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvBzC,wBAwBDyH,QAAMC,gBAAgB,CAClBnO,MAAO,+CACPoO,QAAS,0IACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCxC,2BAsCLR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDpC,0DA7BM,EAkFnBjE,YAlFmB,sBAkFL,sBAAAlM,EAAA,yDACV,EAAKsP,SAAS,CAAEG,SAAS,IACpB,EAAK3P,MAAMoE,KAAKG,SAFX,uBAGNsL,QAAMC,gBAAgB,CAClBnO,MAAO,0DACPoO,QAAS,0EACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,IAfnB,mDAmBA3L,EAAIoI,YAAY,EAAKpM,MAAMoE,MAnB3B,OAqBN,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,8CACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UAnCL,qDAqCN9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAA+C,iBAAnC,KAAIA,SAASQ,KAAK2L,QAAQ3H,KAvCxC,wBAwCFyH,QAAMC,gBAAgB,CAClBnO,MAAO,0DACPoO,QAAS,0IACTC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDvC,2BAsDNR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhEnC,0DAlFK,EAuJnBuM,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SA7JA,EAiKnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SAnKI,EAsKnBzN,cAAgB,SAACC,GAEb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IA5KJ,EA+KnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KA/KjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CAqLnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,qBAAK/P,UAAU,kBAAf,SACI,eAAC8e,GAAA,EAAD,WACI,eAACA,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,uCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,qCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKtC,YACvBgP,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,UAG7B,eAACyc,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,iCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,WACL2E,YAAY,+BACZ/N,KAAK,WACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKG,SACvBuM,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,UAG7B,eAACyc,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,0CACA,eAACF,GAAA,EAAKG,QAAN,CACI4E,GAAG,SACH7c,KAAK,OACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKtD,KACvBgQ,SAAU,SAAC1B,GAAQ,EAAKD,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,WAAY0I,MAAO,MAAS,EAAKH,cAAcC,IACvG0P,SAA8B,SAApBle,KAAKZ,MAAMiC,KALzB,UAOI,wBAAQqN,MAAO,EAAf,2BACA,wBAAQA,MAAO,EAAf,6BACA,wBAAQA,MAAO,EAAf,8CAGR,sBAAK1P,UAAU,aAAf,UACI,kCAAkC,IAAzBgB,KAAKZ,MAAMoE,KAAKtD,KAAa,gBAAa,kBAAnD,OACA,8BACI,cAACwT,GAAA,EAAD,CACIV,QAAkC,IAAzBhT,KAAKZ,MAAMoE,KAAKtD,KAAaF,KAAKZ,MAAMwV,mBAAqB5U,KAAKZ,MAAMyhB,mBACjFlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,WAAY0I,MAAOsF,MACzEtF,MAAO1O,KAAKZ,MAAMoE,KAAK+H,SACvB2S,SAA8B,SAApBle,KAAKZ,MAAMiC,oBASjD,eAAC6M,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GAtRrBlQ,IAAMK,WA4RZmR,eAAW+U,I,qBC/sBpBD,G,kDACF,WAAY/lB,GAAQ,IAAD,8BACf,cAAMA,IAyCVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA3CJ,EA8CnBkC,QA9CmB,uCA8CT,WAAO7N,EAAMC,EAASgf,GAAtB,eAAAxkB,EAAA,yDACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,UAIE+U,IAAe,EAAKhkB,MAAMgkB,YAJ5B,gCAKc1gB,EAAIiG,oBAAoBxE,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASgf,GAAe,EAAKhkB,MAAMgkB,aAL1I,OAKExgB,EALF,+CAOcF,EAAI8F,eAAerE,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAPlG,QAOExB,EAPF,eASF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CAAEG,SAAS,EAAO+R,YAAaxd,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAV7F,qDAaF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAf/B,wBAgBE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1B3C,2BA8BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCvC,0DA9CS,4DA2FnB0Q,cA3FmB,uCA2FH,WAAO3R,GAAP,SAAAlP,EAAA,6DACZ,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CA3FG,wDAgGnB+Q,WAhGmB,uCAgGN,WAAO5a,GAAP,SAAAvF,EAAA,sEACH,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SAD3B,2CAhGM,wDAiHnB2L,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eApHE,EA2InB6U,SAAW,SAAChM,GACR,IAAIvB,EAAU,EAAKjV,MAAMghB,YAAYxK,GACrCvB,EAAQ3M,YAAc,IAAIgF,KAAK2H,EAAQ3M,aACvC2M,EAAQvM,YAAc,IAAI4E,KAAK2H,EAAQvM,aACvCuM,EAAQxM,YAAc,IAAI6E,KAAK2H,EAAQxM,aACvC,EAAKqG,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHpI,MAtJI,EA2JnBqI,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KA5JZ,EA+JnBwI,4BAA8B,YAAgB,IAAb7W,EAAY,EAAZA,MACzB,EAAKxM,SACLsjB,aAAa,EAAKtjB,SAEtB,EAAKA,QAAUujB,WAAU,sBAAC,8BAAAnmB,EAAA,6DAClBomB,EAAM,EAAKC,QAAUviB,EAAIkG,0BAA0B,EAAG,EAAKxJ,MAAMgF,QAAS4J,GADxD,kBAGFgX,EAHE,OAGdpiB,EAHc,OAIdoiB,IAAQ,EAAKC,SACb,EAAK/W,SAAS,CACVgX,YAAatiB,EAAIE,KAAKmN,SANZ,gDAUlB/Q,QAAQC,IAAR,MAVkB,yDAYvB,MA/KY,EAkLnBgmB,4BAA8B,WAC1B,EAAKjX,SAAS,CACVgX,YAAa,MApLF,EAwLnBE,eAAiB,SAAC9M,EAAD,GAA0B,IAAhB+M,EAAe,EAAfA,SACvB,EAAKnX,SAAS,CACVkV,YAAaiC,KA1LF,EA8LnBC,mBAAqB,SAAAC,GAAU,OAAIA,EAAWxc,aA9L3B,EAgMnByc,qBAAuB,SAAClN,EAAD,GAAmF,EAAzEiN,WAA0E,IAA9DE,EAA6D,EAA7DA,gBAA6D,EAA5CC,gBAA4C,EAA3BC,aAA2B,EAAb9M,OACzF,EAAK7G,QAAQ,KAAM,KAAMyT,IAjMV,EAoMnBG,iBAAmB,SAACL,GAChB,OACI,qBAAKjnB,UAAU,QAAf,SAAwBinB,EAAWxc,YAAc,MAAQwc,EAAWzc,eApMxE,EAAK1J,MAAQ,CAETghB,YAAa,GACbhc,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACRC,YAAa,EACbI,SAAU,GAEdzC,UAAW,CACPtT,UAAW,EACXL,YAAa,GACbC,YAAa,GACbC,mBAAoB,GACpB3B,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,GACPC,YAAa,IAAIgF,KACjB/E,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI6E,KACjB5E,YAAa,IAAI4E,KACjBzD,MAAO,IAEXoT,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb0I,YAAa,GACb9B,YAAa,IAjCF,E,4FAqCnB,sBAAAxkB,EAAA,6DACIU,KAAK4O,SAAS,CAAEG,SAAS,IAD7B,SAEU/O,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SAFrC,gD,qFA+DA,WACI,OACI,+BACI,qCACA,+DACA,gDACA,8CACA,mDACA,6D,6BAcZ,WAAmB,IAAD,OACVsb,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMghB,YAAYzK,KAAI,SAAC4K,EAAM3K,GACrC,IAAQ9M,EAA2DyX,EAA3DzX,YAAaC,EAA8CwX,EAA9CxX,YAAarB,EAAiC6Y,EAAjC7Y,YAAaH,EAAoBgZ,EAApBhZ,OAAQF,EAAYkZ,EAAZlZ,QACvD,OACI,+BACI,6BAAKqY,EAAU9J,IACf,6BAAI,sBAAMtX,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmG9M,MACvG,6BAAI,sBAAMxK,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmG7M,MACvG,6BAAK,EAAKgH,WAAW,IAAIrD,KAAKhF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,MANAuO,Q,oBA2ErB,WAAU,IAAD,OACL,EAAqCtW,KAAKF,MAAlCgkB,EAAR,EAAQA,YAAa8B,EAArB,EAAqBA,YACfW,EAAQ,CACVlX,UAAW,cACXmX,MAAO,eACPC,qBAAsB,WACtBC,gBAAgB,uBAAD,OAAyB1mB,KAAKF,MAAM8lB,YAAY9jB,OAAS,OAAS,IACjFmkB,WAAY,sBACZU,kBAAmB,SACnBC,sBAAuB,UAGrBC,EAAa,CACf9S,YAAa,mDACbrF,MAAOoV,EACP5T,SAAUlQ,KAAK8lB,gBAGnB,OAAI9lB,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,4DAKR,uBACA,sBAAKA,UAAU,SAAf,UACI,cAAC,KAAD,CACI4mB,YAAaA,EACbL,4BAA6BvlB,KAAKulB,4BAClCM,4BAA6B7lB,KAAK6lB,4BAClCG,mBAAoBhmB,KAAKgmB,mBACzBM,iBAAkBtmB,KAAKsmB,iBACvBO,WAAYA,EACZN,MAAOA,EACPL,qBAAsBlmB,KAAKkmB,uBAE/B,yBAAQ9W,KAAK,SAASpQ,UAAU,yCAAyCmC,QAAS,kBAAM,EAAKuR,WAA7F,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,qBAIJ,uBACA,qBAAKyB,MAAO,CAAEif,UAAW,SAAzB,SACI,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,uBAAO3jB,UAAU,eAAjB,SACKgB,KAAKye,sBAEV,gCAAQze,KAAKoU,yBAIrB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,aAChE,sBAAKzgB,UAAU,cAAf,UACI,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACI,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,gC,GArSN7P,IAAMK,WA8StBoe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,0BAEa,SAApB,EAAKjC,MAAMiC,KACJ,2BAEJ,gCAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKoI,WAAtB,qBAEa,SAApB,EAAKnK,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKyI,YAAtB,sBAEJ,MA1BQ,EA6BnBoS,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAnCA,EAuCnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SAzCI,EA4CnBzN,cAAgB,SAACC,GAEb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAlDJ,EAqDnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KArDjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CA2DnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,qBAAK/P,UAAU,kBAAf,SACI,eAAC8e,GAAA,EAAD,WACI,sBAAK9e,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,2CACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiG,YACvByG,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAKgF,YAC1B0H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,iBAMzC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAK4E,YAC1B8H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAK+E,YAC1B2H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,iBAMzC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACI4E,GAAG,SACH7c,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiD,YACvByJ,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,KALzB,UAOI,wBAAQqN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIZ,qBAAK1P,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,oCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,kCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKgG,YACvB0G,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,sBAAKA,UAAU,MAAf,UACI,cAAC8e,GAAA,EAAKC,MAAN,UACI,cAACD,GAAA,EAAKE,MAAN,yBAEJ,qBAAKpN,IAAKjP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO0I,IAAI,SAASrP,MAAO,CAAEsP,MAAO,OAAQC,OAAQ,aAE7G,qBAAK/R,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,8CACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK8E,YACvB4H,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,yBACZ/N,KAAK,MACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK0E,IACvBgI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,QACLpJ,KAAK,QACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK6E,MACvB6H,SAAUlQ,KAAKuO,cACfwF,YAAY,kBACZmK,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,qBACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKwE,mBACvBkI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,kDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,gDACZ/N,KAAK,qBACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKkG,mBACvBwG,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,0CACZ/N,KAAK,UACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKuE,QACvBmI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,+BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,6BACZ/N,KAAK,QACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKmG,MACvBuG,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,uBASrD,eAAC6M,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GAzSrBlQ,IAAMK,WA+SZmR,eAAW8U,IC5lBpBb,G,kDACF,WAAYllB,GAAQ,IAAD,8BACf,cAAMA,IA6CVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA/CJ,EAkDnBkC,QAlDmB,uCAkDT,WAAO7N,EAAMC,EAASgf,GAAtB,eAAAxkB,EAAA,yDACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,UAIE+U,IAAe,EAAKhkB,MAAMgkB,YAJ5B,gCAKc1gB,EAAIqE,oBAAoB5C,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASgf,GAAe,EAAKhkB,MAAMgkB,aAL1I,OAKExgB,EALF,+CAOcF,EAAIiE,eAAexC,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,SAPlG,QAOExB,EAPF,eASF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CAAEG,SAAS,EAAO8F,YAAavR,EAAIE,KAAKmN,OAAOnN,KAAM+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAV7F,qDAaF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAf/B,wBAgBE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1B3C,2BA8BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCvC,0DAlDS,4DA+FnB0Q,cA/FmB,uCA+FH,WAAO3R,GAAP,SAAAlP,EAAA,6DACZ,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CA/FG,wDAoGnB+Q,WApGmB,uCAoGN,WAAO5a,GAAP,SAAAvF,EAAA,sEACH,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SAD3B,2CApGM,wDAqHnB2L,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAxHE,EA+InB6U,SAAW,SAAChM,GACR,IAAInD,EAAU,EAAKrT,MAAM+U,YAAYyB,GACrCnD,EAAQ/K,YAAc,IAAIgF,KAAK+F,EAAQ/K,aACvC+K,EAAQ3K,YAAc,IAAI4E,KAAK+F,EAAQ3K,aACvC2K,EAAQ5K,YAAc,IAAI6E,KAAK+F,EAAQ5K,aACvC,EAAKqG,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHhK,MA1JI,EAgKnBiK,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KAjKZ,EAoKnBwI,4BAA8B,YAAgB,IAAb7W,EAAY,EAAZA,MACzB,EAAKxM,SACLsjB,aAAa,EAAKtjB,SAGtB,EAAKA,QAAUujB,WAAU,sBAAC,8BAAAnmB,EAAA,6DAClBomB,EAAM,EAAKC,QAAUviB,EAAIsE,0BAA0B,EAAG,EAAK5H,MAAMgF,QAAS4J,GADxD,kBAGFgX,EAHE,OAGdpiB,EAHc,OAIdoiB,IAAQ,EAAKC,SACb,EAAK/W,SAAS,CACVgX,YAAatiB,EAAIE,KAAKmN,SANZ,gDAUlB/Q,QAAQC,IAAR,MAVkB,yDAYvB,MArLY,EAwLnBgmB,4BAA8B,WAC1B,EAAKjX,SAAS,CACVgX,YAAa,MA1LF,EA8LnBE,eAAiB,SAAC9M,EAAD,GAA0B,IAAhB+M,EAAe,EAAfA,SACvB,EAAKnX,SAAS,CACVkV,YAAaiC,KAhMF,EAoMnBC,mBAAqB,SAAAC,GAAU,OAAIA,EAAWne,aApM3B,EAsMnBoe,qBAAuB,SAAClN,EAAD,GAAmF,EAAzEiN,WAA0E,IAA9DE,EAA6D,EAA7DA,gBAA6D,EAA5CC,gBAA4C,EAA3BC,aAA2B,EAAb9M,OACzF,EAAK7G,QAAQ,KAAM,KAAMyT,IAvMV,EA0MnBG,iBAAmB,SAACL,GAChB,OACI,qBAAKjnB,UAAU,QAAf,SAAwBinB,EAAWne,YAAc,MAAQme,EAAWpe,eA1MxE,EAAK/H,MAAQ,CAET+U,YAAa,GACb/P,QAAS,GACTiK,SAAS,EACTwQ,WAAY,CACRC,YAAa,EACbI,SAAU,GAEdzC,UAAW,CACPnU,UAAW,EACXnB,YAAa,GACbC,YAAa,GACbC,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,GACPC,YAAa,IAAIgF,KACjB/E,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI6E,KACjB5E,YAAa,IAAI4E,KACjBlM,YAAa,GACbuH,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,IAEhBiU,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb0I,YAAa,GACb9B,YAAa,IAtCF,E,4FA0CnB,sBAAAxkB,EAAA,sEACUU,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,SADrC,gD,qFA8DA,WACI,OACI,+BACI,qCACA,6DACA,gDACA,8CACA,mDACA,oD,6BAcZ,WAAmB,IAAD,OACVsb,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAM+U,YAAYwB,KAAI,SAAC4K,EAAM3K,GACrC,IAAQzO,EAA2DoZ,EAA3DpZ,YAAaC,EAA8CmZ,EAA9CnZ,YAAaM,EAAiC6Y,EAAjC7Y,YAAaH,EAAoBgZ,EAApBhZ,OAAQF,EAAYkZ,EAAZlZ,QACvD,OACI,+BACI,6BAAKqY,EAAU9J,IACf,6BAAI,sBAAMtX,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGzO,MACvG,6BAAI,sBAAM7I,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGxO,MACvG,6BAAK,EAAK2I,WAAW,IAAIrD,KAAKhF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,MANAuO,Q,oBA6ErB,WAAU,IAAD,OACL,EAAqCtW,KAAKF,MAAlCgkB,EAAR,EAAQA,YAAa8B,EAArB,EAAqBA,YACfW,EAAQ,CACVlX,UAAW,cACXmX,MAAO,eACPC,qBAAsB,WACtBC,gBAAgB,uBAAD,OAAyB1mB,KAAKF,MAAM8lB,YAAY9jB,OAAS,OAAS,IACjFmkB,WAAY,sBACZU,kBAAmB,SACnBC,sBAAuB,UAGrBC,EAAa,CACf9S,YAAa,iDACbrF,MAAOoV,EACP5T,SAAUlQ,KAAK8lB,gBAGnB,OAAI9lB,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAQhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,0DAKR,uBACA,sBAAKA,UAAU,SAAf,UACI,cAAC,KAAD,CACI4mB,YAAaA,EACbL,4BAA6BvlB,KAAKulB,4BAClCM,4BAA6B7lB,KAAK6lB,4BAClCG,mBAAoBhmB,KAAKgmB,mBACzBM,iBAAkBtmB,KAAKsmB,iBACvBO,WAAYA,EACZN,MAAOA,EACPL,qBAAsBlmB,KAAKkmB,uBAE/B,yBAAQ9W,KAAK,SAASpQ,UAAU,yCAAyCmC,QAAS,kBAAM,EAAKuR,WAA7F,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,qBAIJ,uBACA,qBAAKyB,MAAO,CAAEif,UAAW,SAAzB,SACI,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,uBAAO3jB,UAAU,eAAjB,SACKgB,KAAKye,sBAEV,gCAAQze,KAAKoU,yBAIrB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,aAChE,sBAAKzgB,UAAU,cAAf,UACI,qBAAKA,UAAU,oBAAf,kEAGA,qBAAKA,UAAU,oBAAf,SACI,yBAAQA,UAAU,oBAAoB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAA/G,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,gC,GA5SN7P,IAAMK,WAqTtBoe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,wBAEa,SAApB,EAAKjC,MAAMiC,KACJ,yBAEJ,8BAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKyG,WAAtB,qBAEa,SAApB,EAAKxI,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK4H,YAAtB,sBAEJ,MA1BQ,EA6BnBiT,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAnCA,EAuCnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SAzCI,EA4CnBzN,cAAgB,SAACC,GAEb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAlDJ,EAqDnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KArDjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CA2DnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,qBAAK/P,UAAU,kBAAf,SACI,eAAC8e,GAAA,EAAD,WACI,sBAAK9e,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,yCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKsE,YACvBoI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,kCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,gCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKqE,YACvBqI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAK4E,YAC1B8H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,8CACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK8E,YACvB4H,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACI4E,GAAG,SACH7c,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiD,YACvByJ,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,KALzB,UAOI,wBAAQqN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIZ,qBAAK1P,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,QACLpJ,KAAK,QACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK6E,MACvB6H,SAAUlQ,KAAKuO,cACfwF,YAAY,kBACZmK,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,sBAAKA,UAAU,MAAf,UACI,cAAC8e,GAAA,EAAKC,MAAN,UACI,cAACD,GAAA,EAAKE,MAAN,yBAEJ,qBAAKpN,IAAKjP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO0I,IAAI,SAASrP,MAAO,CAAEsP,MAAO,OAAQC,OAAQ,aAE7G,qBAAK/R,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,mCACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiF,WACvByH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,yBACZ/N,KAAK,MACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK0E,IACvBgI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKkF,YACvBwH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,qBACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKwE,mBACvBkI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,0BACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKmF,WACvBuH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,0CACZ/N,KAAK,UACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKuE,QACvBmI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,mCACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKoF,WACvBsH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAKgF,YAC1B0H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKqF,YACvBqH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAK+E,YAC1B2H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,0BACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKsF,WACvBoH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,uBASrD,eAAC6M,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GAjWrBlQ,IAAMK,WAuWZmR,eAAWiU,IClqBpB5D,G,kDACF,WAAYthB,GAAQ,IAAD,8BACf,cAAMA,IAsFVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAxFJ,EA2FnBkC,QA3FmB,uCA2FT,WAAO7N,EAAMC,EAASmF,GAAtB,2BAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAIkH,gCAAgCzF,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAH1J,OAMF,GAHI3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACRE,EAAOF,EAAIE,KAAKmN,OAAOnN,MACrB,EAAK1D,MAAMmK,gBAAgB7D,UAAW,EAAKtG,MAAMmK,gBAAgBJ,UAAY,CAE/E,IADI8W,EAAO,GACF1N,EAAI,EAAGA,EAAIzP,EAAK1B,OAAQmR,IAC7B0N,EAAKnd,EAAKyP,GAAG7M,SAAW,EAI5B,IAFIuO,EAAY,EAAK7U,MAAM6U,UACvB3P,EAAa,EAAKlF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAC1FsN,EAAI,EAAGA,EAAI0B,EAAU7S,OAAQmR,IAC7B0N,EAAKhM,EAAU1B,GAAG7M,UACnB5C,EAAKqM,KAAL,2BACO8E,EAAU1B,IACVjO,IAKnB,EAAK4J,SAAS,CACVG,SAAS,EACT6R,8BAA+Bpd,EAC/B+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAzB9B,qDA4BF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DA3FS,4DAuJnByD,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KA3JlB,EA8JnBmT,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KA/JZ,EA4LnB8D,iBAAmB,WAGf,IAFA,IAAIzV,EAAO,EAAKtL,MAAMghB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8C7H,EAAK6H,GAA7CpJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BwJ,EAAQnD,KAAK,CACT7J,KAAMyD,EAAc,MAAQD,EAC5BkF,MAAO7E,IAGf,OAAOmJ,GAtMQ,EAyMnBF,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAnNQ,EAsNnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GAhOQ,EAmOnBxI,8BAAgC,SAAC8L,GAC7B,IAAIyK,EAA4B,EAAKjhB,MAAM8gB,8BAA8BtK,GACzE,EAAK1H,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACH4D,MAzOX,EAAKjhB,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACXmM,YAAa,GACbF,8BAA+B,GAC/B7gB,SAAU,OACVkK,gBAAiB,GAEjBnF,QAAS,IACTya,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACToO,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACd6D,YAAa,GACbK,UAAW,KACXJ,YAAa,GACbgB,4BAA6B,GAEjCsS,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb8D,YAAY,GA9BD,E,4FAkCnB,sCAAA1hB,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK6DjM,QAAQ6P,IAAI,CAC7DvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,OARlC,2CAKa6J,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAUY7W,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCsd,YAAaA,EAAYtd,KAAKmN,OAAOnN,KACrCyG,gBAAiBA,IAjB7B,UAmBcjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,GAnBlD,6DAqBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFAgIA,WACI,IAAI2Q,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAM8gB,8BAA8BvK,KAAI,SAAC4K,EAAM3K,GACvD,IAAQ9M,EAAoDyX,EAApDzX,YAAaC,EAAuCwX,EAAvCxX,YAAazK,EAA0BiiB,EAA1BjiB,UAAWgG,EAAeic,EAAfjc,WAC7C,OACI,+BACI,6BAAKob,EAAU9J,IACf,6BAAKtX,IACL,6BAAKwK,IACL,6BAAKC,GAA4B,8BACjC,6BAAKzE,MALAsR,Q,0BAWrB,WACI,IAAIrM,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK4O,SAAS,CACV3E,gBAAiBA,IAErBjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,K,oBAuDxC,WAAU,IAAD,OACL,OAAIjK,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,QACdI,oBAAqB9S,KAAK8S,oBAC1B+N,iBAAkB7gB,KAAK6gB,iBACvBnM,eAAgB1U,KAAK0U,iBAEzB,qBAAK1V,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,mFAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,SACI,yBAAQY,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAK+f,gBAA/E,UACI,cAAC,IAAD,CAAW1gB,KAAMR,KAAKF,MAAMC,WADhC,mCAMZ,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAKxP,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAIlE,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK6gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBJ,UAClCqG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAK/D,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAI7D,yBAAQ5E,KAAK,SAASpQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKuR,WAArF,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,0CACA,+DACA,gDACA,wDAGR,gCACKgB,KAAKoU,oC,GA/VFlV,aA0WlCoe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,8DAEa,SAApB,EAAKjC,MAAMiC,KACJ,yEAEJ,oEAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKoJ,6BAAtB,qBAEa,SAApB,EAAKnL,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKqJ,8BAAtB,gCAEJ,MA1BQ,EA6BnBA,8BA7BmB,sBA6Ba,sBAAAlL,EAAA,yDAC5B,EAAKsP,SAAS,CAAEG,SAAS,IADG,UAGpB,EAAK3P,MAAMoE,KAAKqG,UAHI,qBAIhB,EAAKzK,MAAMoE,KAAKiH,4BAJA,gCAKVrH,EAAIoH,8BAA8B,EAAKpL,MAAMoE,MALnC,+CAOVJ,EAAImH,6BAA6B,EAAKnL,MAAMoE,MAPlC,oCAUhB,EAAKpE,MAAMoE,KAAKiH,4BAVA,kCAWVrH,EAAIsH,gCAAgC,EAAKtL,MAAMoE,KAAKiH,6BAX1C,QAgBxB,EAAKmE,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,0EACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UA9Ba,kDAgCxB9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA5CjB,0DA7Bb,EA8EnBuM,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SApFA,EAwFnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA1FI,EA6FnBzN,cAAgB,SAACC,GACb5O,QAAQC,IAAI2O,GACZ,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAnGJ,EAsGnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KAtGjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CA4GnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,sBAAK/P,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAM0T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,eAAgB0I,MAAOsF,MAC7EtF,MAAO1O,KAAKZ,MAAMoE,KAAKmC,aACvBwP,UAAU,SAItB,sBAAKnW,UAAU,aAAf,UACI,oDACA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,SAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMyhB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAOsF,MAC1EtF,MAAO1O,KAAKZ,MAAMoE,KAAKqG,cAG/B,qBAAK7K,UAAU,aAAf,SACI,cAAC,IAAD,CAASA,UAAU,oBAAoBmC,QAAS,kBAAM,EAAKoN,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAO,mBAK3H,sBAAK1P,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMsV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,UAAW0I,MAAOsF,MACxEtF,MAAO1O,KAAKZ,MAAMoE,KAAK4C,QACvB+O,UAAU,eAOlC,eAACjH,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GAzMrBlQ,IAAMK,WAgNZmR,eAAWqQ,IC3jBpBS,G,kDACF,WAAY/hB,GAAQ,IAAD,8BACf,cAAMA,IA6FVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA/FJ,EAkGnBkC,QAlGmB,uCAkGT,WAAO7N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAI4G,yBAAyBnF,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHnJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACVG,SAAS,EACTqS,uBAAwB9d,EAAIE,KAAKmN,OAAOnN,KACxC+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAR9B,mDAYF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDAlGS,4DAwJnB0Q,cAxJmB,uCAwJH,WAAO3R,GAAP,SAAAlP,EAAA,6DACZ,EAAKsP,SAAS,CAAE9J,QAAS0J,EAAEC,OAAOC,QADtB,SAEN,EAAKgE,QAAQ,EAAK5S,MAAMyf,WAAWC,YAAahR,EAAEC,OAAOC,OAFnD,2CAxJG,wDA4JnB+Q,WA5JmB,uCA4JN,WAAO5a,GAAP,SAAAvF,EAAA,sEACH,EAAKoT,QAAQ7N,EAAM,EAAK/E,MAAMgF,SAD3B,2CA5JM,wDAgKnB+b,iBAAmB,WAGf,IAFA,IAAIzV,EAAO,EAAKtL,MAAMghB,YAClB9N,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8C7H,EAAK6H,GAA7CpJ,EAAN,EAAMA,UAAWJ,EAAjB,EAAiBA,YAAaD,EAA9B,EAA8BA,YAC9BwJ,EAAQnD,KAAK,CACT7J,KAAMyD,EAAc,MAAQD,EAC5BkF,MAAO7E,IAGf,OAAOmJ,GA1KQ,EA6KnBF,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAvLQ,EA0LnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GApMQ,EAuMnBqO,iBAAmB,WAGf,IAFA,IAAIjW,EAAO,EAAKtL,MAAMwhB,YAClBtO,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAiC7H,EAAK6H,GAAhCrM,EAAN,EAAMA,UAAWH,EAAjB,EAAiBA,YACjBuM,EAAQnD,KAAK,CACT7J,KAAMS,EACNiI,MAAO9H,IAGf,OAAOoM,GAjNQ,EAoNnBE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KAxNlB,EA4OnBE,sBAAwB,WACpB,EAAKyE,SAAS,CACVmO,WAAW,EACXC,UAAW,MACXC,cAAc,EACdC,aAAa,EACbC,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,EAAK7F,MAAMmK,gBAAgBtE,aACzCiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACb8X,qBAAsB,MA5Pf,EAiQnBnX,yBAA2B,SAACkM,GACxB,IAAIkL,EAAqB,EAAK1hB,MAAMshB,uBAAuB9K,GAC3D,EAAK1H,SAAS,CACVoS,YAAY,EACZ7D,UAAU,eACHqE,MAtQI,EA2QnBC,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KA5Qb,EA+QnB5D,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KA9Q3B,EAAKjd,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVZ,YAAa,GACbQ,YAAa,GACbF,uBAAwB,GACxBrhB,SAAU,OACVkK,gBAAiB,GAGjBnF,QAAS,GACTya,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACToO,UAAW,CACP/W,QAAS,KACTpH,UAAW,GACXgG,WAAY,GACZW,aAAc,KACdiB,UAAW,KACXH,YAAa,GACb+C,YAAa,GACbK,UAAW,KACXJ,YAAa,GACb8X,qBAAsB,GAE1BxE,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACb8D,YAAY,GAnCD,E,4FAuCnB,wCAAA1hB,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK0EjM,QAAQ6P,IAAI,CAC1EvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAI8F,eAAe,EAAG,KACtB9F,EAAIkD,eAAe,EAAG,OATlC,2CAKayM,EALb,KAK6B4B,EAL7B,KAKwCmM,EALxC,KAKqDQ,EALrD,KAWYrX,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,cAE9F3F,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCsd,YAAaA,EAAYtd,KAAKmN,OAAOnN,KACrC8d,YAAaA,EAAY9d,KAAKmN,OAAOnN,KACrCyG,gBAAiBA,IAnB7B,UAqBcjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,GArBlD,6DAuBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAzBzC,wBA0BY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApCrD,2BAwCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDjD,0D,gFAuGA,WACI,IAAIxF,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,cAE7C3F,KAAK4O,SAAS,CACV3E,gBAAiBA,IAErBjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,K,6BAsExC,WACI,IAAImW,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMshB,uBAAuB/K,KAAI,SAAC4K,EAAM3K,GAChD,IAAQ9M,EAAiEyX,EAAjEzX,YAAaC,EAAoDwX,EAApDxX,YAAahD,EAAuCwa,EAAvCxa,YAAazH,EAA0BiiB,EAA1BjiB,UAAWgG,EAAeic,EAAfjc,WAC1D,OACI,+BACI,6BAAKob,EAAU9J,IACf,6BAAK9M,IACL,6BAAKC,IACL,6BAAKhD,IACL,6BAAKzH,IACL,6BAAKgG,MANAsR,Q,oBAmDrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,QACdI,oBAAqB9S,KAAK8S,oBAC1B+N,iBAAkB7gB,KAAK6gB,iBACvBnM,eAAgB1U,KAAK0U,eACrB2M,iBAAkBrhB,KAAKqhB,mBAE3B,cAAC,GAAD,CACIlT,KAAMnO,KAAKF,MAAMkhB,WACjBhF,MAAOhc,KAAKyhB,YACZje,KAAMxD,KAAKF,MAAMqd,UACjBzK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,mEAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,yBAAQY,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAK+f,gBAA/E,UACI,cAAC,IAAD,CAAW1gB,KAAMR,KAAKF,MAAMC,WADhC,6BAGA,uBAAOf,UAAU,OAAjB,kEACA,yBAAQA,UAAU,uBAAuB0P,MAAO1O,KAAKF,MAAMgF,QAASoL,SAAUlQ,KAAKmgB,cAAe3e,MAAO,CAAEsP,MAAO,QAAlH,UACI,wBAAQpC,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,2BAKhB,qBAAK1P,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK6gB,mBACdlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBJ,UAClCqG,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAI/D,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKqhB,mBACd1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBrD,UAClCsJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAASpQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKuR,WAArF,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,+DACA,gDACA,iDACA,0CACA,wDAGR,gCACKgB,KAAKoU,yBAIlB,cAAC,GAAD,CAAYmL,WAAYvf,KAAKF,MAAMyf,WAAYE,WAAYzf,KAAKyf,yB,GAjavDvgB,aAya3B0iB,G,kDACF,WAAYxiB,GAAQ,IAAD,8BACf,cAAMA,IAMVyG,OAPmB,sBAOV,sBAAAvG,EAAA,6DACL,EAAKsP,SAAS,CAAEG,SAAS,IADpB,kBAGK3L,EAAIgH,yBAAyB,EAAKhL,MAAMoE,KAAK+d,sBAHlD,OAKD,EAAK3S,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,8DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKrQ,MAAM4c,QACX,EAAK5c,MAAMsT,UAnBV,kDAqBD9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCxC,0DALL,EAAK3P,MAAQ,CACTiP,SAAS,GAHE,E,0CA8CnB,WACI,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,wCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,sBAAKrP,UAAU,YAAf,UACK,0FADL,IACwD,kCAAKgB,KAAKZ,MAAMoE,KAAKiG,YAArB,OADxD,IACgG,UAGpG,eAACyE,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK6F,OAAvC,0BAGR,cAAC,EAAD,CAASsI,KAAMnO,KAAKF,MAAMiP,iB,GAhEdlQ,IAAMK,WAuE5Boe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,8CAEa,SAApB,EAAKjC,MAAMiC,KACJ,+CAEJ,oDAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKgJ,sBAAtB,qBAEa,SAApB,EAAK/K,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK0gB,uBAAtB,sBAEJ,MA1BQ,EA6BnB1X,sBA7BmB,sBA6BK,sBAAA7K,EAAA,6DACpB,EAAKsP,SAAS,CAAEG,SAAS,IADL,kBAGV3L,EAAI+G,sBAAsB,EAAK/K,MAAMoE,MAH3B,OAKhB,EAAKoL,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,mBACPoO,QAAQ,+DACRC,KAAM,UACNC,UAAW,aACXC,QAAS,CACLC,SAAU,KAGdC,YAAa,CAAC,uBAAwB,qBACtCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKiO,WACL,EAAKte,MAAMsT,UAnBK,kDAqBhB9S,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAjCzB,0DA7BL,EAmEnBuM,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAzEA,EA6EnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SA/EI,EAkFnBzN,cAAgB,SAACC,GACb5O,QAAQC,IAAI2O,GACZ,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAxFJ,EA2FnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KA3FjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CAiGnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,sBAAK/P,UAAU,kBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAM0T,sBACpBa,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,eAAgB0I,MAAOsF,MAC7EtF,MAAO1O,KAAKZ,MAAMoE,KAAKmC,oBAInC,sBAAK3G,UAAU,aAAf,UACI,oDACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMyhB,mBACpBlN,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAOsF,MAC1EtF,MAAO1O,KAAKZ,MAAMoE,KAAKqG,iBAInC,sBAAK7K,UAAU,aAAf,UACI,uBAAOA,UAAU,OAAjB,sBACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMsV,iBACpBf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,UAAW0I,MAAOsF,MACxEtF,MAAO1O,KAAKZ,MAAMoE,KAAK4C,eAInC,sBAAKpH,UAAU,aAAf,UACI,uBAAOA,UAAU,GAAjB,6BACA,8BACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKZ,MAAMiiB,mBACpB1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZ7D,SAAU,SAAA8D,GAAO,EAAKzF,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,YAAa0I,MAAOsF,MAC1EtF,MAAO1O,KAAKZ,MAAMoE,KAAKoD,uBAO/C,eAACsH,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GApMrBlQ,IAAMK,WA0MZmR,eAAW8Q,IC3rBpB2F,G,kDACF,WAAY1nB,GAAQ,IAAD,8BAEf,cAAMA,IA8EVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAjFJ,EAoFnBkC,QApFmB,uCAoFT,WAAO7N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAI4G,yBAAyBnF,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHnJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACVG,SAAS,EACTqS,uBAAwB9d,EAAIE,KAAKmN,OAAOnN,KACxC+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAR9B,mDAYF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDApFS,4DA2InBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GArJQ,EAwJnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GAlKQ,EAqKnBqO,iBAAmB,WAGf,IAFA,IAAIjW,EAAO,EAAKtL,MAAMwhB,YAClBtO,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAiC7H,EAAK6H,GAAhCrM,EAAN,EAAMA,UAAWH,EAAjB,EAAiBA,YACjBuM,EAAQnD,KAAK,CACT7J,KAAMS,EACNiI,MAAO9H,IAGf,OAAOoM,GA/KQ,EAkLnB+T,eAAiB,WACb,MAAO,CAAC,CAAE/gB,KAAM,IAAK0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,KAnLtC,EAsLnBwE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KA1LlB,EAuNnB+c,WAAa,SAAC1Q,GACV,EAAKlX,MAAMwQ,QAAQC,KAAK,wBAAxB,aACI/D,KAAM,EAAKhM,MAAMgM,MACd,EAAKhM,MAAMshB,uBAAuB9K,MA1N1B,EA8NnB2Q,UAAY,SAAC3Q,GACT,EAAKlX,MAAMwQ,QAAQC,KAAK,gBAAxB,aACI/D,KAAM,EAAKhM,MAAMgM,MACd,EAAKhM,MAAMshB,uBAAuB9K,MAjO1B,EAqOnBmL,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KAtOb,EAyOnB5D,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KAvO3B,EAAKjd,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVJ,YAAa,GACbF,uBAAwB,GACxBrhB,SAAU,OACVkK,gBAAiB,GAEjBnF,QAAS,IACTya,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTjD,KAAM,EACNzK,KAAM,QAnBK,E,4FAuBnB,wCAAA/B,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,EACT1N,KAAMrB,KAAKZ,MAAMuQ,SAAS7P,OAASE,KAAKZ,MAAMuQ,SAAS7P,MAAMuB,OAHrE,kBAMsEyB,QAAQ6P,IAAI,CACtEvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAIkD,eAAe,EAAG,KACtBlD,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,YAVnD,2CAMawH,EANb,KAM6B4B,EAN7B,KAMwC2M,EANxC,KAMqDvM,EANrD,KAYY9K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWkL,EAAQvR,KAAKmN,OAAO9G,WAEnC7J,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjC8d,YAAaA,EAAY9d,KAAKmN,OAAOnN,KACrCyG,gBAAiBA,EACjBJ,UAAWkL,EAAQvR,KAAKmN,OAAO9G,YArB3C,UAuBc7J,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,GAvBlD,6DAyBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA3BzC,wBA4BY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtCrD,2BA0CQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApDjD,0D,gFAyGA,WACI,IAAIxF,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,aACzCkE,UAAW7J,KAAKF,MAAMmK,gBAAgBJ,WAE1C7J,KAAK4O,SAAS,CACV3E,gBAAiBA,IAErBjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,K,6BAqDxC,WAAmB,IAAD,OACVmW,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMshB,uBAAuB/K,KAAI,SAAC4K,EAAM3K,GAChD,IAAQ7P,EAAuCwa,EAAvCxa,YAAazH,EAA0BiiB,EAA1BjiB,UAAWgG,EAAeic,EAAfjc,WAChC,OACI,+BACI,6BAAKob,EAAU9J,IACf,6BAAK7P,IACL,6BAAKzH,IACL,6BAAKgG,IACL,6BAAK,EAAKlF,MAAMgM,OACK,SAApB,EAAKhM,MAAMuB,MACR,oBAAIrC,UAAU,cAAd,SACI,wBAAQA,UAAU,iBAAiBmC,QAAS,kBAAM,EAAK6lB,WAAW1Q,IAAlE,wCAGc,SAApB,EAAKxW,MAAMuB,MACT,oBAAIrC,UAAU,cAAd,SACI,wBAAQA,UAAU,iBAAiBmC,QAAS,kBAAM,EAAK8lB,UAAU3Q,IAAjE,oCAbHA,Q,oBA2CrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,iDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAMA,UAAU,cAAhB,SACI,yBAAQoQ,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAK+f,gBAA/E,UACI,cAAC,IAAD,CAAW1gB,KAAMR,KAAKF,MAAMC,WADhC,mCAMZ,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK+mB,iBACdpT,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMgM,KAClBoE,SAAU,SAAA8D,GAAC,OAAI,EAAKpF,SAAS,CAAE9C,KAAMkI,SAI7C,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKqhB,mBACd1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBrD,UAClCsJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAASpQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKuR,WAArF,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,iDACA,0CACA,mDACA,kDACA,4BAIR,gCACKgB,KAAKoU,oC,GA1VPlV,aAqWnC4nB,GAAqBxlB,YAAc1C,EAEpByR,mBAAWyW,ICxWpBzS,GAAMxV,IAAMyV,YAEZ8B,G,kDACF,WAAYhX,GAAQ,IAAD,8BACf,cAAMA,IAsEVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAxEJ,EA2EnBkC,QA3EmB,uCA2ET,WAAOzI,GAAP,eAAA3K,EAAA,yDACN,EAAKsP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK1U,MAAMmK,gBAAgB7D,QAH9B,uBAIE6I,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAOyF,YAAY,IAhB9C,0CAmBcpR,EAAIwJ,cAAc,EAAG,IAAS3C,GAAmB,EAAKnK,MAAMmK,iBAnB1E,OAmBE3G,EAnBF,OAoBF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACV4F,YAAY,EACZzF,SAAS,EACT8F,YAAavR,EAAIE,KAAKA,KACtByR,gBAAiB3R,EAAIE,KAAKyR,kBAzB5B,qDA4BFrV,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DA3ES,wDAuInBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAjJQ,EAoJnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GA9JQ,EAiKnBE,sBAjKmB,uCAiKK,WAAOlN,EAAM0I,GAAb,iBAAApP,EAAA,0DAEhB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ0I,EACX,iBAAT1I,EAJgB,wBAKhB,EAAK4I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CvK,EAAgB7D,aAAU0O,EANV,kBAQU1R,EAAIkH,gCAAgC,EAAG,IAASL,GAR1D,QAQR0K,EARQ,QASEnR,KAAKmN,OAAOnN,KAAK1B,SAC3BmI,EAAgB7D,QAAUuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAE5D,EAAKwI,SAAS,CACVG,SAAS,EACT4F,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCyG,gBAAiBA,IAfT,kDAkBZ,EAAK2E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACX1K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAvBY,0DAjKL,wDAEf,EAAKC,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX1K,gBAAiB,GACjBlK,SAAU,OACVkV,gBAAiB,GACjBJ,YAAa,GACb3H,KAAM,IAAIE,MATC,E,4FAanB,sCAAA9N,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK8CjM,QAAQ6P,IAAI,CAC9CvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,YAPnD,2CAKawH,EALb,KAK6BgC,EAL7B,KASY9K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FmG,KAAM,EACNjC,UAAWkL,EAAQvR,KAAKmN,OAAO9G,WAZ3C,UAckCzG,EAAIkH,gCAAgC,EAAG,IAASL,GAdlF,SAcY+K,EAdZ,QAe0BxR,KAAKmN,OAAOnN,KAAK1B,SAC/BmI,EAAgB7D,QAAU4O,EAAcxR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAEhExG,QAAQC,IAAIoK,GACZjK,KAAK4O,SAAS,CACV+F,UAAWK,EAAcxR,KAAKmN,OAAOnN,KACrCuP,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CyG,gBAAiBA,EACjB8E,SAAS,IAvBrB,qDA0BQnP,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA5BzC,wBA6BY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCrD,2BA2CQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArDjD,0D,mFAgLA,WAEI,OAAOzP,KAAKF,MAAM+U,YAAYwB,KAAI,SAAC7S,EAAM8S,GACrC,IAAQxO,EAAgEtE,EAAhEsE,YAAaG,EAAmDzE,EAAnDyE,OAAQF,EAA2CvE,EAA3CuE,QAAS4N,EAAkCnS,EAAlCmS,SAAUY,EAAwB/S,EAAxB+S,WAAY7J,EAAYlJ,EAAZkJ,QAC5D,OACI,+BACI,6BALE,EAKa4J,IACf,6BAAKxO,IACL,6BAAgB,IAAXG,EAAe,MAAQ,YAC5B,6BAAK0N,IACL,6BAAKjJ,IACL,6BAAK6J,IACL,6BAAKxO,MAPAuO,Q,oBAarB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,+DAKR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAciR,SAAU,SAAAzB,GAAC,OAAI,EAAKK,cAAcL,IAAhE,UACI,uDACA,qBAAKxP,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDmB,UAAU,MAGlB,uBAAOnW,UAAU,OAAjB,+BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAEhN,KAAM,mBAAU0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,IACrFiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB6B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,QAG1D,wBAAQ5E,KAAK,SAASpQ,UAAU,uBAAuBmC,QAAS,SAACqN,GAAQA,EAAEM,iBAAkB,EAAK4D,WAAlG,wCAGP1S,KAAKF,MAAM0U,YACR,sBAAKxV,UAAU,QAAf,UACI,cAAC,KAAD,CAAKoW,UAAWf,GAAKgB,SAAS,kBAAkBC,MAAO,GAAKC,EAAG,EAA/D,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAASpQ,UAAU,uBAAuBmC,QAASqU,EAAhE,+BAEpB,cAAC,KAAD,CACIgB,QAAS,WAEL,OAAO,wBAAQpH,KAAK,SAASpQ,UAAU,uBAAhC,kCAEXyX,QAAS,kBAAM,EAAKC,sBAKpC,uBACC1W,KAAKF,MAAM0U,YACR,qBAAKH,IAAKA,GAAK7S,MAAO,CAAEiU,SAAU,QAAlC,SACI,sBAAK7U,GAAG,SAASyT,IAAK,SAAAsC,GAAE,OAAK,EAAKD,aAAeC,GAAK3X,UAAU,kBAAkBwC,MAAO,CAAEsP,MAAO,SAAlG,UACI,qBAAK9R,UAAU,MAAf,SACI,qBAAKA,UAAU,qCAAf,SACI,gCACI,mFAAuC,uBAD3C,6DAOR,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,2CADJ,IACkBgB,KAAKF,MAAM6U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEpI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,YAAYpG,KAAKF,MAAM6U,UAAUV,MAAK,SAAAzF,GAAC,OAAIA,EAAEpI,UAAY,EAAKtG,MAAMmK,gBAAgB7D,WAASpH,aAEvL,uBAAMA,UAAU,YAAhB,UACI,mDADJ,IACyD,IAApCgB,KAAKF,MAAMmK,gBAAgB6B,KAAa,mBAAW9L,KAAKF,MAAMmK,gBAAgB6B,QAEnG,uBAAM9M,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMmV,wBAKrD,qBAAKjW,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oDACA,gDACA,mDACA,8DACA,qDACA,mDACA,qDAGR,gCACKgB,KAAKoU,2BAMtB,qBAAKpV,UAAU,oCAAf,SACI,sBAAKA,UAAU,kDAAf,qCACkBgB,KAAKF,MAAMoN,KAAKI,UADlC,aACoDtN,KAAKF,MAAMoN,KAAKM,WAAa,EADjF,aACyFxN,KAAKF,MAAMoN,KAAKO,cAAc,uBADvH,sCAEW,uBACP,uBACA,uBACA,uBACCzN,KAAKF,MAAMmV,iC,GA5VpB/V,aAuW5BkX,GAAc9U,YAAc1C,EAEbyR,mBAAW+F,IC3WpB/B,GAAMxV,IAAMyV,YAEZsC,G,kDACF,WAAYxX,GAAQ,IAAD,8BACf,cAAMA,IAsEVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAxEJ,EA2EnBkC,QA3EmB,uCA2ET,WAAOzI,GAAP,eAAA3K,EAAA,yDACN,EAAKsP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK1U,MAAMmK,gBAAgB7D,QAH9B,uBAIE6I,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAOyF,YAAY,IAhB9C,0CAmBcpR,EAAIyJ,iBAAiB,EAAG,IAAS5C,GAAmB,EAAKnK,MAAMmK,iBAnB7E,OAmBE3G,EAnBF,OAoBF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACViE,UAAWvP,EAAIE,KAAKA,KACpByR,gBAAiB3R,EAAIE,KAAKyR,gBAC1BlG,SAAS,EACTyF,YAAY,IAzBd,qDA4BF5U,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA9B/B,wBA+BE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzC3C,2BA6CFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvDvC,0DA3ES,wDAuInBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GAjJQ,EAoJnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GA9JQ,EAiKnBE,sBAjKmB,uCAiKK,WAAOlN,EAAM0I,GAAb,iBAAApP,EAAA,0DAChB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ0I,EACX,iBAAT1I,EAHgB,wBAIhB,EAAK4I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CvK,EAAgB7D,aAAU0O,EALV,kBAOU1R,EAAIkH,gCAAgC,EAAG,IAASL,GAP1D,QAOR0K,EAPQ,QAQEnR,KAAKmN,OAAOnN,KAAK1B,SAC3BmI,EAAgB7D,QAAUuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAE5D,EAAKwI,SAAS,CACVG,SAAS,EACT4F,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjCyG,gBAAiBA,IAdT,kDAiBZ,EAAK2E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACX1K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAtBY,0DAjKL,wDAEf,EAAKC,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX5U,SAAU,OACVkK,gBAAiB,GACjBgL,gBAAiB,GACjB/H,KAAM,IAAIE,KACVyF,UAAW,IATA,E,4FAanB,sCAAAvT,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK8CjM,QAAQ6P,IAAI,CAC9CvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,YAPnD,2CAKawH,EALb,KAK6BgC,EAL7B,KASY9K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWkL,EAAQvR,KAAKmN,OAAO9G,UAC/BiC,KAAM,GAZlB,UAckC1I,EAAIkH,gCAAgC,EAAG,IAASL,GAdlF,SAcY+K,EAdZ,QAe0BxR,KAAKmN,OAAOnN,KAAK1B,SAC/BmI,EAAgB7D,QAAU4O,EAAcxR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAGhEpG,KAAK4O,SAAS,CACV+F,UAAWK,EAAcxR,KAAKmN,OAAOnN,KACrCuP,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CyG,gBAAiBA,EACjB8E,SAAS,IAvBrB,qDA0BQnP,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA5BzC,wBA6BY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCrD,2BA2CQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBArDjD,0D,mFA+KA,WAGI,IAFA,IAAI2D,EAAM,GACNhI,EAAOpL,KAAKF,MAAM+S,UACbI,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA8K7H,EAAK6H,GAA3K4D,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,QAASC,EAApC,EAAoCA,OAAQC,EAA5C,EAA4CA,OAAQC,EAApD,EAAoDA,MAAOC,EAA3D,EAA2DA,OAAQC,EAAnE,EAAmEA,IAAKC,EAAxE,EAAwEA,KAAM7Q,EAA9E,EAA8EA,YAAa8Q,EAA3F,EAA2FA,OAAQC,EAAnG,EAAmGA,MAAOC,EAA1G,EAA0GA,MAAOC,EAAjH,EAAiHA,SAAUC,EAA3H,EAA2HA,QAASC,EAApI,EAAoIA,QAASC,EAA7I,EAA6IA,OAAQC,EAArJ,EAAqJA,QAASC,EAA9J,EAA8JA,KAAMC,EAApK,EAAoKA,MACpK5E,EAAIvD,KACA,qBAAI7Q,UAAU,cAAd,UACI,oBAAIkV,QAAQ,IAAIlV,UAAU,eAA1B,SAA0CyH,IAC1C,yCACA,6BAAKuQ,IACL,6BAAKU,IACL,6BAAKR,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKb,IACL,6BAAKU,MAZwB1E,IAerCG,EAAIvD,KACA,qBAAI7Q,UAAU,cAAd,UACI,oCACA,6BAAK6X,IACL,6BAAKU,IACL,6BAAKR,IACL,6BAAKU,IACL,6BAAKJ,IACL,6BAAKU,IACL,6BAAKT,IACL,6BAAKU,IACL,6BAAKlB,IACL,6BAAKU,MAXwB,KAAOvE,IAehD,OAAOG,I,oBAIX,WAAU,IAAD,OACL,OAAIpT,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,qEAKR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,IACrDmB,UAAU,MAGlB,uBAAOnW,UAAU,OAAjB,+BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAS,CAAC,CAAEhN,KAAM,mBAAU0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,IACrFiF,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB6B,KAClCoE,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,OAAQc,QAG1D,wBAAQ5E,KAAK,SAASpQ,UAAU,uBAAuBmC,QAAS,SAACqN,GAAQA,EAAEM,iBAAkB,EAAK4D,WAAlG,wCAGP1S,KAAKF,MAAM0U,YACR,sBAAKxV,UAAU,QAAf,UACI,cAAC,KAAD,CAAKoW,UAAWf,GAAKgB,SAAS,qBAAqBC,MAAO,GAAKC,EAAG,EAAlE,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAASpQ,UAAU,uBAAuBmC,QAASqU,EAAhE,+BAEpB,cAAC,KAAD,CACIgB,QAAS,WAEL,OAAO,wBAAQpH,KAAK,SAASpQ,UAAU,uBAAhC,kCAEXyX,QAAS,kBAAM,EAAKC,sBAKpC,uBACC1W,KAAKF,MAAM0U,YACR,qBAAKH,IAAKA,GAAK7S,MAAO,CAAEiU,SAAU,QAAlC,SACI,sBAAK7U,GAAG,SAASyT,IAAK,SAAAsC,GAAE,OAAK,EAAKD,aAAeC,GAAK3X,UAAU,kBAAkBwC,MAAO,CAAEsP,MAAO,SAAlG,UACI,qBAAK9R,UAAU,MAAf,SACI,qBAAKA,UAAU,qCAAf,SACI,gCACI,uGAAsCgB,KAAKF,MAAM6U,UAAU3U,KAAKF,MAAMoY,UAAW,uBADrF,6DAOR,qBAAKlZ,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,mDADJ,IACyD,IAApCgB,KAAKF,MAAMmK,gBAAgB6B,KAAa,mBAAW9L,KAAKF,MAAMmK,gBAAgB6B,QAEnG,uBAAM9M,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMmV,wBAKrD,qBAAKjW,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,qCAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIkV,QAAQ,IAAIC,QAAQ,MACxB,oBAAIA,QAAQ,IAAZ,uBACA,oBAAIA,QAAQ,IAAZ,oBACA,oBAAIA,QAAQ,IAAZ,2BACA,oBAAIA,QAAQ,IAAZ,sBACA,oBAAIA,QAAQ,IAAZ,uBAEJ,+BACI,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,0CAGR,gCACKnU,KAAKoU,2BAMtB,qBAAKpV,UAAU,oCAAf,SACI,sBAAKA,UAAU,kDAAf,qCACkBgB,KAAKF,MAAMoN,KAAKI,UADlC,aACoDtN,KAAKF,MAAMoN,KAAKM,WAAa,EADjF,aACyFxN,KAAKF,MAAMoN,KAAKO,cAAc,uBADvH,sCAEW,uBACP,uBACA,uBACA,uBACCzN,KAAKF,MAAMmV,iC,GA1XjB/V,aAoY/B0X,GAAiBtV,YAAc1C,EAEhByR,mBAAWuG,ICjYpBsQ,G,kDACF,WAAY9nB,GAAQ,IAAD,8BACf,cAAMA,IA+EVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAjFJ,EAoFnBkC,QApFmB,uCAoFT,WAAOzI,GAAP,eAAA3K,EAAA,yDACN,EAAKsP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,SAGG,EAAK1U,MAAMmK,gBAAgB7D,QAH9B,uBAIE6I,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,sGACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CAAEG,SAAS,EAAO8F,YAAa,KAhB/C,0CAmBczR,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,iBAnBpF,OAmBE3G,EAnBF,OAoBF,EAAKsL,SAAS,CAAEG,SAAS,EAAO8F,YAAavR,EAAIE,KAAKmN,OAAOnN,KAAMgR,YAAY,IApB7E,qDAuBF5U,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAzB/B,wBA0BE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApC3C,2BAwCFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlDvC,0DApFS,wDA2InBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GArJQ,EAwJnBE,sBAxJmB,uCAwJK,WAAOlN,EAAM0I,GAAb,iBAAApP,EAAA,0DAChB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ0I,EACX,iBAAT1I,EAHgB,wBAIhB,EAAK4I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAC3CvK,EAAgB7D,aAAU0O,EALV,kBAOU1R,EAAIkH,gCAAgC,EAAG,IAASL,GAP1D,cAOR0K,EAPQ,QAQEnR,KAAKmN,OAAOnN,KAAK1B,SAC3BmI,EAAgB7D,QAAUuO,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAE5D,EAAKwI,SAAS,CACVG,SAAS,EACTmJ,MAAOvD,EAAUnR,KAAKmN,OAAOnN,KAAK1B,OAAS6S,EAAUnR,KAAKmN,OAAOnN,KAAK,GAAK,GAC3EyG,gBAAiBA,IAdT,UAgBN,EAAKyI,QAAQzI,GAhBP,0DAkBZ,EAAK2E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACX1K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAvBY,0DAxJL,0DAiMnB4Q,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eApME,EA2NnB6U,SA3NmB,uCA2NR,WAAOhM,GAAP,iBAAAhX,EAAA,6DACH0J,EAAY,EAAKlJ,MAAM+U,YAAYyB,GAAOtN,UAC9C,EAAK4F,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,IANV,kBASiB9Z,EAAIkE,WAAW0B,GAThC,QAUHmK,GADIA,EATD,QAUe3P,KAAKmN,QACfvI,YAAc,IAAIgF,KAAK+F,EAAQ/K,aACvC+K,EAAQ3K,YAAc,IAAI4E,KAAK+F,EAAQ3K,aACvC2K,EAAQ5K,YAAc,IAAI6E,KAAK+F,EAAQ5K,aACvC,EAAKqG,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,EACdC,aAAa,EACbC,UAAU,eACHhK,KApBR,kDAwBHvT,QAAQC,IAAR,MACA,EAAK+O,SAAS,CACVmO,WAAW,EACXC,UAAW,OACXC,cAAc,IAElBhO,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxCtC,0DA3NQ,wDAwQnB2N,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KAvQ3B,EAAKjd,MAAQ,CAET+U,YAAa,GACb/P,QAAS,GACTiK,SAAS,EACToO,UAAW,CACPnU,UAAW,EACXnB,YAAa,GACbC,YAAa,GACbC,QAAS,GACTC,mBAAoB,GACpBC,OAAQ,EACRC,IAAK,GACLC,MAAO,iCACPC,YAAa,IAAIgF,KACjB/E,MAAO,GACPC,YAAa,GACbC,YAAa,IAAI6E,KACjB5E,YAAa,IAAI4E,KACjBlM,YAAa,GACbuH,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,IAEhBiU,WAAW,EACXC,UAAW,GACXC,cAAc,EACdC,aAAa,EACbjI,gBAAiB,GACjBlC,eAAgB,GAChB9I,gBAAiB,GACjBiO,MAAO,IApCI,E,4FAwCnB,sCAAA5Y,EAAA,6DACIU,KAAK4O,SAAS,CAAEG,SAAS,IAD7B,kBAG8CjM,QAAQ6P,IAAI,CAC9CvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,YALnD,2CAGawH,EAHb,KAG6BgC,EAH7B,KAOY9K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWkL,EAAQvR,KAAKmN,OAAO9G,WAT3C,UAWkCzG,EAAIkH,gCAAgC,EAAG,IAASL,GAXlF,eAWY+K,EAXZ,QAY0BxR,KAAKmN,OAAOnN,KAAK1B,SAC/BmI,EAAgB7D,QAAU4O,EAAcxR,KAAKmN,OAAOnN,KAAK,GAAG4C,SAEhEpG,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CyR,gBAAiBF,EAAQvR,KAAKmN,OAC9B1G,gBAAiBA,EACjBiO,MAAOlD,EAAcxR,KAAKmN,OAAOnN,KAAK1B,OAASkT,EAAcxR,KAAKmN,OAAOnN,KAAK,GAAK,GACnFuL,SAAS,IApBrB,UAsBc/O,KAAK0S,QAAQzI,GAtB3B,0DAwBQrK,QAAQC,IAAR,MACAoP,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnCjD,0D,qFA4IA,WACI,OACI,+BACI,qCACA,6DACA,gDACA,8CACA,mDACA,oD,6BAcZ,WAAmB,IAAD,OAEd,OAAOzP,KAAKF,MAAM+U,YAAYwB,KAAI,SAAC4K,EAAM3K,GACrC,IAAQzO,EAA2DoZ,EAA3DpZ,YAAaC,EAA8CmZ,EAA9CnZ,YAAaM,EAAiC6Y,EAAjC7Y,YAAaH,EAAoBgZ,EAApBhZ,OAAQF,EAAYkZ,EAAZlZ,QACvD,OACI,+BACI,6BALE,EAKauO,IACf,6BAAI,sBAAMtX,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGzO,MACvG,6BAAI,sBAAM7I,UAAU,eAAewC,MAAO,CAAE+gB,OAAQ,WAAaphB,QAAS,kBAAM,EAAKmhB,SAAShM,IAA1F,SAAmGxO,MACvG,6BAAK,EAAK2I,WAAW,IAAIrD,KAAKhF,MAC9B,6BAAgB,IAAXH,EAAe,MAAQ,YAC5B,6BAAKF,MANAuO,Q,oBA6DrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAMid,UACjB1b,KAAMrB,KAAKF,MAAMkd,UACjBhB,MAAOhc,KAAKod,WACZ5Z,KAAMxD,KAAKF,MAAMqd,UACjBpO,QAAS/O,KAAKF,MAAMmd,aACpBI,QAAS,SAAC7Z,GAAD,OAAU,EAAKoL,SAAS,CAAEuO,UAAW3Z,EAAM0Z,aAAa,KACjEjE,OAAQjZ,KAAKF,MAAMod,YACnBxK,QAAS1S,KAAK0S,UAElB,qBAAK1T,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,gEAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,QAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,eAM9E,uBACChU,KAAKF,MAAM0U,YACR,gCACI,qBAAKxV,UAAU,WAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,2CADJ,IACkBgB,KAAKF,MAAMoY,MAAMlZ,aAEnC,uBAAMA,UAAU,YAAhB,UACI,oDADJ,IACsBgB,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,iBAAiB3F,KAAKF,MAAMiT,eAAekB,MAAK,SAAAzF,GAAC,OAAIA,EAAE7I,eAAiB,EAAK7F,MAAMmK,gBAAgBtE,gBAAcX,cAEzN,uBAAMhG,UAAU,YAAhB,UACI,sEADJ,IACkCgB,KAAKF,MAAMmV,gBAAgBxL,oBAIrE,uBACA,qBAAKjI,MAAO,CAAEif,UAAW,SAAzB,SACI,eAAC+B,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,uBAAO3jB,UAAU,eAAjB,SACKgB,KAAKye,sBAEV,gCAAQze,KAAKoU,mC,GAvVPvV,IAAMK,WAiWtCoe,G,kDACF,WAAYle,GAAQ,IAAD,8BACf,cAAMA,IAQVme,SAAW,WACP,MAAwB,QAApB,EAAKne,MAAMiC,KACJ,wBAEa,SAApB,EAAKjC,MAAMiC,KACJ,yBAEJ,8BAhBQ,EAmBnBmc,UAAY,WACR,MAAwB,QAApB,EAAKpe,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAKyG,WAAtB,qBAEa,SAApB,EAAKxI,MAAMiC,KACJ,cAACmb,GAAA,EAAD,CAAQrb,QAAS,EAAK4H,YAAtB,sBAEJ,MA1BQ,EA6BnBiT,MAAQ,WACA,EAAK5c,MAAM6Z,OACX,EAAKrK,SAAS,CACV8K,aAAa,IAGjB,EAAKta,MAAM4c,SAnCA,EAuCnB0B,SAAW,WACP,EAAK9O,SAAS,CAAE8K,aAAa,IAC7B,EAAKta,MAAM4c,SAzCI,EA4CnBzN,cAAgB,SAACC,GAEb,IAAIxI,EAAOwI,EAAEC,OAAOzI,KAChB0I,EAAQF,EAAEC,OAAOC,MACjBlL,EAAO,EAAKpE,MAAMoE,KACtBA,EAAKwC,GAAQ0I,EACb,EAAKtP,MAAMie,QAAQ7Z,IAlDJ,EAqDnBiW,aAAe,WACX,EAAK7K,SAAS,CACV8K,aAAa,KArDjB,EAAK5Z,MAAQ,CACT4Z,aAAa,EACbvK,QAAS,mEACTJ,SAAS,GALE,E,0CA2DnB,WAAU,IAAD,OAEL,OACI,gCACI,eAACb,EAAA,EAAD,CAAO1N,KAAK,KAAK2N,KAAMnO,KAAKZ,MAAM+O,KAAMwP,OAAQ3d,KAAKgc,MAAO4B,UAAQ,EAACxP,SAAS,SAASkO,UAAU,EAAjG,UACI,cAACpO,EAAA,EAAM/O,OAAP,CAAc0e,aAAW,EAAzB,SACI,cAAC3P,EAAA,EAAMqO,MAAP,UAAcvc,KAAKud,eAEvB,eAACrP,EAAA,EAAMG,KAAP,WACKrO,KAAKZ,MAAM2P,SAAW,qBAAK/P,UAAU,gDAAgDwC,MAAO,CAAEuP,OAAQ,SAAhF,SACnB,qBAAK/R,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,+BAKVgB,KAAKZ,MAAM2P,SACT,qBAAK/P,UAAU,kBAAf,SACI,eAAC8e,GAAA,EAAD,WACI,sBAAK9e,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,6BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,yCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKsE,YAEvBoW,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,kCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,gCACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKqE,YAEvBqW,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAK4E,YAC1BgX,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,8CACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK8E,YACvB4H,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,gCACA,eAACF,GAAA,EAAKG,QAAN,CACI4E,GAAG,SACH7c,KAAK,SACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiD,YACvByJ,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,KALzB,UAOI,wBAAQqN,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,6BAIZ,qBAAK1P,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,oBACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,QACLpJ,KAAK,QACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK6E,MACvB6H,SAAUlQ,KAAKuO,cACfwF,YAAY,kBACZmK,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,sBAAKA,UAAU,MAAf,UACI,cAAC8e,GAAA,EAAKC,MAAN,UACI,cAACD,GAAA,EAAKE,MAAN,yBAEJ,qBAAKpN,IAAKjP,EAAYC,MAAQ,KAAO5B,KAAKZ,MAAMoE,KAAK2E,MAAO0I,IAAI,SAASrP,MAAO,CAAEsP,MAAO,OAAQC,OAAQ,aAE7G,qBAAK/R,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,mCACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKiF,WACvByH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,2BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,yBACZ/N,KAAK,MACL0I,MAAO1O,KAAKZ,MAAMoE,KAAK0E,IACvBgI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKkF,YACvBwH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,qBACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKwE,mBACvBkI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,0BACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKmF,WACvBuH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,0CACZ/N,KAAK,UACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKuE,QACvBmI,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,YAIjC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,qCACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,mCACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKoF,WACvBsH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,0CACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAKgF,YAC1B0H,SAAU,SAAAxB,GAAK,OAAI,EAAKH,cAAc,CAAEE,OAAQ,CAAEzI,KAAM,cAAe0I,MAAOA,MAC9E0Q,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,wDACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,sDACZ/N,KAAK,cACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKqF,YACvBqH,SAAUlQ,KAAKuO,cACf2P,SAA8B,SAApBle,KAAKZ,MAAMiC,eAKrC,sBAAKrC,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4CACA,qBAAKhf,UAAU,QAAf,SACI,cAAC,KAAD,CACImgB,SAAUnf,KAAKZ,MAAMoE,KAAK+E,YAC1B6W,WAAW,aACXpgB,UAAU,qBACVkf,SAA8B,SAApBle,KAAKZ,MAAMiC,cAKrC,qBAAKrC,UAAU,MAAf,SACI,eAAC8e,GAAA,EAAKC,MAAN,WACI,cAACD,GAAA,EAAKE,MAAN,4BACA,cAACF,GAAA,EAAKG,QAAN,CACI7O,KAAK,OACL2E,YAAY,0BACZ/N,KAAK,aACL0I,MAAO1O,KAAKZ,MAAMoE,KAAKsF,WACvBoV,SAA8B,SAApBle,KAAKZ,MAAMiC,uBASrD,eAAC6M,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKgc,MAA1C,sBACChc,KAAKwd,kBAId,eAACtP,EAAA,EAAD,CAAOC,KAAMnO,KAAKF,MAAM4Z,YAAatL,SAAS,SAASkO,UAAU,EAAjE,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,iCAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACKgB,KAAKF,MAAMqP,YAGpB,eAACjB,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKyZ,aAA1C,sBACA,cAAC+C,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAASnB,KAAK0d,SAAvC,gCAGR,cAAC,EAAD,CAASvP,KAAMnO,KAAKF,MAAMiP,iB,GA/VrBlQ,IAAMK,WAqW3BgoB,GAAwB5lB,YAAc1C,EACvByR,mBAAW6W,IC9sBpBC,G,kDACF,WAAY/nB,GAAQ,IAAD,8BACf,cAAMA,IAwEVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UA1EJ,EAmFnBkC,QAnFmB,sBAmFT,4CAAApT,EAAA,6DACF8Y,EAAO,EAAKhZ,MAAMuQ,SAAS7P,MAC/B,EAAK8O,SAAS,CAAEG,SAAS,IAFnB,kBAIgC3L,EAAI4H,wBAAwB,EAAG,IAAS,CACtErF,aAAcyS,EAAKzS,aACnBS,QAASgS,EAAKhS,UANhB,OAWF,IAHAiS,GAJIA,EAJF,QAQ4C7U,KAAKmN,OAAOnN,KAEtD8U,EAAU,GACLrF,EAAI,EAAGA,EAAIoF,EAAsBvW,OAAQmR,IAC9CqF,EAAQzI,KACJzM,EAAIgJ,gBAAgBiM,EAAsBpF,GAAGjK,UAAWoP,EAAKxR,UAAWwR,EAAKzS,aAAcyS,EAAKtM,OAbtG,iBAgBoBhJ,QAAQ6P,IAAI2F,GAhBhC,QAgBEzF,EAhBF,OAkBEzH,EAAO,GACF6H,EAAI,EAnBX,aAmBcA,EAAIJ,EAAU/Q,QAnB5B,iBAoBEsJ,EAAKyE,KAAL,2BACOwI,EAAsBpF,IAD7B,IAEIsF,WAAY,GACZC,QAAS,GACTC,QAAS,GACTC,UAAW,MAEXC,EAAS9F,EAAUI,GAAGzP,KAAKmV,OACtBC,EAAI,EA5Bf,aA4BkBA,EAAID,EAAO7W,QA5B7B,sBA6Bc6W,EAAOC,GAAGvX,KA7BxB,OA8Be,IA9Bf,QAgCe,IAhCf,QAkCe,IAlCf,QAoCe,IApCf,gCA8BkB+J,EAAK6H,GAAGsF,WAAW1I,KAAK8I,EAAOC,IA9BjD,oCAgCkBxN,EAAK6H,GAAGuF,QAAQ3I,KAAK8I,EAAOC,IAhC9C,oCAkCkBxN,EAAK6H,GAAGwF,QAAQ5I,KAAK8I,EAAOC,IAlC9C,oCAoCkBxN,EAAK6H,GAAGyF,UAAYC,EAAOC,GApC7C,6BA4BqCA,IA5BrC,wBAyCE,KAAOxN,EAAK6H,GAAGsF,WAAWzW,OAAS,GAC/BsJ,EAAK6H,GAAGsF,WAAW1I,KAAK,CACpBxO,KAAM,EACNsE,aAAcyS,EAAKzS,aACnB8O,MAAO,GACPzL,UAAWqP,EAAsBpF,GAAGjK,UACpCpC,UAAWwR,EAAKxR,UAChBiD,UAAWuO,EAAKvO,UAChBiC,KAAMsM,EAAKtM,OAGnB,KAAOV,EAAK6H,GAAGuF,QAAQ1W,OAAS,GAC5BsJ,EAAK6H,GAAGuF,QAAQ3I,KAAK,CACjBxO,KAAM,EACNsE,aAAcyS,EAAKzS,aACnB8O,MAAO,GACPzL,UAAWqP,EAAsBpF,GAAGjK,UACpCpC,UAAWwR,EAAKxR,UAChBiD,UAAWuO,EAAKvO,UAChBiC,KAAMsM,EAAKtM,OAGnB,KAAOV,EAAK6H,GAAGwF,QAAQ3W,OAAS,GAC5BsJ,EAAK6H,GAAGwF,QAAQ5I,KAAK,CACjBxO,KAAM,EACNsE,aAAcyS,EAAKzS,aACnB8O,MAAO,GACPzL,UAAWqP,EAAsBpF,GAAGjK,UACpCpC,UAAWwR,EAAKxR,UAChBiD,UAAWuO,EAAKvO,UAChBiC,KAAMsM,EAAKtM,OAGdV,EAAK6H,GAAGyF,UAAUG,UACnBzN,EAAK6H,GAAGyF,UAAY,CAChBrX,KAAM,EACNsE,aAAcyS,EAAKzS,aACnB8O,MAAO,GACPzL,UAAWqP,EAAsBpF,GAAGjK,UACpCpC,UAAWwR,EAAKxR,UAChBiD,UAAWuO,EAAKvO,UAChBiC,KAAMsM,EAAKtM,OAlFrB,QAmBoCmH,IAnBpC,wBAsFFrT,QAAQC,IAAIuL,GACZ,EAAKwD,SAAS,CACVG,SAAS,EACT8D,UAAWzH,IAzFb,qDA4FFxL,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA9F/B,wBA+FE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzG3C,2BA6GFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvHvC,0DAjFN,EAAK3P,MAAQ,CACTiP,SAAS,EACTqJ,KAAM,GACNvF,UAAW,GACXoG,QAAQ,EACRK,eAAe,EACfI,aAAa,GARF,E,4FAYnB,mCAAApa,EAAA,yDACIU,KAAK4O,SAAS,CACVG,SAAS,IAGR/O,KAAKZ,MAAMuQ,SAAS7P,MAL7B,uBAMQE,KAAKZ,MAAMwQ,QAAQC,KAAK,0BAA2B,CAC/CxO,KAAM,SAPlB,iCAYIrB,KAAK6b,QAAU7b,KAAKZ,MAAMwQ,QAAQkM,OAAM,SAAAC,GACpC,OAAK,EAAKjc,MAAMmZ,QAIZ,EAAKrK,SAAS,CACV8K,aAAa,KAEV,IANP,EAAKmC,WACE,MAQXzD,EAAOpY,KAAKZ,MAAMuQ,SAAS7P,MAC/BE,KAAK4O,SAAS,CAAEwJ,KAAMA,IAxB1B,mBA0BcpY,KAAK0S,UA1BnB,QA2BQ1S,KAAK4O,SAAS,CAAEG,SAAS,IA3BjC,qDA6BQnP,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA/BzC,wBAgCY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBA1CrD,2BA8CQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAxDjD,0D,wFAiEA,WACQzP,KAAK6b,SACL7b,KAAK6b,Y,6BAgIb,WAAmB,IAAD,OAEd,OAAO7b,KAAKF,MAAM+S,UAAUwD,KAAI,SAAC7S,EAAM8S,GAGnC,IAFA,IAAQzO,EAAsErE,EAAtEqE,YAAaC,EAAyDtE,EAAzDsE,YAAayQ,EAA4C/U,EAA5C+U,WAAYC,EAAgChV,EAAhCgV,QAASC,EAAuBjV,EAAvBiV,QAASC,EAAclV,EAAdkV,UAC5DtN,EAAO,GAFkC,WAGpC6H,GACL7H,EAAKyE,KACD,oBAAI7Q,UAAU,WAAd,SACI,uBAAOmW,UAAQ,EAACnW,UAAU,2BAA2BoQ,KAAK,OAAOV,MAAO6J,EAAWtF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OADlH,QAAUyE,KAFvCA,EAAI,EAAGA,EAAIsF,EAAWzW,OAAQmR,IAAM,EAApCA,GAOT,IAV6C,eAUpCA,GACL7H,EAAKyE,KACD,oBAAI7Q,UAAU,WAAd,SACI,uBAAOmW,UAAQ,EAACnW,UAAU,2BAA2BoQ,KAAK,OAAOV,MAAO8J,EAAQvF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OAD/G,UAAYyE,KAFzCA,EAAI,EAAGA,EAAIuF,EAAQ1W,OAAQmR,IAAM,EAAjCA,GAOT,IAjB6C,eAiBpCA,GACL7H,EAAKyE,KACD,oBAAI7Q,UAAU,WAAd,SACI,uBAAOmW,UAAQ,EAACnW,UAAU,2BAA2BoQ,KAAK,OAAOV,MAAO+J,EAAQxF,GAAGwB,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAGrD,EAAGzE,OAD/G,UAAYyE,KAFzCA,EAAI,EAAGA,EAAIwF,EAAQ3W,OAAQmR,IAAM,EAAjCA,GAYT,OALA7H,EAAKyE,KACD,oBAAI7Q,UAAU,WAAd,SACI,uBAAOmW,UAAQ,EAACnW,UAAU,2BAA2BoQ,KAAK,OAAOV,MAAOgK,EAAUjE,MAAOvE,SAAU,SAAC1B,GAAD,OAAO,EAAKsK,YAAYxC,EAAO,EAAG,EAAG9H,OAD9G,eAK9B,+BACI,6BAhCE,EAgCa8H,IACf,6BAAKzO,IACL,6BAAKC,IACJsD,IAJIkL,Q,oBAerB,WAEI,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAQhB,sBAAKA,UAAU,kBAAf,UACI,cAAC,GAAD,CACImP,KAAMnO,KAAKF,MAAM4Z,YACjBsC,MAAOhc,KAAKyZ,aACZoC,QAAS7b,KAAK6b,QACdrL,OAAQxQ,KAAKuQ,OAEjB,cAAC,EAAD,CAASpC,KAAMnO,KAAKF,MAAMwZ,gBAC1B,qBAAKta,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,8CAKR,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,aAAf,UACI,uBAAMA,UAAU,oBAAhB,UACI,oDAAiBgB,KAAKF,MAAMsY,KAAKpT,cAErC,uBAAMhG,UAAU,oBAAhB,UACI,2CAAagB,KAAKF,MAAMsY,KAAKpZ,aAEjC,uBAAMA,UAAU,oBAAhB,UACI,mDAAgBgB,KAAKF,MAAMsY,KAAKtM,QAGpC,uBAAM9M,UAAU,eAAhB,UACI,yCAAagB,KAAKF,MAAMsY,KAAK3R,oBAIzC,uBACA,qBAAKzH,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,sBAAMA,UAAU,cAAhB,SACI,wBAAOA,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,sCACA,gDACA,oBAAImV,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,0CAGR,gCACKnU,KAAKoU,oC,GAlUhBlV,aA6UpBmd,G,kDACF,WAAYjd,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,CACTiP,SAAS,GAHE,E,0CAMnB,WAAU,IAAD,OACL,OACI,gCACI,eAACb,EAAA,EAAD,CAAOC,KAAMnO,KAAKZ,MAAM+O,KAAMC,SAAS,SAASkO,UAAU,EAA1D,UACI,cAACpO,EAAA,EAAM/O,OAAP,UACI,cAAC+O,EAAA,EAAMqO,MAAP,0CAEJ,cAACrO,EAAA,EAAMG,KAAP,UACI,qBAAKrP,UAAU,YAAf,SACK,iIAGT,eAACkP,EAAA,EAAMnP,OAAP,WACI,cAACyd,GAAA,EAAD,CAAQlc,QAAQ,YAAYa,QAASnB,KAAKZ,MAAM4c,MAAhD,sBACA,cAACQ,GAAA,EAAD,CAAQlc,QAAQ,SAASa,QAAS,WAAQ,EAAK/B,MAAMyc,UAAW,EAAKzc,MAAMoR,UAA3E,4BAGR,cAAC,EAAD,CAASrC,KAAMnO,KAAKF,MAAMiP,iB,GAxBpBlQ,IAAMK,WA+BbmR,eAAW8W,IC7WpB9S,GAAMxV,IAAMyV,YACZ8S,G,kDACF,WAAYhoB,GAAQ,IAAD,8BACf,cAAMA,IAqEVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAvEJ,EA0EnBkC,QA1EmB,uCA0ET,WAAOzI,GAAP,yBAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IADrC,kBAI4BpR,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,iBAJlG,UAKgD,KAD9C2I,EAJF,QAKoBpP,KAAKmN,OAAOnN,KAAK1B,OALrC,uBAMEmN,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,4FACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAEzC,EAAKb,SAAS,CACVG,SAAS,EACTyF,YAAY,IApBlB,2CAwBgC1R,QAAQ6P,IAAI,CAC1CvP,EAAIyK,OAAO5D,GAAmB,EAAKnK,MAAMmK,iBACzC7G,EAAI0J,uBAAuB7C,GAAmB,EAAKnK,MAAMmK,iBACzD7G,EAAIkH,gCAAgC,EAAG,IAASL,GAAmB,EAAKnK,MAAMmK,mBA3BhF,qCAwBG3G,EAxBH,KAwBQmR,EAxBR,KAwBeM,EAxBf,KA6BFnV,QAAQC,IAAIyD,EAAKmR,GACjB,EAAK7F,SAAS,CACVmG,QAASA,EAAQvR,KAAKmN,OAAOnN,KAAK,GAClCoP,kBAAmBA,EAAkBpP,KAAKmN,OAAOnN,KAAK,GACtDqP,UAAW4B,EAAMjR,KAAKA,KACtB+Q,IAAKjR,EAAIE,KACTgR,YAAY,EACZzF,SAAS,IApCX,kDAuCFnP,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,IACzBE,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAnDvC,0DA1ES,wDAkInBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GA5IQ,EA+InBE,sBA/ImB,uCA+IK,WAAOlN,EAAM0I,GAAb,iBAAApP,EAAA,0DAEhB2K,EAAkB,EAAKnK,MAAMmK,iBACjBjE,GAAQ0I,EACX,iBAAT1I,EAJgB,wBAKhB,EAAK4I,SAAS,CAAEG,SAAS,EAAMyF,YAAY,IAL3B,kBAOkBpR,EAAI4H,wBAAwB,EAAG,IAASf,GAAmB,EAAKnK,MAAMmK,iBAPxF,OAQsC,KAD9C2I,EAPQ,QAQUpP,KAAKmN,OAAOnN,KAAK1B,QACnCmN,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,4FACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAG7C,EAAKb,SAAS,CACVG,SAAS,EACT6D,kBAAmBA,EAAkBpP,KAAKmN,OAAOnN,KAAK,GACtDyG,gBAAiBA,IAzBT,kDA4BZ,EAAK2E,SAAS,CACVG,SAAS,EACT4F,UAAW,GACXE,YAAa,GACb5K,gBAAiBA,IAErBrK,QAAQC,IAAR,MAlCY,0DA/IL,0DAsLnB4Q,WAAa,SAACtD,GACV,IAAIE,EAAKF,EAAEG,UACPC,EAAKJ,EAAEK,WAAa,EAIxB,OAFIH,EAAK,KAAMA,EAAK,IAAMA,GACtBE,EAAK,KAAMA,EAAK,IAAMA,GACnBF,EAAK,IAAME,EAAK,IAHZJ,EAAEM,eAvLb,EAAK3N,MAAQ,CACTiT,eAAgB,GAChBhT,SAAU,OACVkK,gBAAiB,GACjB4K,YAAa,GACbF,UAAW,GACX5F,SAAS,EACTyF,YAAY,EACZ3B,UAAW,GACX0B,IAAK,GACLrH,KAAM,IAAIE,KACV2H,QAAS,IAbE,E,4FAiBnB,oCAAAzV,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,IAFjB,kBAK8CjM,QAAQ6P,IAAI,CAC9CvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAImE,iBAAiBvH,KAAKP,QAAQQ,KAAKsL,YAPnD,oCAKawH,EALb,KAK6BI,EAL7B,KASYlJ,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FqD,UAAWmK,EAAQ3P,KAAKmN,OAAO3H,WAEnCpJ,QAAQC,IAAIoK,GACZjK,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CyG,gBAAiBA,EACjB8E,SAAS,EACToE,QAASA,EAAQ3P,KAAKmN,SAlBlC,qDAqBQ/Q,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAvBzC,wBAwBY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAlCrD,2BAsCQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAhDjD,0D,mFA8KA,WAGI,IAFA,IAAIoD,EAAY7S,KAAKF,MAAM+S,UACvBO,EAAM,GACDH,EAAI,EAAGA,EAAIJ,EAAU/Q,OAAQmR,IAAK,CACvC,MAA0EJ,EAAUI,GAA9ExM,EAAN,EAAMA,YAAa4M,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,OAAQC,EAAnC,EAAmCA,UAAWC,EAA9C,EAA8CA,UAAWC,EAAzD,EAAyDA,aACzDL,EAAIvD,KACA,qBAAI7Q,UAAU,cAAd,UACI,6BAAKiU,EAAI,IACT,6BAAKxM,IACL,6BAAK4M,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKA,EAAO,GAAG,KACf,6BAAKC,IACL,6BAAKC,IACL,6BAAKC,MAjCwBR,IAqCzC,OAAOG,I,oBAGX,WAAU,IAAD,OACL,GAAIpT,KAAKF,MAAMiP,QACX,OACI,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOpB,IAAMuV,EAAQvU,KAAKF,MAAbyU,IACFpB,EAAUnT,KAAKF,MAAMqT,QACrB+B,EAASlV,KAAKF,MAAM8S,kBACxB,OACI,sBAAK5T,UAAU,kBAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,wDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAKA,UAAU,cAAf,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,wBAAQ7S,QAAS,kBAAM,EAAKuR,WAAWtD,KAAK,SAASpQ,UAAU,0BAA/D,6CACCgB,KAAKF,MAAM0U,YACR,qBAAKxV,UAAU,QAAf,SACI,cAAC,KAAD,CAAKoW,UAAWf,GAAKgB,SAAS,qBAAqBC,MAAO,IAAMC,EAAG,EAAnE,SACK,gBAAGC,EAAH,EAAGA,MAAH,OAAe,wBAAQpG,KAAK,SAASpQ,UAAU,uBAAuBmC,QAASqU,EAAhE,oEAQxC,uBACCxV,KAAKF,MAAM0U,YACR,qBAAKH,IAAKA,GAAKrV,UAAU,SAASwC,MAAO,CAAEiU,SAAU,QAArD,SACI,sBAAKjU,MAAO,CAAEsP,MAAO,SAAW9R,UAAU,kBAA1C,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,+BAAf,SACI,gCACI,mFAA6B,uBADjC,6DAMR,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,kDAAf,SACI,gCACI,gDAAkBmU,EAAQrL,iBAGlC,qBAAK9I,UAAU,kDAAf,SACI,gCACI,+CAAmBgB,KAAKyQ,WAAW,IAAIrD,KAAK+F,EAAQ/K,mBAG5D,qBAAKpJ,UAAU,kDAAf,SACI,gCACI,2CADJ,QACsBkW,EAAOlW,eAGjC,qBAAKA,UAAU,kDAAf,SACI,gCACI,oDAAiBkW,EAAOlQ,mBAIpC,qBAAKhG,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,6CAAjB,UACI,wBAAOA,UAAU,cAAjB,UACI,+BACI,oBAAIkV,QAAQ,IAAZ,iBACA,oBAAIA,QAAQ,IAAIlV,UAAU,UAA1B,6BACA,oBAAImV,QAAQ,KAAZ,gCACA,oBAAIA,QAAQ,KAAZ,gCACA,oBAAID,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,0BACA,oBAAIA,QAAQ,IAAZ,4BAEJ,+BACI,oBAAIC,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,qCACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,wBACA,oBAAIA,QAAQ,IAAZ,yBACA,2CAGR,gCACKnU,KAAKoU,2BAKtB,qBAAKpV,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oDACA,8DACA,mDACA,qDACA,oDACA,gDACA,yDACA,iEAGR,kCACI,qBAAIA,UAAU,cAAd,UACI,oDACA,6BAAKuV,EAAImB,QAAQC,WACjB,6BAAKpB,EAAImB,QAAQE,aACjB,6BAAKrB,EAAImB,QAAQG,eACjB,6BAAKtB,EAAImB,QAAQI,OACjB,6BAAKvB,EAAImB,QAAQ3U,QACjB,6BAAKwT,EAAImB,QAAQK,cACjB,6BAAKxB,EAAImB,QAAQM,iBAErB,qBAAIhX,UAAU,cAAd,UACI,oDACA,6BAAKuV,EAAI0B,QAAQN,WACjB,6BAAKpB,EAAI0B,QAAQL,aACjB,6BAAKrB,EAAI0B,QAAQJ,eACjB,6BAAKtB,EAAI0B,QAAQH,OACjB,6BAAKvB,EAAI0B,QAAQlV,QACjB,6BAAKwT,EAAI0B,QAAQF,cACjB,6BAAKxB,EAAI0B,QAAQD,iBAErB,qBAAIhX,UAAU,cAAd,UACI,kDACA,6BAAKuV,EAAI2B,QAAQP,WACjB,6BAAKpB,EAAI2B,QAAQN,aACjB,6BAAKrB,EAAI2B,QAAQL,eACjB,6BAAKtB,EAAI2B,QAAQJ,OACjB,6BAAKvB,EAAI2B,QAAQnV,QACjB,6BAAKwT,EAAI2B,QAAQH,cACjB,6BAAKxB,EAAI2B,QAAQF,2BAMrC,qBAAKhX,UAAU,WAAf,SACI,qBAAKA,UAAU,0CAAf,SACI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,oBAAImV,QAAQ,IAAZ,iCACA,oBAAIA,QAAQ,IAAZ,iCACA,oBAAIA,QAAQ,IAAZ,uDAGR,kCACI,qBAAInV,UAAU,YAAd,UACI,oBAAImV,QAAQ,MACZ,qBAAIA,QAAQ,IAAZ,UAAiBI,EAAImB,QAAQ/I,KAA7B,IAAoC,KAApC,IAA2C4H,EAAI0B,QAAQtJ,QACvD,qBAAIwH,QAAQ,IAAZ,iDACiB,uBAAOI,EAAI2B,QAAQC,UADpC,6BAKJ,qBAAInX,UAAU,cAAd,UACI,oBAAImV,QAAQ,IAAZ,SACI,6DAEJ,qBAAIA,QAAQ,IAAZ,qCACkBnU,KAAKF,MAAMoN,KAAKI,UAAY,GAAK,IAAMtN,KAAKF,MAAMoN,KAAKI,UAAYtN,KAAKF,MAAMoN,KAAKI,UADrG,aACuHtN,KAAKF,MAAMoN,KAAKM,WAAa,EAAI,KAAOxN,KAAKF,MAAMoN,KAAKM,WAAa,GAAKxN,KAAKF,MAAMoN,KAAKM,WAAa,EAD9N,aACsOxN,KAAKF,MAAMoN,KAAKO,cAAc,uBADpQ,sCAEL,uBACS,uBACA,uBACA,uBACA,uBACCzN,KAAKF,MAAMiV,QAAQtL,wC,GArb/CvK,aAoczBkoB,GAAW9lB,YAAc1C,EAEVyR,mBAAW+W,ICrcpBN,G,kDACF,WAAY1nB,GAAQ,IAAD,8BAEf,cAAMA,IA8EVmR,KAAO,WACH,EAAKnR,MAAMwQ,QAAQY,UAjFJ,EAoFnBkC,QApFmB,uCAoFT,WAAO7N,EAAMC,EAASmF,GAAtB,eAAA3K,EAAA,6DACN,EAAKsP,SAAS,CAAEG,SAAS,IADnB,kBAGc3L,EAAI4G,yBAAyBnF,GAAQ,EAAK/E,MAAMyf,WAAWC,YAAa1a,GAAW,EAAKhF,MAAMgF,QAASmF,GAAmB,EAAKnK,MAAMmK,iBAHnJ,OAGE3G,EAHF,OAIF1D,QAAQC,IAAIyD,GACZ,EAAKsL,SAAS,CACVG,SAAS,EACTqS,uBAAwB9d,EAAIE,KAAKmN,OAAOnN,KACxC+b,WAAYjc,EAAIE,KAAKmN,OAAO4O,aAR9B,mDAYF3f,QAAQC,IAAR,MACA,EAAK+O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OAd/B,wBAeE8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAzB3C,2BA6BFR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAvCvC,yDApFS,4DA2InBqD,oBAAsB,WAGlB,IAFA,IAAI1H,EAAO,EAAKtL,MAAMiT,eAClBC,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAmC7H,EAAK6H,GAAlCtN,EAAN,EAAMA,aAAcX,EAApB,EAAoBA,WACpBgO,EAAQnD,KAAK,CACT7J,KAAMhB,EACN0J,MAAO/I,IAGf,OAAOqN,GArJQ,EAwJnB0B,eAAiB,WAGb,IAFA,IAAItJ,EAAO,EAAKtL,MAAM6U,UAClB3B,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAA6B7H,EAAK6H,GAA5B7M,EAAN,EAAMA,QAASpH,EAAf,EAAeA,UACfgU,EAAQnD,KAAK,CACT7J,KAAMhH,EACN0P,MAAOtI,IAGf,OAAO4M,GAlKQ,EAqKnBqO,iBAAmB,WAGf,IAFA,IAAIjW,EAAO,EAAKtL,MAAMwhB,YAClBtO,EAAU,GACLC,EAAI,EAAGA,EAAI7H,EAAKtJ,OAAQmR,IAAK,CAClC,MAAiC7H,EAAK6H,GAAhCrM,EAAN,EAAMA,UAAWH,EAAjB,EAAiBA,YACjBuM,EAAQnD,KAAK,CACT7J,KAAMS,EACNiI,MAAO9H,IAGf,OAAOoM,GA/KQ,EAkLnB+T,eAAiB,WACb,MAAO,CAAC,CAAE/gB,KAAM,IAAK0I,MAAO,GAAK,CAAE1I,KAAM,IAAK0I,MAAO,KAnLtC,EAsLnBwE,sBAAwB,SAAClN,EAAM0I,GAC3B9O,QAAQC,IAAImG,EAAM0I,GAClB,IAAIzE,EAAkB,EAAKnK,MAAMmK,gBACjCA,EAAgBjE,GAAQ0I,EACxB,EAAKE,SAAS,CAAE3E,gBAAiBA,KA1LlB,EAuNnB+c,WAAa,SAAC1Q,GACV,EAAKlX,MAAMwQ,QAAQC,KAAK,wBAAxB,aACI/D,KAAM,EAAKhM,MAAMgM,MACd,EAAKhM,MAAMshB,uBAAuB9K,MA1N1B,EA8NnB2Q,UAAY,SAAC3Q,GACT,EAAKlX,MAAMwQ,QAAQC,KAAK,gBAAxB,aACI/D,KAAM,EAAKhM,MAAMgM,MACd,EAAKhM,MAAMshB,uBAAuB9K,MAjO1B,EAqOnBmL,YAAc,WACV,EAAK7S,SAAS,CAAEoS,YAAY,KAtOb,EAyOnB5D,WAAa,WACT,EAAKxO,SAAS,CAAEmO,WAAW,KAvO3B,EAAKjd,MAAQ,CACTiT,eAAgB,GAChB4B,UAAW,GACX+M,SAAU,GACVJ,YAAa,GACbF,uBAAwB,GACxBrhB,SAAU,OACVkK,gBAAiB,GAEjBnF,QAAS,IACTya,WAAY,CACRC,YAAa,EACbI,SAAU,GAEd7Q,SAAS,EACTjD,KAAM,EACNzK,KAAM,QAnBK,E,4FAuBnB,wCAAA/B,EAAA,6DACIU,KAAK4O,SAAS,CACVG,SAAS,EACT1N,KAAMrB,KAAKZ,MAAMuQ,SAAS7P,OAASE,KAAKZ,MAAMuQ,SAAS7P,MAAMuB,OAHrE,kBAMsEyB,QAAQ6P,IAAI,CACtEvP,EAAIwB,kBAAkB,EAAG,KACzBxB,EAAI0C,aAAa,EAAG,KACpB1C,EAAIkD,eAAe,EAAG,KACtBlD,EAAIgG,iBAAiBpJ,KAAKP,QAAQQ,KAAKsL,YAVnD,2CAMawH,EANb,KAM6B4B,EAN7B,KAMwC2M,EANxC,KAMqDvM,EANrD,KAYY9K,EAAkB,CAClBtE,aAAcoN,EAAevP,KAAKmN,OAAOnN,KAAKuP,EAAevP,KAAKmN,OAAOnN,KAAK1B,OAAS,GAAG6D,aAC1FkE,UAAWkL,EAAQvR,KAAKmN,OAAO9G,WAEnC7J,KAAK4O,SAAS,CACVmE,eAAgBA,EAAevP,KAAKmN,OAAOnN,KAC3CmR,UAAWA,EAAUnR,KAAKmN,OAAOnN,KACjC8d,YAAaA,EAAY9d,KAAKmN,OAAOnN,KACrCyG,gBAAiBA,EACjBJ,UAAWkL,EAAQvR,KAAKmN,OAAO9G,YArB3C,UAuBc7J,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,GAvBlD,6DAyBQrK,QAAQC,IAAR,MACAG,KAAK4O,SAAS,CAAEG,SAAS,KACrB,KAAI/L,UAAoC,MAAxB,KAAIA,SAASG,OA3BzC,wBA4BY8L,QAAMC,gBAAgB,CAClBnO,MAAO,kBACPoO,QAAS,yBACTC,KAAM,OACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBAtCrD,2BA0CQR,QAAMC,gBAAgB,CAClBnO,MAAO,oCACPoO,QAAS,yFACTC,KAAM,SACNC,UAAW,aACXC,QAAS,CACLC,SAAU,IACVO,UAAU,GAEdN,YAAa,CAAC,sBAAuB,qBACrCC,aAAc,CAAC,qBAAsB,uBApDjD,0D,gFAyGA,WACI,IAAIxF,EAAkB,CAClBtE,aAAc3F,KAAKF,MAAMmK,gBAAgBtE,aACzCkE,UAAW7J,KAAKF,MAAMmK,gBAAgBJ,WAE1C7J,KAAK4O,SAAS,CACV3E,gBAAiBA,IAErBjK,KAAK0S,QAAQ,EAAG1S,KAAKF,MAAMgF,QAASmF,K,6BAqDxC,WAAmB,IAAD,OACVmW,EAAUpgB,KAAKF,MAAMgF,SAAW9E,KAAKF,MAAMyf,WAAWC,YAAc,GAAK,EAC7E,OAAOxf,KAAKF,MAAMshB,uBAAuB/K,KAAI,SAAC4K,EAAM3K,GAChD,IAAQ7P,EAAuCwa,EAAvCxa,YAAazH,EAA0BiiB,EAA1BjiB,UAAWgG,EAAeic,EAAfjc,WAChC,OACI,+BACI,6BAAKob,EAAU9J,IACf,6BAAK7P,IACL,6BAAKzH,IACL,6BAAKgG,IACL,6BAAK,EAAKlF,MAAMgM,OACK,SAApB,EAAKhM,MAAMuB,MACR,oBAAIrC,UAAU,cAAd,SACI,wBAAQA,UAAU,iBAAiBmC,QAAS,kBAAM,EAAK6lB,WAAW1Q,IAAlE,wCAGc,SAApB,EAAKxW,MAAMuB,MACT,oBAAIrC,UAAU,cAAd,SACI,wBAAQA,UAAU,iBAAiBmC,QAAS,kBAAM,EAAK8lB,UAAU3Q,IAAjE,oCAbHA,Q,oBA2CrB,WAAU,IAAD,OACL,OAAItW,KAAKF,MAAMiP,QAEP,qBAAK/P,UAAU,gDAAf,SACI,qBAAKA,UAAU,6DAAf,SACI,qBAAKA,UAAU,iBAAiBkB,KAAK,SAArC,SACI,sBAAMlB,UAAU,UAAhB,8BAOhB,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,cAAC,IAAD,CAAkBwB,KAAM,GAAIW,QAASnB,KAAKuQ,SAE9C,qBAAKvR,UAAU,4BAAf,iDAKR,qBAAKA,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,sBAAMA,UAAU,cAAhB,SACI,yBAAQoQ,KAAK,SAASpQ,UAAU,yBAAyBmC,QAAS,WAAQ,EAAK+f,gBAA/E,UACI,cAAC,IAAD,CAAW1gB,KAAMR,KAAKF,MAAMC,WADhC,mCAMZ,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,SAAf,SACI,uBAAMA,UAAU,cAAhB,UACI,uDACA,qBAAKA,UAAU,0BAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK8S,sBACda,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBtE,aAClCuK,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,eAAgBc,QAGlE,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,mBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK+mB,iBACdpT,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMgM,KAClBoE,SAAU,SAAA8D,GAAC,OAAI,EAAKpF,SAAS,CAAE9C,KAAMkI,SAI7C,uBAAOhV,UAAU,OAAjB,uBACA,qBAAKA,UAAU,oBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAK0U,iBACdf,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgB7D,QAClC8J,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,UAAWc,QAG7D,uBAAOhV,UAAU,OAAjB,8BACA,qBAAKA,UAAU,sBAAf,SACI,cAAC0U,GAAA,EAAD,CACIV,QAAShT,KAAKqhB,mBACd1N,QAAM,EACNC,cAAeC,KACfC,aAAa,4BACbC,YAAY,IACZrF,MAAO1O,KAAKF,MAAMmK,gBAAgBrD,UAClCsJ,SAAU,SAAA8D,GAAC,OAAI,EAAKd,sBAAsB,YAAac,QAG/D,yBAAQ5E,KAAK,SAASpQ,UAAU,iCAAiCmC,QAAS,kBAAM,EAAKuR,WAArF,UACI,cAAC,IAAD,CAAUlS,KAAMR,KAAKF,MAAMC,WAD/B,6BAMZ,uBACA,qBAAKf,UAAU,WAAf,SACI,qBAAKA,UAAU,sDAAf,SACI,qBAAKwC,MAAO,CAAEif,UAAW,SAAzB,SACI,wBAAOzhB,UAAU,qCAAjB,UACI,uBAAOA,UAAU,cAAjB,SACI,+BACI,qCACA,iDACA,0CACA,mDACA,kDACA,4BAIR,gCACKgB,KAAKoU,oC,GA1VPlV,aAqWnC4nB,GAAqBxlB,YAAc1C,EAEpByR,mBAAWyW,IC/TpBO,G,kDACJ,WAAYjoB,GAAQ,IAAD,8BACjB,cAAMA,IA4BRM,QAAU,SAACO,GACT,IAAIR,EAAU,EAAKK,MAAML,QACzBA,EAAQQ,KAAOA,EACf,EAAK2O,SAAS,CAAEnP,QAASA,KA9BzB,EAAKK,MAAQ,CACXL,QAAS,CACPQ,KAAM,KACNP,QAAS,EAAKA,SAEhBqP,SAAS,GAPM,E,4FAWnB,8BAAAzP,EAAA,yDACEU,KAAK4O,SAAS,CAAEG,SAAS,MACrBrM,EAAcnD,aAAaoD,QAAQ,gBAFzC,0CAMYS,EAAIS,YANhB,OAOU5D,EAAO+O,YAAItM,GACf1C,KAAKN,QAAQO,GARnB,kDAUML,QAAQC,IAAR,MACAG,KAAKN,QAAQ,MACbH,aAAaC,WAAW,eAZ9B,QAeEQ,KAAK4O,SAAS,CAAEG,SAAS,IAf3B,0D,0EAwBA,WACE,OAAI/O,KAAKF,MAAMiP,QAEX,qBAAK/P,UAAU,uDAAf,SACE,cAAC,IAAD,CAAcoQ,KAAM,OAAQuS,MAAO,OAAQ5Q,OAAQ,MAAOD,MAAO,MAAO9R,UAAU,6BAKtF,cAAC,EAAWsoB,SAAZ,CAAqB5Y,MAAO1O,KAAKF,MAAML,QAAvC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,IACA,cAAC,EAAD,IACA,qBAAKT,UAAU,UAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuoB,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,kBAAZ,SACE,cAAC,GAAD,MAEF,cAAC,GAAD,CAAeC,OAAK,EAACD,KAAK,IAAIE,UAAW,cAAC,EAAD,IAAUvnB,KAAM,CAAC,EAAG,EAAG,KAChE,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,gBAAgBE,UAAW,cAAC,EAAD,IAAiBvnB,KAAM,CAAC,EAAG,EAAG,KACnF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,mBAAmBE,UAAW,cAAC,GAAD,IAAoBvnB,KAAM,CAAC,EAAG,EAAG,KACzF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,eAAeE,UAAW,cAAC,GAAD,IAAgBvnB,KAAM,CAAC,KAC3E,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,SAASE,UAAW,cAAC,GAAD,IAAWvnB,KAAM,CAAC,KAChE,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,WAAWE,UAAW,cAAC,GAAD,IAAavnB,KAAM,CAAC,KACpE,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,mBAAmBE,UAAW,cAAC,GAAD,IAAoBvnB,KAAM,CAAC,KACnF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,WAAWE,UAAW,cAAC,GAAD,IAAavnB,KAAM,CAAC,KACpE,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,WAAWE,UAAW,cAAC,GAAD,IAAavnB,KAAM,CAAC,KACpE,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,uBAAuBE,UAAW,cAAC,GAAD,IAAwBvnB,KAAM,CAAC,KAC3F,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,+BAA+BE,UAAW,cAAC,GAAD,IAA+BvnB,KAAM,CAAC,KAC1G,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,yBAAyBE,UAAW,cAAC,GAAD,IAA0BvnB,KAAM,CAAC,KAC/F,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,sBAAsBE,UAAW,cAAC,GAAD,IAAuBvnB,KAAM,CAAC,KACzF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,WAAWE,UAAW,cAAC,GAAD,IAAavnB,KAAM,CAAC,KACpE,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,kBAAkBE,UAAW,cAAC,GAAD,IAAmBvnB,KAAM,CAAC,KACjF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,cAAcE,UAAW,cAAC,GAAD,IAAevnB,KAAM,CAAC,KACzE,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,kBAAkBE,UAAW,cAACC,GAAD,IAAmBxnB,KAAM,CAAC,KACjF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,kBAAkBE,UAAW,cAACE,GAAD,IAAmBznB,KAAM,CAAC,KACjF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,sCAAsCE,UAAW,cAACG,GAAD,IAAoC1nB,KAAM,CAAC,KACtH,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,8BAA8BE,UAAW,cAACI,GAAD,IAA8B3nB,KAAM,CAAC,KACxG,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,wBAAwBE,UAAW,cAAC,GAAD,IAAwBvnB,KAAM,CAAC,EAAG,KAC/F,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,0BAA0BE,UAAW,cAAC,GAAD,IAA0BvnB,KAAM,CAAC,EAAG,KACnG,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,+BAA+BE,UAAW,cAACK,GAAD,IAA8B5nB,KAAM,CAAC,EAAG,KAC5G,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,uBAAuBE,UAAW,cAAC,GAAD,IAAuBvnB,KAAM,CAAC,EAAG,KAC7F,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,kBAAkBE,UAAW,cAAC,GAAD,IAAmBvnB,KAAM,CAAC,KACjF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,qBAAqBE,UAAW,cAAC,GAAD,IAAsBvnB,KAAM,CAAC,KACvF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,iBAAiBE,UAAW,cAAC,GAAD,IAAkBvnB,KAAM,CAAC,KAC/E,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,2BAA2BE,UAAW,cAAC,GAAD,IAA2BvnB,KAAM,CAAC,EAAG,KACrG,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,8BAA8BE,UAAW,cAAC,GAAD,IAA8BvnB,KAAM,CAAC,EAAG,KAC3G,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,8BAA8BE,UAAW,cAAC,GAAD,IAA6BvnB,KAAM,CAAC,EAAG,KAC1G,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,gBAAgBE,UAAW,cAAC,GAAD,IAAiBvnB,KAAM,CAAC,EAAG,KAChF,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,sBAAsBE,UAAW,cAAC,GAAD,IAAuBvnB,KAAM,CAAC,EAAG,KAC5F,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,OAAOE,UAAW,cAAC,GAAD,IAASvnB,KAAM,CAAC,EAAG,KAC/D,cAAC,GAAD,CAAesnB,OAAK,EAACD,KAAK,eAAeE,UAAW,cAAC,GAAD,IAAgBvnB,KAAM,CAAC,KAC3E,cAAC,IAAD,CAAOqnB,KAAK,IAAZ,SACE,cAAC,GAAD,WAIN,cAAC,EAAD,a,GAhGQ1oB,IAAMK,WAuGlB6oB,G,kDAEJ,WAAY3oB,GAAQ,IAAD,8BACjB,cAAMA,IAIR4oB,WAAa,WACX,OAAO,EAAKvoB,QAAQQ,MANH,EAQnB4D,UAAY,WACV,OAAO,EAAKzE,MAAMc,MAAQ,EAAKT,QAAQQ,MAAQ,EAAKb,MAAMc,KAAK+nB,SAAS,EAAKxoB,QAAQQ,KAAKC,OAP1F,EAAKJ,MAAQ,GAFI,E,0CAWnB,WACE,MAAwCE,KAAKZ,MAA5BF,EAAjB,EAAMuoB,UAAyBS,EAA/B,6BACA,OACE,cAAC,IAAD,2BAAWA,GAAX,aACGloB,KAAKgoB,aACJhoB,KAAK6D,YACH3E,EACA,cAAC,IAAD,CACEqB,GAAG,MAEP,cAAC,IAAD,CACEA,GAAI,CACFa,SAAU,SACVtB,MAAO,CAAE4P,KAAM1P,KAAKZ,MAAMmoB,gB,GA1BZ1oB,IAAMK,WAkClC6oB,GAAczmB,YAAc1C,EAEbyoB,UClLAc,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.1d3f923d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst AppContext = React.createContext();\r\n\r\nexport default AppContext;","import React from \"react\";\r\nimport { BiCopyright } from \"react-icons/bi\"\r\n\r\nclass Footer extends React.Component {\r\n    render() {\r\n        return (\r\n            <footer className=\"border-top text-center\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row \">\r\n                        <div className=\"col text-center\">\r\n                            <BiCopyright /> Trường THCS ABC\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row \">\r\n                        <div className=\"col text-right\">\r\n                            Email: <a href=\"mailto:xyz@gmail.com\">xyz@gmail.com</a>\r\n                        </div>\r\n                        <div className=\"col text-left\">\r\n                            Phone: <a href=\"tel:0123456789\">0123456789</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer","import React from \"react\";\r\nimport { Navbar, Nav, NavDropdown } from \"react-bootstrap\"\r\nimport { Link } from 'react-router-dom'\r\nimport { FaHome, FaUserCircle } from 'react-icons/fa'\r\nimport { BsGrid3X3Gap, BsFillLockFill, BsSearch } from 'react-icons/bs'\r\nimport { FiMenu } from 'react-icons/fi'\r\nimport { BiLineChart } from 'react-icons/bi'\r\nimport '../../css/Header.css'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass Header extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            iconSize: 20\r\n        }\r\n    }\r\n\r\n    logout = async () => {\r\n        try {\r\n            //await api.logout()\r\n            localStorage.removeItem('accessToken')\r\n            this.context.setUser(null)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.context.user) {\r\n            return (\r\n                <header>\r\n                    <Navbar bg=\"primary\" expand=\"lg\" variant=\"dark\">\r\n                        <Link to=\"/\" className=\"navbar-brand\">\r\n                            <FaHome size={this.state.iconSize * 1.5} />\r\n                        </Link>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    </Navbar>\r\n                </header>\r\n            )\r\n        }\r\n        if (this.context.user.role === 0) {\r\n            return (\r\n                <header>\r\n                    <Navbar bg=\"primary\" expand=\"lg\" variant=\"dark\">\r\n                        <Link to=\"/\" className=\"navbar-brand\">\r\n                            <FaHome size={this.state.iconSize * 1.5} />\r\n                        </Link>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                            <Nav className=\"mr-auto\">\r\n                                <NavDropdown\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <BsSearch size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    Tra cứu\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/student-score\" className=\"dropdown-item\">\r\n                                        Tra cứu điểm\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/student-pll\" className=\"dropdown-item\">\r\n                                        Tra cứu phiếu liên lạc\r\n                                    </Link>\r\n                                </NavDropdown>\r\n                            </Nav>\r\n                            <Nav>\r\n                                {this.context.user &&\r\n                                    <NavDropdown\r\n                                        alignRight\r\n                                        title={\r\n                                            <div className=\"d-inline-block\">\r\n                                                <div className=\"position-relative\">\r\n                                                    <FaUserCircle size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                    <div className=\"title-text d-inline-block\">\r\n                                                        {this.context.user && this.context.user.accountName}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        }\r\n                                        id=\"basic-nav-dropdown\"\r\n                                    >\r\n                                        <Link to=\"/account-info\" className=\"dropdown-item\">\r\n                                            Xem thông tin tài khoản\r\n                                    </Link>\r\n                                        <NavDropdown.Divider />\r\n                                        <Link to=\"/change-password\" className=\"dropdown-item\">\r\n                                            Đổi mật khẩu\r\n                                    </Link>\r\n                                        <NavDropdown.Divider />\r\n                                        <div className=\"dropdown-item\" onClick={this.logout}>\r\n                                            Đăng xuất\r\n                                    </div>\r\n                                    </NavDropdown>\r\n                                }\r\n                            </Nav>\r\n                        </Navbar.Collapse>\r\n                    </Navbar>\r\n                </header>\r\n            )\r\n        }\r\n\r\n        if (this.context.user.role === 1) {\r\n            return (\r\n                <header>\r\n                    <Navbar bg=\"primary\" expand=\"lg\" variant=\"dark\">\r\n                        <Link to=\"/\" className=\"navbar-brand\">\r\n                            <FaHome size={this.state.iconSize * 1.5} />\r\n                        </Link>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                            <Nav className=\"mr-auto\">\r\n                                <NavDropdown\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <FiMenu size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    Chức năng\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/conduct-assesssment\" className=\"dropdown-item\">\r\n                                        Cập nhật đánh giá hạnh kiểm\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/student-attendance\" className=\"dropdown-item\">\r\n                                        Điểm danh\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/pll\" className=\"dropdown-item\">\r\n                                        Xuất phiếu liên lạc\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link\r\n                                        to={{\r\n                                            pathname: \"/my-teaching-assignment-edit\",\r\n                                            state: { kind: \"edit\" }\r\n                                        }}\r\n                                        className=\"dropdown-item\"\r\n                                    >\r\n                                        Nhập điểm\r\n                                    </Link>\r\n                                </NavDropdown>\r\n                                <NavDropdown\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <BiLineChart size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    Thống kê\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/homeroom-statistic-rank\" className=\"dropdown-item\">\r\n                                        Thông kê danh sách theo hạng\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/homeroom-statistic-subject\" className=\"dropdown-item\">\r\n                                        Thống kê kết quả môn học\r\n                                    </Link>\r\n                                    {/* <NavDropdown.Divider />\r\n                                    <Link to=\"/\" className=\"dropdown-item\">\r\n                                        Thống kê điểm bài thi theo cá nhân\r\n                                    </Link> */}\r\n                                </NavDropdown>\r\n                                <NavDropdown\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <BsSearch size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    Tra cứu\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/search-homeroom-class-info\" className=\"dropdown-item\">\r\n                                        Xem thông tin lớp chủ nhiệm\r\n                                    </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link\r\n                                        to={{\r\n                                            pathname: \"/my-teaching-assignment\",\r\n                                            state: { kind: \"info\" }\r\n                                        }}\r\n                                        className=\"dropdown-item\"\r\n                                    >\r\n                                        Tra cứu điểm các lớp giảng dạy\r\n                                    </Link>\r\n                                </NavDropdown>\r\n                            </Nav>\r\n                            <Nav>\r\n                                {this.context.user &&\r\n                                    <NavDropdown\r\n                                        alignRight\r\n                                        title={\r\n                                            <div className=\"d-inline-block\">\r\n                                                <div className=\"position-relative\">\r\n                                                    <FaUserCircle size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                    <div className=\"title-text d-inline-block\">\r\n                                                        {this.context.user && this.context.user.accountName}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        }\r\n                                        id=\"basic-nav-dropdown\"\r\n                                    >\r\n                                        <Link to=\"/account-info\" className=\"dropdown-item\">\r\n                                            Xem thông tin tài khoản\r\n                                    </Link>\r\n                                        <NavDropdown.Divider />\r\n                                        <Link to=\"/change-password\" className=\"dropdown-item\">\r\n                                            Đổi mật khẩu\r\n                                    </Link>\r\n                                        <NavDropdown.Divider />\r\n                                        <div className=\"dropdown-item\" onClick={this.logout}>\r\n                                            Đăng xuất\r\n                                    </div>\r\n                                    </NavDropdown>\r\n                                }\r\n                            </Nav>\r\n                        </Navbar.Collapse>\r\n                    </Navbar>\r\n                </header >\r\n            )\r\n        }\r\n        return (\r\n            <header>\r\n                <Navbar bg=\"primary\" expand=\"lg\" variant=\"dark\">\r\n                    <Link to=\"/\" className=\"navbar-brand\">\r\n                        <FaHome size={this.state.iconSize * 1.5} />\r\n                    </Link>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <NavDropdown\r\n                                title={\r\n                                    <div className=\"d-inline-block\">\r\n                                        <div className=\"position-relative\">\r\n                                            <BsGrid3X3Gap size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                            <div className=\"title-text d-inline-block\">\r\n                                                Danh mục\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                id=\"basic-nav-dropdown\"\r\n                            >\r\n                                <Link to=\"/school-year\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục năm học\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/class\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục lớp học\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/subject\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục môn học\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/specialist-team\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục tổ chuyên môn\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/student\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục học sinh\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/teacher\" className=\"dropdown-item\">\r\n                                    Quản lý danh mục giáo viên\r\n                                </Link>\r\n                            </NavDropdown>\r\n                            <NavDropdown\r\n                                title={\r\n                                    <div className=\"d-inline-block\">\r\n                                        <div className=\"position-relative\">\r\n                                            <FiMenu size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                            <div className=\"title-text d-inline-block\">\r\n                                                Chức năng\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                id=\"basic-nav-dropdown\"\r\n                            >\r\n                                <Link to=\"/teaching-assignment\" className=\"dropdown-item\">\r\n                                    Phân công giảng dạy\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/homeroom-teacher-assignment\" className=\"dropdown-item\">\r\n                                    Phân công GVCN\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/specialist-assignment\" className=\"dropdown-item\">\r\n                                    Phân công tổ chuyên môn\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/student-assignment\" className=\"dropdown-item\">\r\n                                    Quản lý danh sách học sinh trong lớp\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/transfer-class\" className=\"dropdown-item\">\r\n                                    Kết chuyển lớp\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/account\" className=\"dropdown-item\">\r\n                                    Quản lý tài khoản\r\n                                </Link>\r\n                            </NavDropdown>\r\n                            <NavDropdown\r\n                                title={\r\n                                    <div className=\"d-inline-block\">\r\n                                        <div className=\"position-relative\">\r\n                                            <BiLineChart size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                            <div className=\"title-text d-inline-block\">\r\n                                                Thống kê\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                id=\"basic-nav-dropdown\"\r\n                            >\r\n                                <Link to=\"/statistic-rank\" className=\"dropdown-item\">\r\n                                    Thông kê danh sách theo hạng\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/statistic-subject\" className=\"dropdown-item\">\r\n                                    Thống kê kết quả môn học\r\n                                </Link>\r\n                                {/* <NavDropdown.Divider />\r\n                                <Link to=\"/\" className=\"dropdown-item\">\r\n                                    Thống kê điểm bài thi theo cá nhân\r\n                                </Link> */}\r\n                            </NavDropdown>\r\n                            <Link to=\"/score-lock\" className=\"nav-link\">\r\n                                <div className=\"d-inline-block\">\r\n                                    <div className=\"position-relative\">\r\n                                        <BsFillLockFill size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                        <div className=\"title-text d-inline-block\">\r\n                                            Khóa/Mở nhập điểm\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                            <NavDropdown\r\n                                title={\r\n                                    <div className=\"d-inline-block\">\r\n                                        <div className=\"position-relative\">\r\n                                            <BsSearch size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                            <div className=\"title-text d-inline-block\">\r\n                                                Tra cứu\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                id=\"basic-nav-dropdown\"\r\n                            >\r\n                                <Link to=\"/search-teacher\" className=\"dropdown-item\">\r\n                                    Tra cứu thông tin giáo viên\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/search-student\" className=\"dropdown-item\">\r\n                                    Tra cứu thông tin học sinh\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/search-homeroom-teacher-assignment\" className=\"dropdown-item\">\r\n                                    Tra cứu phân công GVCN\r\n                                </Link>\r\n                                <NavDropdown.Divider />\r\n                                <Link to=\"/search-teaching-assignment\" className=\"dropdown-item\">\r\n                                    Tra cứu phân công giảng dạy\r\n                                </Link>\r\n                            </NavDropdown>\r\n                        </Nav>\r\n                        <Nav>\r\n                            {this.context.user &&\r\n                                <NavDropdown\r\n                                    alignRight\r\n                                    title={\r\n                                        <div className=\"d-inline-block\">\r\n                                            <div className=\"position-relative\">\r\n                                                <FaUserCircle size={this.state.iconSize} className=\"position-relative title-icon\" />\r\n                                                <div className=\"title-text d-inline-block\">\r\n                                                    {this.context.user && this.context.user.accountName}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    id=\"basic-nav-dropdown\"\r\n                                >\r\n                                    <Link to=\"/account-info\" className=\"dropdown-item\">\r\n                                        Xem thông tin tài khoản\r\n                                </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <Link to=\"/change-password\" className=\"dropdown-item\">\r\n                                        Đổi mật khẩu\r\n                                </Link>\r\n                                    <NavDropdown.Divider />\r\n                                    <div className=\"dropdown-item\" onClick={this.logout}>\r\n                                        Đăng xuất\r\n                                </div>\r\n                                </NavDropdown>\r\n                            }\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </Navbar>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nHeader.contextType = AppContext\r\n\r\nexport default Header","import React, { Component } from \"react\";\r\nimport '../../css/Home.css';\r\n\r\nclass Home extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"150px\" }}>\r\n                    <div className=\"col-12 text-center panel-home\">\r\n                        <div className=\"shadow\">\r\n                            Hệ thống sổ liên lạc điện tử <br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import axios from 'axios';\r\nimport packagejson from \"../../package.json\"\r\n\r\nconst baseUrl = packagejson.proxy.charAt(packagejson.proxy.length - 1) === \"/\" ? packagejson.proxy.slice(0, -1) : packagejson.proxy\r\n\r\nconst user = axios.create({ timeout: 30000 });\r\nconst guest = axios.create({ timeout: 30000 });\r\n\r\nguest.defaults.withCredentials = true;\r\n\r\nuser.interceptors.request.use(function (config) {\r\n    console.log(config)\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n    if (accessToken) {\r\n        config.headers[\"x-access-token\"] = accessToken;\r\n    }\r\n    return config;\r\n}, function (error) {\r\n    return Promise.reject(error);\r\n});\r\n\r\nuser.interceptors.response.use(function (response) {\r\n    return response;\r\n}, async function (error) {\r\n    const originalRequest = error.config;\r\n    //console.log(error.response)\r\n    if (!originalRequest.retry && error.response && error.response.status === 401) {\r\n        try {\r\n            originalRequest.retry = true;\r\n            let res = await Api.refreshToken()\r\n            localStorage.setItem(\"accessToken\", res.data.accessToken)\r\n            console.log(\"Access token refreshed\")\r\n            return user(originalRequest)\r\n        } catch (err) {\r\n            return Promise.reject(error);\r\n        }\r\n    }\r\n    return Promise.reject(error);\r\n});\r\n\r\nconst Api = {\r\n    login: (username, password) => {\r\n        return guest.post(`${baseUrl}/auth/login`, { username: username, password: password })\r\n    },\r\n    refreshToken: () => {\r\n        return guest.post(`${baseUrl}/auth/refresh-token`)\r\n    },\r\n    checkAuth: () => {\r\n        return user.get(`${baseUrl}/auth/check-auth`)\r\n    },\r\n    getAccountInfo: (id) => {\r\n        return user.get(`${baseUrl}/account/id/${id}`)\r\n    },\r\n    checkPassword: (id, password) => {\r\n        return user.post(`${baseUrl}/account/check-password/${id}`, {\r\n            password: password,\r\n        })\r\n    },\r\n    changePassword: (id, oldPassword, newPassword) => {\r\n        return user.put(`${baseUrl}/account/change-password/${id}`, {\r\n            old_password: oldPassword,\r\n            new_password: newPassword\r\n        })\r\n    },\r\n    sendOTP: (username) => {\r\n        return user.post(`${baseUrl}/auth/send-otp`, {\r\n            username: username\r\n        })\r\n    },\r\n    checkOTP: (otpToken, otp) => {\r\n        return user.post(`${baseUrl}/auth/check-otp`, {\r\n            otpToken: otpToken,\r\n            otp: otp\r\n        })\r\n    },\r\n    forgetPassword: (accessToken, newPassword) => {\r\n        return user.post(`${baseUrl}/auth/forget-password`, {\r\n            accessToken: accessToken,\r\n            newPassword: newPassword\r\n        })\r\n    },\r\n    getSchoolYearList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/school-year/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addSchoolYear: (data) => {\r\n        return user.post(`${baseUrl}/school-year/`, {\r\n            schoolYear: data.schoolYear,\r\n            beginSemester1: data.startFirstSemester,\r\n            endSemester1: data.finishFirstSemester,\r\n            beginSemester2: data.startSecondSemester,\r\n            endSemester2: data.finishSecondSemester,\r\n            description: data.description\r\n        })\r\n    },\r\n    editSchoolYear: (data) => {\r\n        return user.put(`${baseUrl}/school-year/id/${data.schoolYearId}`, {\r\n            schoolYear: data.schoolYear,\r\n            beginSemester1: data.startFirstSemester,\r\n            endSemester1: data.finishFirstSemester,\r\n            beginSemester2: data.startSecondSemester,\r\n            endSemester2: data.finishSecondSemester,\r\n            description: data.description\r\n        })\r\n    },\r\n    deleteSchoolYear: (id) => {\r\n        return user.delete(`${baseUrl}/school-year/id/${id}`)\r\n    },\r\n    getClassList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/class/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchClassByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/class/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addClass: (data) => {\r\n        return user.post(`${baseUrl}/class/`, {\r\n            className: data.className,\r\n            classCode: data.classCode,\r\n            description: data.description,\r\n            schoolYearId: 4,\r\n        })\r\n    },\r\n    editClass: (data) => {\r\n        return user.put(`${baseUrl}/class/id/${data.classId}`, {\r\n            className: data.className,\r\n            classCode: data.classCode,\r\n            description: data.description,\r\n            schoolYearId: 4,\r\n        })\r\n    },\r\n    deleteClass: (id) => {\r\n        return user.delete(`${baseUrl}/class/id/${id}`)\r\n    },\r\n    getSubjectList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/subject/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchSubjectByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/subject/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addSubject: (data) => {\r\n        return user.post(`${baseUrl}/subject/`, {\r\n            subjectName: data.subjectName,\r\n            subjectCode: data.subjectCode,\r\n            description: data.description,\r\n        })\r\n    },\r\n    editSubject: (data) => {\r\n        return user.put(`${baseUrl}/subject/id/${data.subjectId}`, {\r\n            subjectName: data.subjectName,\r\n            subjectCode: data.subjectCode,\r\n            description: data.description,\r\n        })\r\n    },\r\n    deleteSubject: (id) => {\r\n        return user.delete(`${baseUrl}/subject/id/${id}`)\r\n    },\r\n    getSpecialistTeamList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/specialist-team/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchSpecialistTeamByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/specialist-team/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addSpecialistTeam: (data) => {\r\n        return user.post(`${baseUrl}/specialist-team/`, {\r\n            specialistName: data.specialistName,\r\n            description: data.description\r\n        })\r\n    },\r\n    editSpecialistTeam: (data) => {\r\n        return user.put(`${baseUrl}/specialist-team/id/${data.specialistTeamId}`, {\r\n            specialistName: data.specialistName,\r\n            description: data.description\r\n        })\r\n    },\r\n    deleteSpecialistTeam: (id) => {\r\n        return user.delete(`${baseUrl}/specialist-team/id/${id}`)\r\n    },\r\n    getStudentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/student/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    getStudent: (id) => {\r\n        return user.get(`${baseUrl}/student/id/${id}`)\r\n    },\r\n    getStudentByCode: (code) => {\r\n        return user.get(`${baseUrl}/student/code/${code}`)\r\n    },\r\n    searchStudentByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/student/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchStudentByNameOrCode: (page, perpage, query) => {\r\n        return user.get(`${baseUrl}/student/search?page=${page}&perpage=${perpage}&query=${query}`)\r\n    },\r\n    addStudent: (data) => {\r\n        return user.post(`${baseUrl}/student/`, {\r\n            studentCode: data.studentCode,\r\n            studentName: data.studentName,\r\n            address: data.address,\r\n            permanentResidence: data.permanentResidence,\r\n            gender: data.gender,\r\n            pId: data.pId,\r\n            image: data.image,\r\n            dateOfBirth: data.dateOfBirth,\r\n            email: data.email,\r\n            phoneNumber: data.phoneNumber,\r\n            dateOfParty: data.dateOfParty,\r\n            dateOfUnion: data.dateOfUnion,\r\n            accountName: data.accountName,\r\n            fatherName: data.fatherName,\r\n            fatherPhone: data.fatherPhone,\r\n            fatherMail: data.fatherMail,\r\n            motherName: data.motherName,\r\n            motherPhone: data.motherPhone,\r\n            motherMail: data.motherMail\r\n        })\r\n    },\r\n    editStudent: (data) => {\r\n        return user.put(`${baseUrl}/student/id/${data.studentId}`, {\r\n            studentCode: data.studentCode,\r\n            studentName: data.studentName,\r\n            address: data.address,\r\n            permanentResidence: data.permanentResidence,\r\n            gender: data.gender,\r\n            pId: data.pId,\r\n            image: data.image,\r\n            dateOfBirth: data.dateOfBirth,\r\n            email: data.email,\r\n            phoneNumber: data.phoneNumber,\r\n            dateOfParty: data.dateOfParty,\r\n            dateOfUnion: data.dateOfUnion,\r\n            accountName: data.accountName,\r\n            fatherName: data.fatherName,\r\n            fatherPhone: data.fatherPhone,\r\n            fatherMail: data.fatherMail,\r\n            motherName: data.motherName,\r\n            motherPhone: data.motherPhone,\r\n            motherMail: data.motherMail\r\n        })\r\n    },\r\n    deleteStudent: (id) => {\r\n        return user.delete(`${baseUrl}/student/id/${id}`)\r\n    },\r\n    getTeacherList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/teacher/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    getTeacher: (id) => {\r\n        return user.get(`${baseUrl}/teacher/id/${id}`)\r\n    },\r\n    getTeacherByCode: (code) => {\r\n        return user.get(`${baseUrl}/teacher/code/${code}`)\r\n    },\r\n    searchTeacherByName: (page, perpage, name) => {\r\n        return user.get(`${baseUrl}/teacher/name/${name}?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchTeacherByNameOrCode: (page, perpage, query) => {\r\n        return user.get(`${baseUrl}/teacher/search?page=${page}&perpage=${perpage}&query=${query}`)\r\n    },\r\n    addTeacher: (data) => {\r\n        return user.post(`${baseUrl}/teacher/`, {\r\n            teacherCode: data.teacherCode,\r\n            teacherName: data.teacherName,\r\n            address: data.address,\r\n            permanentResidence: data.permanentResidence,\r\n            gender: data.gender,\r\n            pId: data.pId,\r\n            image: data.image,\r\n            dateOfBirth: data.dateOfBirth,\r\n            email: data.email,\r\n            phoneNumber: data.phoneNumber,\r\n            dateOfParty: data.dateOfParty,\r\n            dateOfUnion: data.dateOfUnion,\r\n            civilServantNumber: data.civilServantNumber,\r\n            major: data.major\r\n        })\r\n    },\r\n    editTeacher: (data) => {\r\n        return user.put(`${baseUrl}/teacher/id/${data.teacherId}`, {\r\n            teacherCode: data.teacherCode,\r\n            teacherName: data.teacherName,\r\n            address: data.address,\r\n            permanentResidence: data.permanentResidence,\r\n            gender: data.gender,\r\n            pId: data.pId,\r\n            image: data.image,\r\n            dateOfBirth: data.dateOfBirth,\r\n            email: data.email,\r\n            phoneNumber: data.phoneNumber,\r\n            dateOfParty: data.dateOfParty,\r\n            dateOfUnion: data.dateOfUnion,\r\n            civilServantNumber: data.civilServantNumber,\r\n            major: data.major\r\n        })\r\n    },\r\n    deleteTeacher: (id) => {\r\n        return user.delete(`${baseUrl}/teacher/id/${id}`)\r\n    },\r\n    getTeachingAssignmentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/teaching-assignment/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchTeachingAssignment: (page, perpage, searchCondition) => {\r\n        let url = `/teaching-assignment/search?page=${page}&perpage=${perpage}`\r\n        //console.log(searchCondition)\r\n        if (searchCondition.schoolYearId) url += `&schoolYearId=${searchCondition.schoolYearId}`\r\n        if (searchCondition.teacherId) url += `&teacherId=${searchCondition.teacherId}`\r\n        if (searchCondition.classId) url += `&classId=${searchCondition.classId}`\r\n        if (searchCondition.subjectId) url += `&subjectId=${searchCondition.subjectId}`\r\n        return user.get(url)\r\n    },\r\n    addTeachingAssignment: (data) => {\r\n        return user.post(`${baseUrl}/teaching-assignment/`, {\r\n            schoolYearId: data.schoolYearId,\r\n            teacherId: data.teacherId,\r\n            classId: data.classId,\r\n            subjectId: data.subjectId\r\n        })\r\n    },\r\n    deleteTeachingAssignment: (id) => {\r\n        return user.delete(`${baseUrl}/teaching-assignment/id/${id}`)\r\n    },\r\n    getHomeroomTeacherAssignmentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/homeroom-teacher-assignment/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchHomeroomTeacherAssignment: (page, perpage, searchCondition) => {\r\n        let url = `/homeroom-teacher-assignment/search?page=${page}&perpage=${perpage}`\r\n        //console.log(searchCondition)\r\n        if (searchCondition.schoolYearId) url += `&schoolYearId=${searchCondition.schoolYearId}`\r\n        if (searchCondition.teacherId) url += `&teacherId=${searchCondition.teacherId}`\r\n        if (searchCondition.classId) url += `&classId=${searchCondition.classId}`\r\n        return user.get(url)\r\n    },\r\n    addHomeroomTeacherAssignment: (data) => {\r\n        return user.post(`${baseUrl}/homeroom-teacher-assignment`, {\r\n            schoolYearId: data.schoolYearId,\r\n            teacherId: data.teacherId,\r\n            classId: data.classId,\r\n        })\r\n    },\r\n    editHomeroomTeacherAssignment: (data) => {\r\n        return user.put(`${baseUrl}/homeroom-teacher-assignment/id/${data.homeroomTeacherAssignmentId}`, {\r\n            schoolYearId: data.schoolYearId,\r\n            teacherId: data.teacherId,\r\n            classId: data.classId,\r\n        })\r\n    },\r\n    deleteHomeroomTeacherAssignment: (id) => {\r\n        return user.delete(`${baseUrl}/homeroom-teacher-assignment/id/${id}`)\r\n    },\r\n    getSpecialistAssignmentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/specialist-assignment/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchSpecialistAssignment: (page, perpage, searchCondition) => {\r\n        let url = `/specialist-assignment/search?page=${page}&perpage=${perpage}`\r\n        console.log(searchCondition)\r\n        if (searchCondition.schoolYearId) url += `&schoolYearId=${searchCondition.schoolYearId}`\r\n        if (searchCondition.teacherId) url += `&teacherId=${searchCondition.teacherId}`\r\n        if (searchCondition.specialistTeamId) url += `&specialistTeamId=${searchCondition.specialistTeamId}`\r\n        return user.get(url)\r\n    },\r\n    addSpecialistAssignment: (data) => {\r\n        return user.post(`${baseUrl}/specialist-assignment`, {\r\n            schoolYearId: data.schoolYearId,\r\n            teacherId: data.teacherId,\r\n            specialistTeamId: data.specialistTeamId\r\n        })\r\n    },\r\n    deleteSpecialistAssignment: (id) => {\r\n        return user.delete(`${baseUrl}/specialist-assignment/id/${id}`)\r\n    },\r\n    getStudentAssignmentList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/student-assignment/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    searchStudentAssignment: (page, perpage, searchCondition) => {\r\n        let url = `/student-assignment/search?page=${page}&perpage=${perpage}`\r\n        console.log(searchCondition)\r\n        if (searchCondition.schoolYearId) url += `&schoolYearId=${searchCondition.schoolYearId}`\r\n        if (searchCondition.studentId) url += `&studentId=${searchCondition.studentId}`\r\n        if (searchCondition.classId) url += `&classId=${searchCondition.classId}`\r\n        return user.get(url)\r\n    },\r\n    addStudentAssignment: (data) => {\r\n        return user.post(`${baseUrl}/student-assignment`, {\r\n            schoolYearId: data.schoolYearId,\r\n            studentId: data.studentId,\r\n            classId: data.classId\r\n        })\r\n    },\r\n    deleteStudentAssignment: (id) => {\r\n        return user.delete(`${baseUrl}/student-assignment/id/${id}`)\r\n    },\r\n    tranferClass: (list) => {\r\n        return user.post(`${baseUrl}/student-assignment/transform-class`, {\r\n            data: list\r\n        })\r\n    },\r\n    getAccountList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/account/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addAccount: (data) => {\r\n        return user.post(`${baseUrl}/account/`, {\r\n            accountName: data.accountName,\r\n            password: data.password,\r\n            userCode: data.userCode,\r\n            role: data.role\r\n        })\r\n    },\r\n    editAccount: (data) => {\r\n        return user.put(`${baseUrl}/account/${data.accountId}`, {\r\n            accountName: data.accountName,\r\n            password: data.password,\r\n            userCode: data.userCode,\r\n            role: parseInt(data.role)\r\n        })\r\n    },\r\n    deleteAccount: (id) => {\r\n        return user.delete(`${baseUrl}/account/${id}`)\r\n    },\r\n    getScoreLockList: (page, perpage) => {\r\n        return user.get(`${baseUrl}/score-lock/list?page=${page}&perpage=${perpage}`)\r\n    },\r\n    addScoreLock: (data) => {\r\n        return user.post(`${baseUrl}/score-lock/`, {\r\n            schoolYearId: data.schoolYearId,\r\n            term: data.term,\r\n            lock: data.lock\r\n        })\r\n    },\r\n    lockScoreLock: (data) => {\r\n        return user.put(`${baseUrl}/score-lock/lock/`, {\r\n            schoolYearId: data.schoolYearId,\r\n            term: data.term,\r\n        })\r\n    },\r\n    unlockScoreLock: (data) => {\r\n        return user.put(`${baseUrl}/score-lock/unlock/`, {\r\n            schoolYearId: data.schoolYearId,\r\n            term: data.term,\r\n        })\r\n    },\r\n    deleteScoreLock: (id) => {\r\n        return user.delete(`${baseUrl}/score-lock/id/${id}`)\r\n    },\r\n    checkLock: (schoolYearId, term) => {\r\n        return user.get(`${baseUrl}/score/check-lock?schoolYearId=${schoolYearId}&term=${term}`)\r\n    },\r\n    getSubjectScore: (studentId, subjectId, schoolYearId, term) => {\r\n        return user.get(`${baseUrl}/score/student/subject-scores?studentId=${studentId}&subjectId=${subjectId}&schoolYearId=${schoolYearId}&term=${term}`)\r\n    },\r\n    getStudentScore: (studentId, schoolYearId, term) => {\r\n        return user.get(`${baseUrl}/score/student/scores?studentId=${studentId}&schoolYearId=${schoolYearId}&term=${term}`)\r\n    },\r\n    editScore: (data) => {\r\n        return user.put(`${baseUrl}/score/`, data)\r\n    },\r\n    getClassConduct: (searchCondition) => {\r\n        return user.get(`${baseUrl}/conduct/class?teacherId=${searchCondition.teacherId}&schoolYearId=${searchCondition.schoolYearId}&term=${searchCondition.term}`)\r\n    },\r\n    getStudentConduct: (searchCondition) => {\r\n        return user.get(`${baseUrl}/conduct/student?studentId=${searchCondition.studentId}&schoolYearId=${searchCondition.schoolYearId}&term=${searchCondition.term}`)\r\n    },\r\n    assessConduct: (data) => {\r\n        return user.post(`${baseUrl}/conduct`, {\r\n            studentId: data.studentId,\r\n            classId: data.classId,\r\n            teacherId: data.teacherId,\r\n            schoolYearId: data.schoolYearId,\r\n            conduct: data.conduct,\r\n            term: data.term,\r\n            note: data.note\r\n        })\r\n    },\r\n    getRankReport: (page, perpage, searchCondition) => {\r\n        return user.get(`${baseUrl}/class-report/rank?page=${page}&perpage=${perpage}&schoolYearId=${searchCondition.schoolYearId}&classId=${searchCondition.classId}&term=${searchCondition.term}`)\r\n    },\r\n    getSubjectReport: (page, perpage, searchCondition) => {\r\n        return user.get(`${baseUrl}/class-report/subject?page=${page}&perpage=${perpage}&schoolYearId=${searchCondition.schoolYearId}&classId=${searchCondition.classId}&term=${searchCondition.term}`)\r\n    },\r\n    getStudentScoreSummary: (searchCondition) => {\r\n        return user.get(`${baseUrl}/score/student/score-summary?studentId=${searchCondition.studentId}&schoolYearId=${searchCondition.schoolYearId}`)\r\n    },\r\n    getHomeroomClassInfo: (teacherId) => {\r\n        return user.get(`${baseUrl}/class/homeroom?key=${teacherId}`)\r\n    },\r\n    getClassAttendance: (searchCondition) => {\r\n        let getDateString = (date) => {\r\n            let d = new Date(date)\r\n            let dd = d.getDate()\r\n            let mm = d.getMonth() + 1\r\n            let yyyy = d.getFullYear()\r\n            if (dd < 10) { dd = '0' + dd }\r\n            if (mm < 10) { mm = '0' + mm }\r\n            return yyyy + \"-\" + mm + \"-\" + dd\r\n        }\r\n        return user.get(`${baseUrl}/attendance/class/between?classId=${searchCondition.classId}&schoolYearId=${searchCondition.schoolYearId}&&firstDate=${getDateString(searchCondition.beginDate)}&lastDate=${getDateString(searchCondition.endDate)}`)\r\n    },\r\n    updateAttendance: (data) => {\r\n        return user.put(`${baseUrl}/attendance`, data)\r\n    },\r\n    getPLL: (searchCondition) => {\r\n\r\n        return user.get(`${baseUrl}/pll?studentId=${searchCondition.studentId}&schoolYearId=${searchCondition.schoolYearId}`)\r\n    },\r\n    uploadImage: (image) => {\r\n        let data = new FormData();\r\n        data.append(\"avatar\", image)\r\n        return user.post(`${baseUrl}/account/upload-image/`, data, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default Api","import React from \"react\";\r\nimport { Modal } from \"react-bootstrap\"\r\n\r\nclass Loading extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Modal show={this.props.show} backdrop=\"static\">\r\n                <Modal.Body >\r\n                    <div className=\"d-flex justify-content-center text-primary\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Modal >\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loading","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Api from \"../../api/api\";\r\nimport AppContext from '../../context/AppContext'\r\nimport jwt from 'jwt-decode'\r\nimport Loading from '../Loading/Loading'\r\nimport { store } from 'react-notifications-component';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            formData: {},\r\n            loading: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.context.user) {\r\n            this.props.history.push('/')\r\n        }\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        let formData = this.state.formData;\r\n        formData[name] = value;\r\n        this.setState({ 'formData': formData });\r\n    }\r\n\r\n    submitHandler = async (e) => {\r\n        let data = this.state.formData;\r\n        e.preventDefault();\r\n        //console.log(data);\r\n\r\n        try {\r\n            this.setState({ loading: true });\r\n            let res = await Api.login(data.username, data.password)\r\n            //console.log(res.data.accessToken)\r\n            localStorage.setItem(\"accessToken\", res.data.accessToken)\r\n            let user = jwt(res.data.accessToken)\r\n            //console.log(user)\r\n            this.context.setUser(user)\r\n            //Notification\r\n            store.addNotification({\r\n                title: \"Đăng nhập thành công\",\r\n                message: `Xin chào ${user.accountName}`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 3000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            //redirect\r\n            //console.log(this.props.location)\r\n            let from = this.props.location.state && this.props.location.state.from\r\n            this.setState({ loading: false })\r\n            this.props.history.push(from || '/')\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 401) {\r\n                store.addNotification({\r\n                    title: \"Đăng nhập thất bại\",\r\n                    message: \"Tài khoản hoặc mật khẩu không chính xác\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.loading} />\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }}>\r\n                    <div className=\"col-12 text-center\">\r\n                        <h1>Hệ thống sổ liên lạc điện tử</h1>\r\n                        <h1>Trường Trung học cơ sở ABC</h1>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/login\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Tên tài khoản:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"username\"\r\n                                    name=\"username\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label >Mật khẩu:</label>\r\n                                <input type=\"password\" className=\"form-control\" id=\"pwd\"\r\n                                    name=\"password\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\" style={{ marginRight: \"10px\" }}>Đăng nhập</button>\r\n                            <Link to=\"/forgetpassword\">Quên mật khẩu</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLogin.contextType = AppContext\r\n\r\nexport default withRouter(Login);\r\n","import React, { Component } from \"react\";\r\nimport '../../css/AccountInfo.css';\r\nimport Api from '../../api/api'\r\nimport AppContext from '../../context/AppContext'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport packagejson from '../../../package.json';\r\n\r\nclass AccountInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            accountInfo: {}\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true });\r\n        try {\r\n            //console.log(this.context)\r\n            let res;\r\n            if (this.context.user.role === 0) {\r\n                res = await Api.getStudentByCode(this.context.user.userCode)\r\n            } else {\r\n                res = await Api.getTeacherByCode(this.context.user.userCode)\r\n            }\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                accountInfo: res.data.result\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    render() {\r\n        let { accountInfo } = this.state\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thông tin tài khoản\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-3\" >\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                        <img src={packagejson.proxy + \"\\\\\" + this.state.accountInfo.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} />\r\n                    </div>\r\n                    <div className=\"panel-account-info col-9\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Tên đăng nhập:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.context.user.accountName}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Họ tên:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.state.accountInfo.studentName || this.state.accountInfo.teacherName}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">{this.context.user.role ? \"Mã giáo viên\" : \"Mã học sinh:\"}</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.context.user.userCode}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Ngày sinh:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.formatDate(new Date(this.state.accountInfo.dateOfBirth))}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Giới tính:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.gender ? \"Nam\" : \"Nữ\"}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Số CMND:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.pId}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Hộ khẩu thường trú:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.permanentResidence}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Nơi ở hiện nay:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.address}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Ngày vào Đoàn:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.formatDate(new Date(accountInfo.dateOfUnion))}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Ngày vào Đảng:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{this.formatDate(new Date(accountInfo.dateOfParty))}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Điện thoại:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.phoneNumber}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\">\r\n                                <div className=\"label-account-info mr-2\">Email:</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"account-info mr-2\">{accountInfo.email}</div>\r\n                            </div>\r\n                        </div>\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Họ tên bố:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.fatherName}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Điện thoại bố:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.fatherPhone}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Email bố:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.fatherMail}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Họ tên mẹ:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.motherName}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Điện thoại mẹ:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.motherPhone}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role === 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Email mẹ:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.motherMail}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role !== 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Số hiệu công chức:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.civilServantNumber}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        {this.context.user.role !== 0 &&\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"label-account-info mr-2\">Chuyên môn:</div>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <div className=\"account-info mr-2\">{accountInfo.major}</div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAccountInfo.contextType = AppContext\r\n\r\nexport default withRouter(AccountInfo);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass UsernameInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { username } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceiveUsername(username);\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Tên tài khoản:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"username\"\r\n                                    name=\"username\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/login\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default UsernameInput;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass OtpInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            otp: '',\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { otp } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceiveOtp(otp);\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <div >\r\n                                    Mã OTP đã được gửi vào email đăng ký tài khoản của bạn !\r\n                                </div>\r\n                                <label >Mã OTP:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"otp\"\r\n                                    name=\"otp\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/login\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default OtpInput;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass PasswordInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            password1: '',\r\n            password2: ''\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { password1, password2 } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceivePassword(password1, password2);\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Mật khẩu mới:</label>\r\n                                <input type=\"password\" className=\"form-control\"\r\n                                    name=\"password1\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label >Nhập lại mật khẩu mới:</label>\r\n                                <input type=\"password\" className=\"form-control\"\r\n                                    name=\"password2\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/login\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default PasswordInput;\r\n","import React, { Component } from \"react\";\r\nimport UsernameInput from './usernameInput';\r\nimport OtpInput from './otpInput';\r\nimport PasswordInput from './passwordInput';\r\nimport Api from \"../../api/api\";\r\nimport Loading from '../Loading/Loading'\r\nimport { store } from 'react-notifications-component';\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass ForgetPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDisplayUsernameInput: true,\r\n            isDisplayOtpInput: false,\r\n            isDisplayPasswordInput: false,\r\n            username: '',\r\n            otp: '',\r\n            password1: '',\r\n            password2: '',\r\n            loading: false,\r\n            tokenOTP: \"\",\r\n        };\r\n    }\r\n    setUsername = async (username) => {\r\n        //console.log(username);\r\n        this.setState({\r\n            username: username,\r\n            loading: true,\r\n        });\r\n        try {\r\n            let res = await Api.sendOTP(username)\r\n            this.setState({\r\n                otpToken: res.data.otpToken,\r\n                isDisplayUsernameInput: false,\r\n                isDisplayOtpInput: true,\r\n                isDisplayPasswordInput: false,\r\n                loading: false,\r\n            })\r\n            console.log(res)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Lỗi\",\r\n                    message: \"Tài khoản không chính xác vui lòng kiểm tra lại\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    setOtp = async (otp) => {\r\n        console.log(otp);\r\n        this.setState({\r\n            otp: otp,\r\n            loading: true,\r\n        });\r\n        try {\r\n            let res = await Api.checkOTP(this.state.otpToken, otp)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                accessToken: res.data.accessToken,\r\n                isDisplayUsernameInput: false,\r\n                isDisplayOtpInput: false,\r\n                isDisplayPasswordInput: true,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Lỗi\",\r\n                    message: \"OTP không chính xác vui lòng kiểm tra lại\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    setPassword = async (password1, password2) => {\r\n        this.setState({\r\n            password1: password1,\r\n            password2: password2,\r\n        });\r\n        let isDigit = password1.replace(/[^0-9]/g, \"\").length > 0 ? 1 : 0;\r\n        let isLetter = password1.replace(/[^a-zA-Z]/g, '').length > 0 ? 1 : 0;\r\n        let isPunctuation = (password1.length - password1.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\").length) > 0 ? 1 : 0;\r\n        if (password1.length < 8 || (isDigit + isLetter + isPunctuation < 2)) {\r\n            store.addNotification({\r\n                title: \"Lỗi\",\r\n                message: \"Mật khẩu không hợp lệ! Mật khẩu phải dài tối thiểu 8 kí tự và chứa 2 trong 3 loại chữ, số, kí tự đặc biệt!\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return\r\n        }\r\n        if (password1 !== password2) {\r\n            store.addNotification({\r\n                title: \"Cảnh báo\",\r\n                message: \"Mật khẩu nhập lại không giống\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return\r\n        }\r\n        this.setState({\r\n            loading: true\r\n        })\r\n\r\n        try {\r\n            let res = await Api.forgetPassword(this.state.accessToken, password1)\r\n            console.log(res)\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: \"Đổi mật khẩu thành công\",\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({\r\n                loading: false,\r\n                accessToken: res.data.accessToken,\r\n                isDisplayUsernameInput: false,\r\n                isDisplayOtpInput: false,\r\n                isDisplayPasswordInput: false,\r\n            })\r\n            this.props.history.push('/login')\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { isDisplayUsernameInput,\r\n            isDisplayOtpInput,\r\n            isDisplayPasswordInput } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.loading} />\r\n                { isDisplayUsernameInput ? <UsernameInput onReceiveUsername={this.setUsername} /> : \"\"}\r\n                { isDisplayOtpInput ? <OtpInput onReceiveOtp={this.setOtp} /> : \"\"}\r\n                { isDisplayPasswordInput ? <PasswordInput onReceivePassword={this.setPassword} /> : \"\"}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(ForgetPassword);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass OldPasswordInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            oldPassword: '',\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { oldPassword } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceiveOldPassword(oldPassword);\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Nhập mật khẩu cũ:</label>\r\n                                <input type=\"password\" className=\"form-control\" id=\"oldPassword\"\r\n                                    name=\"oldPassword\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default OldPasswordInput;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass PasswordInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            password1: '',\r\n            password2: ''\r\n        };\r\n    }\r\n    changeHandler = (e) => {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n    submitHandler = (e) => {\r\n        let { password1, password2 } = this.state;\r\n        e.preventDefault();\r\n        this.props.onReceivePassword(password1, password2);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\" style={{ marginTop: \"40px\" }} >\r\n                    <div className=\"col-6\" style={{ margin: \"auto\" }}>\r\n                        <form action=\"/\" onSubmit={e => this.submitHandler(e)}>\r\n                            <div className=\"form-group\">\r\n                                <label >Mật khẩu mới:</label>\r\n                                <input type=\"password\" className=\"form-control\"\r\n                                    name=\"password1\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label >Nhập lại mật khẩu mới:</label>\r\n                                <input type=\"password\" className=\"form-control\"\r\n                                    name=\"password2\"\r\n                                    onChange={e => this.changeHandler(e)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary\">Xác nhận</button>\r\n                            <Link to=\"/\" style={{ margin: \"10px\" }}>Bỏ qua</Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default PasswordInput;\r\n","import React, { Component } from \"react\";\r\nimport UsernameInput from './OldPasswordInput';\r\nimport PasswordInput from './passwordInput';\r\nimport Loading from '../Loading/Loading'\r\nimport Api from \"../../api/api\";\r\nimport AppContext from '../../context/AppContext'\r\nimport { store } from 'react-notifications-component';\r\nimport { withRouter } from 'react-router-dom'\r\nclass ChangePassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDisplayOldPasswordInput: true,\r\n            isDisplayPasswordInput: false,\r\n            oldPassword: '',\r\n            password1: '',\r\n            password2: '',\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    setOldPassword = async (oldPassword) => {\r\n        console.log(oldPassword);\r\n        this.setState({\r\n            oldPassword: oldPassword,\r\n            loading: true,\r\n        });\r\n        try {\r\n            //console.log(this.context, oldPassword)\r\n            await Api.checkPassword(this.context.user.accountId, oldPassword);\r\n            this.setState({\r\n                loading: false,\r\n                isDisplayOldPasswordInput: false,\r\n                isDisplayPasswordInput: true,\r\n            })\r\n        } catch (err) {\r\n            console.log(err);\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Lỗi\",\r\n                    message: \"Mật khẩu không chính xác vui lòng kiểm tra lại\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n    setOtp = (otp) => {\r\n        console.log(otp);\r\n        this.setState({\r\n            otp: otp\r\n        });\r\n    }\r\n    setPassword = async (password1, password2) => {\r\n        //console.log(password1, password2);\r\n        let isDigit = password1.replace(/[^0-9]/g,\"\").length > 0 ? 1 : 0;\r\n        let isLetter = password1.replace(/[^a-zA-Z]/g, '').length > 0 ? 1 : 0;\r\n        let isPunctuation = (password1.length - password1.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g,\"\").length) > 0 ? 1 : 0;\r\n        if(password1.length < 8 || (isDigit+isLetter+isPunctuation < 2)){\r\n            store.addNotification({\r\n                title: \"Lỗi\",\r\n                message: \"Mật khẩu không hợp lệ! Mật khẩu phải dài tối thiểu 8 kí tự và chứa 2 trong 3 loại chữ, số, kí tự đặc biệt!\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return\r\n        }\r\n        if (password1 !== password2) {\r\n            store.addNotification({\r\n                title: \"Lỗi\",\r\n                message: \"Mật khẩu nhập lại không đúng\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return\r\n        }\r\n        this.setState({\r\n            password1: password1,\r\n            password2: password2,\r\n            loading: true,\r\n        });\r\n        try {\r\n            await Api.changePassword(this.context.user.accountId, this.state.oldPassword, password1)\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Đổi mật khẩu thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({ loading: false })\r\n            this.props.history.push('/')\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        let { isDisplayOldPasswordInput,\r\n            isDisplayPasswordInput } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.loading} />\r\n                { isDisplayOldPasswordInput ? <UsernameInput onReceiveOldPassword={this.setOldPassword} /> : \"\"}\r\n                { isDisplayPasswordInput ? <PasswordInput onReceivePassword={this.setPassword} /> : \"\"}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nChangePassword.contextType = AppContext\r\n\r\nexport default withRouter(ChangePassword);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/StudentScore.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass StudentScore extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            student: {},\r\n            scoreList: [],\r\n            studentAssignment: {},\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, student] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getStudentByCode(this.context.user.userCode),\r\n            ])\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                studentId: student.data.result.studentId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                student: student.data.result,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n            await this.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let [res, studentAssignment] = await Promise.all([\r\n                Api.getStudentScoreSummary(searchCondition || this.state.searchCondition),\r\n                Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            ])\r\n            console.log(res, studentAssignment)\r\n            this.setState({\r\n                scoreList: res.data.data,\r\n                studentAssignment: studentAssignment.data.result.data[0] || {},\r\n                loading: false,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n        this.refresh(searchCondition)\r\n    }\r\n\r\n    renderTableData() {\r\n        let scoreList = this.state.scoreList;\r\n        let row = [];\r\n        for (let i = 0; i < scoreList.length; i++) {\r\n            let { subjectName, score1, score2, avgScore1, avgScore2, avgScoreYear } = scoreList[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{score1[0][0]}</td>\r\n                    <td>{score1[0][1]}</td>\r\n                    <td>{score1[0][2]}</td>\r\n                    <td>{score1[0][3]}</td>\r\n                    <td>{score1[0][4]}</td>\r\n                    <td>{score1[1][0]}</td>\r\n                    <td>{score1[1][1]}</td>\r\n                    <td>{score1[1][2]}</td>\r\n                    <td>{score1[1][3]}</td>\r\n                    <td>{score1[1][4]}</td>\r\n                    <td>{score1[2][0]}</td>\r\n                    <td>{score1[2][1]}</td>\r\n                    <td>{score1[2][2]}</td>\r\n                    <td>{score1[3][0]}</td>\r\n                    <td>{score2[0][0]}</td>\r\n                    <td>{score2[0][1]}</td>\r\n                    <td>{score2[0][2]}</td>\r\n                    <td>{score2[0][3]}</td>\r\n                    <td>{score2[0][4]}</td>\r\n                    <td>{score2[1][0]}</td>\r\n                    <td>{score2[1][1]}</td>\r\n                    <td>{score2[1][2]}</td>\r\n                    <td>{score2[1][3]}</td>\r\n                    <td>{score2[1][4]}</td>\r\n                    <td>{score2[2][0]}</td>\r\n                    <td>{score2[2][1]}</td>\r\n                    <td>{score2[2][2]}</td>\r\n                    <td>{score2[3][0]}</td>\r\n                    <td>{avgScore1}</td>\r\n                    <td>{avgScore2}</td>\r\n                    <td>{avgScoreYear}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row;\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu điểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-4\">\r\n                        <div className=\"form-inline\">\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                        <div>\r\n                            <b>Học sinh: </b> {this.state.student.studentName}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                        <div>\r\n                            <b>Ngày sinh: </b> {this.formatDate(new Date(this.state.student.dateOfBirth))}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                        <div>\r\n                            <b>Lớp: </b> {this.state.studentAssignment && this.state.studentAssignment.className}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                        <div>\r\n                            <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                        <table className=\"table table-bordered student-score-summary\">\r\n                            <thead className=\"text-center\">\r\n                                <tr>\r\n                                    <th rowSpan=\"2\">STT</th>\r\n                                    <th rowSpan=\"2\" className=\"subject\">Môn học</th>\r\n                                    <th colSpan=\"14\">Học kỳ 1</th>\r\n                                    <th colSpan=\"14\">Học kỳ 2</th>\r\n                                    <th rowSpan=\"2\">TB kỳ 1</th>\r\n                                    <th rowSpan=\"2\">TB kỳ 2</th>\r\n                                    <th rowSpan=\"2\">TB năm</th>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th colSpan=\"5\">Miệng</th>\r\n                                    <th colSpan=\"5\">15 phút</th>\r\n                                    <th colSpan=\"3\">1 tiết</th>\r\n                                    <th >Thi</th>\r\n                                    <th colSpan=\"5\">Miệng</th>\r\n                                    <th colSpan=\"5\">15 phút</th>\r\n                                    <th colSpan=\"3\">1 tiết</th>\r\n                                    <th >Thi</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.renderTableData()}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nStudentScore.contextType = AppContext\r\n\r\nexport default withRouter(StudentScore);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/StudentPLL.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\nimport Pdf from \"react-to-pdf\";\r\nconst ref = React.createRef()\r\nclass PLL extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            studentList: [],\r\n            classList: [],\r\n            loading: false,\r\n            showReport: false,\r\n            scoreList: [],\r\n            PLL: {},\r\n            date: new Date()\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId,\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            let studentList\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n                studentList = await Api.searchStudentAssignment(1, 1000000, searchCondition)\r\n                if (studentList.data.result.data.length) {\r\n                    searchCondition.studentId = studentList.data.result.data[0].studentId\r\n                }\r\n            }\r\n            console.log(searchCondition)\r\n            this.setState({\r\n                classList: homeroomClass.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                studentList: studentList ? studentList.data.result.data : [],\r\n                searchCondition: searchCondition,\r\n                loading: false,\r\n                homeroomTeacher: teacher.data.result,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({\r\n                    loading: false,\r\n                    showReport: false\r\n                })\r\n                return\r\n            }\r\n            if (!this.state.searchCondition.studentId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách học sinh rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, showReport: false })\r\n                return\r\n            }\r\n            let [res, score] = await Promise.all([\r\n                Api.getPLL(searchCondition || this.state.searchCondition),\r\n                Api.getStudentScoreSummary(searchCondition || this.state.searchCondition)\r\n            ])\r\n            console.log(res, score)\r\n            this.setState({\r\n                scoreList: score.data.data,\r\n                PLL: res.data,\r\n                showReport: true,\r\n                loading: false,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getStudentOption = () => {\r\n        let list = this.state.studentList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { studentId, studentName, studentCode } = list[i];\r\n            options.push({\r\n                name: studentName + \" - \" + studentCode,\r\n                value: studentId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        //console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            searchCondition.studentId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                let studentList\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                    studentList = await Api.searchStudentAssignment(1, 1000000, searchCondition)\r\n                    if (studentList.data.result.data.length) {\r\n                        searchCondition.studentId = studentList.data.result.data[0].studentId\r\n                    } else {\r\n                        store.addNotification({\r\n                            title: \"Thông báo\",\r\n                            message: \"Danh sách học sinh rỗng\",\r\n                            type: \"info\",\r\n                            container: \"top-center\",\r\n                            dismiss: {\r\n                                duration: 5000,\r\n                                showIcon: true,\r\n                            },\r\n                            animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                            animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                        })\r\n                    }\r\n                } else {\r\n                    store.addNotification({\r\n                        title: \"Thông báo\",\r\n                        message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                        type: \"info\",\r\n                        container: \"top-center\",\r\n                        dismiss: {\r\n                            duration: 5000,\r\n                            showIcon: true,\r\n                        },\r\n                        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                    })\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: classList.data.result.data,\r\n                    studentList: studentList.data.result.data,\r\n                    searchCondition: searchCondition,\r\n                })\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    studentList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let scoreList = this.state.scoreList;\r\n        let row = [];\r\n        for (let i = 0; i < scoreList.length; i++) {\r\n            let { subjectName, score1, score2, avgScore1, avgScore2, avgScoreYear } = scoreList[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{score1[0][0]}</td>\r\n                    <td>{score1[0][1]}</td>\r\n                    <td>{score1[0][2]}</td>\r\n                    <td>{score1[0][3]}</td>\r\n                    <td>{score1[0][4]}</td>\r\n                    <td>{score1[1][0]}</td>\r\n                    <td>{score1[1][1]}</td>\r\n                    <td>{score1[1][2]}</td>\r\n                    <td>{score1[1][3]}</td>\r\n                    <td>{score1[1][4]}</td>\r\n                    <td>{score1[2][0]}</td>\r\n                    <td>{score1[2][1]}</td>\r\n                    <td>{score1[2][2]}</td>\r\n                    <td>{score1[3][0]}</td>\r\n                    <td>{score2[0][0]}</td>\r\n                    <td>{score2[0][1]}</td>\r\n                    <td>{score2[0][2]}</td>\r\n                    <td>{score2[0][3]}</td>\r\n                    <td>{score2[0][4]}</td>\r\n                    <td>{score2[1][0]}</td>\r\n                    <td>{score2[1][1]}</td>\r\n                    <td>{score2[1][2]}</td>\r\n                    <td>{score2[1][3]}</td>\r\n                    <td>{score2[1][4]}</td>\r\n                    <td>{score2[2][0]}</td>\r\n                    <td>{score2[2][1]}</td>\r\n                    <td>{score2[2][2]}</td>\r\n                    <td>{score2[3][0]}</td>\r\n                    <td>{avgScore1}</td>\r\n                    <td>{avgScore2}</td>\r\n                    <td>{avgScoreYear}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        let { PLL } = this.state\r\n        let student = this.state.studentList.find(e => e.studentId === this.state.searchCondition.studentId)\r\n        let _class = this.state.classList.find(e => e.classId === this.state.searchCondition.classId)\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Xuất phiếu liên lạc\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"form-inline\">\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                    disabled={true}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học sinh:</label>\r\n                            <div className=\"ml-1 select-student\">\r\n                                <SelectSearch\r\n                                    options={this.getStudentOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.studentId}\r\n                                    onChange={v => this.changeSearchCondition(\"studentId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button onClick={() => this.refresh()} type=\"button\" className=\"btn btn-primary ml-auto\">Xem phiếu liên lạc</button>\r\n\r\n                            {this.state.showReport &&\r\n                                <div className=\"col-3\">\r\n                                    <Pdf targetRef={ref} filename=\"phieu-lien-lac.pdf\" scale={0.52} y={7}>\r\n                                        {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary ml-3\" onClick={toPdf}>Xuất file phiếu liên lạc</button>}\r\n                                    </Pdf>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} className=\"d-flex\" style={{ overflow: \"auto\" }} >\r\n                        <div style={{ width: \"380mm\" }} className=\"ml-auto mr-auto\">\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-12 text-center pll-title\">\r\n                                    <div>\r\n                                        <b>Phiếu liên lạc điện tử</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Học sinh: </b>{student.studentName}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Ngày sinh: </b>{this.formatDate(new Date(student.dateOfBirth))}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Lớp: </b> { } {_class.className}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Năm học: </b>{_class.schoolYear}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered student-score-summary\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th rowSpan=\"2\">STT</th>\r\n                                                <th rowSpan=\"2\" className=\"subject\">Môn học</th>\r\n                                                <th colSpan=\"14\">Học kỳ 1</th>\r\n                                                <th colSpan=\"14\">Học kỳ 2</th>\r\n                                                <th rowSpan=\"2\">TB kỳ 1</th>\r\n                                                <th rowSpan=\"2\">TB kỳ 2</th>\r\n                                                <th rowSpan=\"2\">TB năm</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th colSpan=\"5\">Miệng</th>\r\n                                                <th colSpan=\"5\">15 phút</th>\r\n                                                <th colSpan=\"3\">1 tiết</th>\r\n                                                <th >Thi</th>\r\n                                                <th colSpan=\"5\">Miệng</th>\r\n                                                <th colSpan=\"5\">15 phút</th>\r\n                                                <th colSpan=\"3\">1 tiết</th>\r\n                                                <th >Thi</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th >Tổng kết</th>\r\n                                                <th >Điểm trung bình</th>\r\n                                                <th >Học lực</th>\r\n                                                <th >Hạnh kiểm</th>\r\n                                                <th >Xếp hạng</th>\r\n                                                <th >Danh hiệu</th>\r\n                                                <th >Vắng có phép</th>\r\n                                                <th >Vắng không phép</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Học kỳ 1</td>\r\n                                                <td>{PLL.result1.avgScore}</td>\r\n                                                <td>{PLL.result1.scoreTitle}</td>\r\n                                                <td>{PLL.result1.conductTitle}</td>\r\n                                                <td>{PLL.result1.rank}</td>\r\n                                                <td>{PLL.result1.title}</td>\r\n                                                <td>{PLL.result1.nVangCoPhep}</td>\r\n                                                <td>{PLL.result1.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Học kỳ 2</td>\r\n                                                <td>{PLL.result2.avgScore}</td>\r\n                                                <td>{PLL.result2.scoreTitle}</td>\r\n                                                <td>{PLL.result2.conductTitle}</td>\r\n                                                <td>{PLL.result2.rank}</td>\r\n                                                <td>{PLL.result2.title}</td>\r\n                                                <td>{PLL.result2.nVangCoPhep}</td>\r\n                                                <td>{PLL.result2.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Cả năm</td>\r\n                                                <td>{PLL.result0.avgScore}</td>\r\n                                                <td>{PLL.result0.scoreTitle}</td>\r\n                                                <td>{PLL.result0.conductTitle}</td>\r\n                                                <td>{PLL.result0.rank}</td>\r\n                                                <td>{PLL.result0.title}</td>\r\n                                                <td>{PLL.result0.nVangCoPhep}</td>\r\n                                                <td>{PLL.result0.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th colSpan=\"2\">Ý kiến PHHS</th>\r\n                                                <th colSpan=\"2\">Ý kiến GVCN</th>\r\n                                                <th colSpan=\"2\">Kết quả cuối năm</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr className=\"text-left\">\r\n                                                <td colSpan=\"2\"></td>\r\n                                                <td colSpan=\"2\">\r\n                                                    {PLL.result1.note} {\"\\n\"} {PLL.result2.note}\r\n                                                </td>\r\n                                                <td colSpan=\"2\">\r\n                                                    Được lên lớp:<br />{PLL.result0.isGradeUp}\r\n                                        Thi lại môn:\r\n                                    </td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td colSpan=\"3\">\r\n                                                    <b>Hiệu trưởng</b>\r\n                                                </td>\r\n                                                <td colSpan=\"3\">\r\n                                                    Hà Nội, ngày {this.state.date.getDate() < 10 ? \"0\" + this.state.date.getDate() : this.state.date.getDate()} tháng {this.state.date.getMonth() < 9 ? \"0\" + (this.state.date.getMonth() + 1) : this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    {this.state.homeroomTeacher.teacherName}\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nPLL.contextType = AppContext\r\n\r\nexport default withRouter(PLL);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/Statistic/RankStatistic.css';\r\nimport { store } from 'react-notifications-component'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Pdf from \"react-to-pdf\";\r\nimport ReactToPrint from 'react-to-print';\r\nconst ref = React.createRef()\r\nclass RankStatistic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            searchCondition: {},\r\n            iconSize: '15px',\r\n            homeroomTeacher: \"\",\r\n            studentList: [],\r\n            date: new Date()\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                classId: classList.data.result.data[0].classId,\r\n                term: 1,\r\n            }\r\n            console.log(searchCondition)\r\n            this.setState({\r\n                classList: classList.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            let res = await Api.getRankReport(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                showReport: true,\r\n                loading: false,\r\n                studentList: res.data.data,\r\n                homeroomTeacher: res.data.homeroomTeacher,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.studentList.map((data, index) => {\r\n            const { studentName, gender, address, avgScore, scoreLevel, conduct } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{avgScore}</td>\r\n                    <td>{conduct}</td>\r\n                    <td>{scoreLevel}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thống kê danh sách theo hạng\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"Cả năm\", value: 0 }, { name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-3\" onClick={(e) => { e.preventDefault(); this.refresh() }}>Xem kết quả</button>\r\n                        </form>\r\n                    </div>\r\n                    {this.state.showReport &&\r\n                        <div className=\"col-3\">\r\n                            <Pdf targetRef={ref} filename=\"rank-report.pdf\" scale={0.7} y={7}>\r\n                                {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary mr-2\" onClick={toPdf}>Xuất file</button>}\r\n                            </Pdf>\r\n                            <ReactToPrint\r\n                                trigger={() => {\r\n\r\n                                    return <button type=\"button\" className=\"btn btn-primary mr-2\">In thống kê</button>;\r\n                                }}\r\n                                content={ () => this.componentRef}\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} style={{ overflow: \"auto\" }} >\r\n                        <div id=\"report\" ref={el => (this.componentRef = el)} className=\"container-fluid\" style={{ width: \"280mm\" }}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12 text-center statistic-title\">\r\n                                    <div>\r\n                                        <b>Danh sách học sinh theo xếp hạng</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Lớp: </b> {this.state.classList.find(e => e.classId === this.state.searchCondition.classId) && this.state.classList.find(e => e.classId === this.state.searchCondition.classId).className}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Học kỳ: </b> {this.state.searchCondition.term === 0 ? \"Cả năm\" : this.state.searchCondition.term}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th>Xếp hạng</th>\r\n                                                <th>Họ tên</th>\r\n                                                <th>Giới tính</th>\r\n                                                <th>Điểm trung bình</th>\r\n                                                <th>Hạnh kiểm</th>\r\n                                                <th>Học lực</th>\r\n                                                <th>Danh hiệu</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3 mb-2 justify-content-end\">\r\n                                <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5 text-center\">\r\n                                    Hà Nội, ngày {this.state.date.getDate()} tháng {this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                    <br />\r\n                                    <br />\r\n                                    <br />\r\n                                    {this.state.homeroomTeacher}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(RankStatistic);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/Statistic/SubjectStatistic.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Pdf from \"react-to-pdf\";\r\nimport ReactToPrint from 'react-to-print';\r\nconst ref = React.createRef()\r\nclass SubjectStatistic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            homeroomTeacher: \"\",\r\n            date: new Date(),\r\n            scoreList: [],\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                classId: classList.data.result.data[0].classId,\r\n                term: 1,\r\n            }\r\n            //console.log(searchCondition)\r\n            this.setState({\r\n                classList: classList.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            let res = await Api.getSubjectReport(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                scoreList: res.data.data,\r\n                homeroomTeacher: res.data.homeroomTeacher,\r\n                loading: false,\r\n                showReport: true,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let row = []\r\n        let list = this.state.scoreList\r\n        for (let i = 0; i < list.length; i++) {\r\n            const { nGioi, nKem, nKha, nNuGioi, nNuKem, nNuKha, nNuTB, nNuYeu, nTB, nYeu, subjectName, tlGioi, tlKem, tlKha, tlNuGioi, tlNuKem, tlNuKha, tlNuTB, tlNuYeu, tlTB, tlYeu } = list[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td rowSpan=\"2\" className=\"align-middle\">{subjectName}</td>\r\n                    <td>Nữ</td>\r\n                    <td>{nNuGioi}</td>\r\n                    <td>{tlNuGioi}</td>\r\n                    <td>{nNuKha}</td>\r\n                    <td>{tlNuKha}</td>\r\n                    <td>{nNuTB}</td>\r\n                    <td>{tlNuTB}</td>\r\n                    <td>{nNuYeu}</td>\r\n                    <td>{tlNuYeu}</td>\r\n                    <td>{nNuKem}</td>\r\n                    <td>{tlNuKem}</td>\r\n                </tr>\r\n            )\r\n            row.push(\r\n                <tr className=\"text-center\" key={\"TC\" + i}>\r\n                    <td>TC</td>\r\n                    <td>{nGioi}</td>\r\n                    <td>{tlGioi}</td>\r\n                    <td>{nKha}</td>\r\n                    <td>{tlKha}</td>\r\n                    <td>{nTB}</td>\r\n                    <td>{tlTB}</td>\r\n                    <td>{nYeu}</td>\r\n                    <td>{tlYeu}</td>\r\n                    <td>{nKem}</td>\r\n                    <td>{tlKem}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thống kê kết quả môn học\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" >\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"Cả năm\", value: 0 }, { name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-3\" onClick={(e) => { e.preventDefault(); this.refresh() }}>Xem kết quả</button>\r\n                        </form>\r\n                    </div>\r\n                    {this.state.showReport &&\r\n                        <div className=\"col-3\">\r\n                            <Pdf targetRef={ref} filename=\"subject-report.pdf\" scale={0.7} y={7}>\r\n                                {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary mr-2\" onClick={toPdf}>Xuất file</button>}\r\n                            </Pdf>\r\n                            <ReactToPrint\r\n                                copyStyles={true}\r\n                                trigger={() => {\r\n\r\n                                    return <button type=\"button\" className=\"btn btn-primary mr-2\">In thống kê</button>;\r\n                                }}\r\n                                content={() => this.componentRef}\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} style={{ overflow: \"auto\" }} >\r\n                        <div ref={el => (this.componentRef = el)} className=\"container-fluid text-center\" id=\"report\" style={{ width: \"280mm\" }}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12 text-center statistic-title\">\r\n                                    <div>\r\n                                        <b>Thống kê xếp loại môn học của lớp {this.state.classList[this.state.class]}</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Học kỳ: </b> {this.state.searchCondition.term === 0 ? \"Cả năm\" : this.state.searchCondition.term}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered table-striped\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th rowSpan=\"2\" colSpan=\"2\"></th>\r\n                                                <th colSpan=\"2\">Giỏi</th>\r\n                                                <th colSpan=\"2\">Khá</th>\r\n                                                <th colSpan=\"2\">Trung Bình</th>\r\n                                                <th colSpan=\"2\">Yếu</th>\r\n                                                <th colSpan=\"2\">Kém</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3 mb-2 \">\r\n                                <div className=\"col-xs-7 col-sm-7 col-md-7 col-lg-7\"> </div>\r\n                                <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5 text-center ml-auto\">\r\n                                    Hà Nội, ngày {this.state.date.getDate()} tháng {this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                    <br />\r\n                                    <br />\r\n                                    <br />\r\n                                    {this.state.homeroomTeacher}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(SubjectStatistic);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/TeachingClassScore.css';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { Modal, Button } from 'react-bootstrap'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport XLSX from \"xlsx\";\r\n\r\n\r\nclass TeachingClassScore extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            info: {},\r\n            scoreList: [],\r\n            edited: false,\r\n            submitLoading: false,\r\n            showConfirm: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n        })\r\n        //console.log(this.props.location.state);\r\n        if (!this.props.location.state) {\r\n            this.props.history.push(\"/my-teaching-assignment\", {\r\n                kind: \"edit\"\r\n            })\r\n            return\r\n        }\r\n\r\n        this.unblock = this.props.history.block(tx => {\r\n            if (!this.state.edited) {\r\n                this.unblock()\r\n                return true\r\n            } else {\r\n                this.setState({\r\n                    showConfirm: true,\r\n                })\r\n                return false\r\n            }\r\n        });\r\n        let info = this.props.location.state\r\n        this.setState({ info: info })\r\n        try {\r\n            let checkLock = await Api.checkLock(info.schoolYearId, info.term)\r\n            console.log(checkLock)\r\n            if (checkLock.data.result.lock) {\r\n                store.addNotification({\r\n                    title: \"Không thể nhập điểm\",\r\n                    message: \"Hiện tại đang khóa nhập điểm vui lòng chờ đến thời điểm nhập điểm hoặc liên hệ quản trị viên\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.props.history.push(\"/my-teaching-assignment\", {\r\n                    kind: \"edit\"\r\n                })\r\n                return\r\n            }\r\n            await this.refresh()\r\n            this.setState({ loading: false })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.unblock) {\r\n            this.unblock()\r\n        }\r\n    }\r\n\r\n    refresh = async () => {\r\n        let info = this.props.location.state\r\n        this.setState({ loading: true })\r\n        try {\r\n            let studentAssignmentList = await Api.searchStudentAssignment(1, 1000000, {\r\n                schoolYearId: info.schoolYearId,\r\n                classId: info.classId,\r\n            })\r\n            studentAssignmentList = studentAssignmentList.data.result.data\r\n            //console.log(studentAssignmentList)\r\n            let listApi = []\r\n            for (let i = 0; i < studentAssignmentList.length; i++) {\r\n                listApi.push(\r\n                    Api.getSubjectScore(studentAssignmentList[i].studentId, info.subjectId, info.schoolYearId, info.term)\r\n                )\r\n            }\r\n            let scoreList = await Promise.all(listApi);\r\n            //console.log(scoreList)\r\n            let list = [];\r\n            for (let i = 0; i < scoreList.length; i++) {\r\n                list.push({\r\n                    ...studentAssignmentList[i],\r\n                    scoreMouth: [],\r\n                    score15: [],\r\n                    score45: [],\r\n                    scoreTerm: {},\r\n                })\r\n                let scores = scoreList[i].data.scores\r\n                for (let j = 0; j < scores.length; j++) {\r\n                    switch (scores[j].kind) {\r\n                        case 0: list[i].scoreMouth.push(scores[j]);\r\n                            break;\r\n                        case 1: list[i].score15.push(scores[j]);\r\n                            break;\r\n                        case 2: list[i].score45.push(scores[j]);\r\n                            break;\r\n                        case 3: list[i].scoreTerm = scores[j];\r\n                            break;\r\n                        default:\r\n                    }\r\n                }\r\n                while (list[i].scoreMouth.length < 5) {\r\n                    list[i].scoreMouth.push({\r\n                        kind: 0,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                while (list[i].score15.length < 5) {\r\n                    list[i].score15.push({\r\n                        kind: 1,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                while (list[i].score45.length < 3) {\r\n                    list[i].score45.push({\r\n                        kind: 2,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                if (!list[i].scoreTerm.scoreId) {\r\n                    list[i].scoreTerm = {\r\n                        kind: 3,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    }\r\n                }\r\n            }\r\n            console.log(list)\r\n            this.setState({\r\n                loading: false,\r\n                scoreList: list,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.scoreList.map((data, index) => {\r\n            const { studentCode, studentName, scoreMouth, score15, score45, scoreTerm } = data;\r\n            let list = []\r\n            for (let i = 0; i < scoreMouth.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"mouth\" + i}>\r\n                        <input className=\"score-input form-control\" type=\"text\" value={scoreMouth[i].score} onChange={(e) => this.changeScore(index, 0, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            for (let i = 0; i < score15.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"score15\" + i}>\r\n                        <input className=\"score-input form-control\" type=\"text\" value={score15[i].score} onChange={(e) => this.changeScore(index, 1, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            for (let i = 0; i < score45.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"score45\" + i}>\r\n                        <input className=\"score-input form-control\" type=\"text\" value={score45[i].score} onChange={(e) => this.changeScore(index, 2, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            list.push(\r\n                <td className=\"td-score\" key={\"score-term\"}>\r\n                    <input className=\"score-input form-control\" type=\"text\" value={scoreTerm.score} onChange={(e) => this.changeScore(index, 3, 0, e)} />\r\n                </td>\r\n            )\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    {list}\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    changeScore = (index, kind, pos, event) => {\r\n        let value = event.target.value;\r\n        let scoreList = this.state.scoreList\r\n        switch (kind) {\r\n            case 0: scoreList[index].scoreMouth[pos].score = value; scoreList[index].scoreMouth[pos].edited = true; break;\r\n            case 1: scoreList[index].score15[pos].score = value; scoreList[index].score15[pos].edited = true; break;\r\n            case 2: scoreList[index].score45[pos].score = value; scoreList[index].score45[pos].edited = true; break;\r\n            case 3: scoreList[index].scoreTerm.score = value; scoreList[index].scoreTerm.edited = true; break;\r\n            default:\r\n        }\r\n        this.setState({\r\n            edited: true,\r\n            scoreList: scoreList\r\n        })\r\n    }\r\n\r\n    validateScore = (score) => {\r\n        if (score === \"\") {\r\n            return true\r\n        }\r\n        if (isNaN(score)) {\r\n            store.addNotification({\r\n                title: \"Lỗi \",\r\n                message: \"Điểm nhập phải là số\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false\r\n        }\r\n\r\n        if (parseFloat(score) < 0 || parseFloat(score) > 10) {\r\n            store.addNotification({\r\n                title: \"Lỗi \",\r\n                message: \"Điểm nhập phải >= 0 và <= 10\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            return false\r\n        }\r\n\r\n        return true\r\n    }\r\n\r\n    submit = async () => {\r\n        if (!this.state.edited) {\r\n            return\r\n        }\r\n        this.setState({\r\n            submitLoading: true,\r\n        })\r\n        try {\r\n            let list = [];\r\n            let scoreList = this.state.scoreList;\r\n            for (let i = 0; i < scoreList.length; i++) {\r\n                let scores = []\r\n                for (let j = 0; j < scoreList[i].scoreMouth.length; j++) {\r\n                    let score = scoreList[i].scoreMouth[j];\r\n                    if (!score.edited) {\r\n                        continue\r\n                    }\r\n\r\n                    if (!this.validateScore(score.score)) {\r\n                        return\r\n                    }\r\n\r\n                    if (!score.scoreId) {\r\n                        if (score.score === \"\") {\r\n                            continue\r\n                        }\r\n                        scores.push({\r\n                            method: \"add\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    if (score.score === \"\") {\r\n                        scores.push({\r\n                            method: \"delete\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    scores.push({\r\n                        method: \"edit\",\r\n                        ...score,\r\n                    })\r\n                }\r\n\r\n                for (let j = 0; j < scoreList[i].score15.length; j++) {\r\n                    let score = scoreList[i].score15[j];\r\n                    if (!score.edited) {\r\n                        continue\r\n                    }\r\n                    if (!this.validateScore(score.score)) {\r\n                        return\r\n                    }\r\n                    if (!score.scoreId) {\r\n                        if (score.score === \"\") {\r\n                            continue\r\n                        }\r\n                        scores.push({\r\n                            method: \"add\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    if (score.score === \"\") {\r\n                        scores.push({\r\n                            method: \"delete\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    scores.push({\r\n                        method: \"edit\",\r\n                        ...score,\r\n                    })\r\n                }\r\n\r\n                for (let j = 0; j < scoreList[i].score45.length; j++) {\r\n                    let score = scoreList[i].score45[j];\r\n                    if (!score.edited) {\r\n                        continue\r\n                    }\r\n                    if (!this.validateScore(score.score)) {\r\n                        return\r\n                    }\r\n                    if (!score.scoreId) {\r\n                        if (score.score === \"\") {\r\n                            continue\r\n                        }\r\n\r\n                        scores.push({\r\n                            method: \"add\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    if (score.score === \"\") {\r\n                        scores.push({\r\n                            method: \"delete\",\r\n                            ...score,\r\n                        })\r\n                        continue\r\n                    }\r\n\r\n                    scores.push({\r\n                        method: \"edit\",\r\n                        ...score,\r\n                    })\r\n                }\r\n\r\n                let score = scoreList[i].scoreTerm;\r\n                if (score.edited) {\r\n                    if (!this.validateScore(score.score)) {\r\n                        return\r\n                    }\r\n                    if (!score.scoreId) {\r\n                        scores.push({\r\n                            method: \"add\",\r\n                            ...score,\r\n                        })\r\n                    } else {\r\n                        if (score.score === \"\") {\r\n                            scores.push({\r\n                                method: \"delete\",\r\n                                ...score,\r\n                            })\r\n                        } else {\r\n                            scores.push({\r\n                                method: \"edit\",\r\n                                ...score,\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n                list.push({\r\n                    studentId: scoreList[i].studentId,\r\n                    scores: scores\r\n                })\r\n            }\r\n            await Api.editScore({ students: list })\r\n            await this.refresh()\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Cập nhật điểm thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({ submitLoading: false, edited: false })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ submitLoading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({ showConfirm: false })\r\n    }\r\n\r\n    exportFile = () => {\r\n        let data = []\r\n        data.push([\"STT\", \"MSHS\", \"Họ tên\", \"Miệng\", \"\", \"\", \"\", \"\", \"15 phút\", \"\", \"\", \"\", \"\", \"1 tiết\", \"\", \"\", \"Thi\"])\r\n        let scoreList = this.state.scoreList\r\n        scoreList.forEach((score, index) => {\r\n            let row = [index + 1, score.studentCode, score.studentName]\r\n            let scoreMouth = score.scoreMouth.map((e) => e.score)\r\n            row.push(...scoreMouth)\r\n            let score15 = score.score15.map((e) => e.score)\r\n            row.push(...score15)\r\n            let score45 = score.score45.map((e) => e.score)\r\n            row.push(...score45)\r\n            row.push(score.scoreTerm.score)\r\n            data.push(row)\r\n        })\r\n        let ws = XLSX.utils.aoa_to_sheet(data)\r\n        ws['!merges'] = [\r\n            {\r\n                s: { r: 0, c: 3 },\r\n                e: { r: 0, c: 7 }\r\n            },\r\n            {\r\n                s: { r: 0, c: 8 },\r\n                e: { r: 0, c: 12 }\r\n            },\r\n            {\r\n                s: { r: 0, c: 13 },\r\n                e: { r: 0, c: 15 }\r\n            },\r\n        ]\r\n        const wb = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(wb, ws, \"Score\");\r\n        // /* generate XLSX file and send to client */\r\n        XLSX.writeFile(wb, \"score.xlsx\");\r\n    }\r\n\r\n    SheetJSFT = [\r\n        \"xlsx\", \"xlsb\", \"xlsm\", \"xls\", \"xml\", \"csv\", \"txt\", \"ods\", \"fods\", \"uos\", \"sylk\", \"dif\", \"dbf\", \"prn\", \"qpw\", \"123\", \"wb*\", \"wq*\", \"html\", \"htm\"\r\n    ].map(x => `.${x}`).join(\",\");\r\n\r\n    importFile = (e) => {\r\n        const files = e.target.files;\r\n        if (!files || !files[0]) {\r\n            return\r\n        }\r\n        const file = files[0]\r\n        const reader = new FileReader();\r\n        const rABS = !!reader.readAsBinaryString;\r\n        reader.onload = (e) => {\r\n            const bstr = e.target.result;\r\n            const wb = XLSX.read(bstr, { type: rABS ? 'binary' : 'array' });\r\n            /* Get first worksheet */\r\n            const wsname = wb.SheetNames[0];\r\n            const ws = wb.Sheets[wsname];\r\n            /* Convert array of arrays */\r\n            const data = XLSX.utils.sheet_to_json(ws, { header: 1 });\r\n            let scoreList = this.state.scoreList\r\n            console.log(scoreList, data)\r\n            try {\r\n                for (let i = 1; i < data.length; i++) {\r\n                    let scoreNew = data[i]\r\n                    let scoreOld = scoreList[i - 1]\r\n                    console.log(scoreNew, scoreOld)\r\n                    if (scoreOld.studentCode !== scoreNew[1]) {\r\n                        store.addNotification({\r\n                            title: \"Lỗi\",\r\n                            message: \"File nhập không đúng định dạng\",\r\n                            type: \"danger\",\r\n                            container: \"top-center\",\r\n                            dismiss: {\r\n                                duration: 5000,\r\n                                showIcon: true,\r\n                            },\r\n                            animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                            animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                        })\r\n                        this.refresh()\r\n                        return\r\n                    }\r\n                    for (let j = 3; j <= 7; j++) {\r\n                        if (scoreOld.scoreMouth[j - 3].score !== scoreNew[j]) {\r\n                            scoreOld.scoreMouth[j - 3].edited = true;\r\n                            if (!scoreNew[j]) {\r\n                                scoreOld.scoreMouth[j - 3].score = \"\"\r\n                            } else {\r\n                                scoreOld.scoreMouth[j - 3].score = scoreNew[j]\r\n                            }\r\n                        }\r\n                    }\r\n                    for (let i = 8; i <= 12; i++) {\r\n                        if (scoreOld.score15[i - 8].score !== scoreNew[i]) {\r\n                            scoreOld.score15[i - 8].edited = true;\r\n                            if (!scoreNew[i]) {\r\n                                scoreOld.score15[i - 8].score = \"\"\r\n                            } else {\r\n                                scoreOld.score15[i - 8].score = scoreNew[i]\r\n                            }\r\n                        }\r\n                    }\r\n                    for (let i = 13; i <= 15; i++) {\r\n                        if (scoreOld.score45[i - 13].score !== scoreNew[i]) {\r\n                            scoreOld.score45[i - 13].edited = true;\r\n                            if (!scoreNew[i]) {\r\n                                scoreOld.score45[i - 13].score = \"\"\r\n                            } else {\r\n                                scoreOld.score45[i - 13].score = scoreNew[i]\r\n                            }\r\n                        }\r\n                    }\r\n                    if (scoreOld.scoreTerm.score !== scoreNew[16]) {\r\n                        scoreOld.scoreTerm.edited = true;\r\n                        if (!scoreNew[16]) {\r\n                            scoreOld.scoreTerm.score = \"\"\r\n                        } else {\r\n                            scoreOld.scoreTerm.score = scoreNew[16]\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({\r\n                    scoreList: scoreList,\r\n                    edited: true,\r\n                })\r\n                store.addNotification({\r\n                    title: \"Thành công\",\r\n                    message: `Nhập file thành công!    Kết quả được hiển thị ở bảng.     Ấn lưu để lưu lại`,\r\n                    type: \"success\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        //showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n                store.addNotification({\r\n                    title: \"Lỗi\",\r\n                    message: \"File nhập không đúng định dạng\",\r\n                    type: \"danger\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.refresh()\r\n            }\r\n        };\r\n        if (rABS) reader.readAsBinaryString(file); else reader.readAsArrayBuffer(file);\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.state)\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Confirm\r\n                    show={this.state.showConfirm}\r\n                    close={this.closeConfirm}\r\n                    unblock={this.unblock}\r\n                    goBack={this.back}\r\n                />\r\n                <Loading show={this.state.submitLoading} />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Nhập điểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-6 mt-1\">\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Năm học: </b>{this.state.info.schoolYear}\r\n                        </span>\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Lớp: </b>{this.state.info.className}\r\n                        </span>\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Học kỳ: </b>{this.state.info.term}\r\n                        </span>\r\n\r\n                        <span className=\"align-middle\">\r\n                            <b>Môn: </b>{this.state.info.subjectName}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                        <input\r\n                            type=\"file\"\r\n                            ref={el => this.inputRef = el}\r\n                            onChange={this.importFile}\r\n                            style={{ display: \"none\" }}\r\n                            accept={this.SheetJSFT}\r\n                        />\r\n                        <button type=\"button\" className=\"btn btn-primary mr-4\" onClick={() => { this.inputRef.click() }} >Nhập điểm từ file Excel</button>\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.exportFile()}>Xuất file điểm</button>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <form className=\"text-center\">\r\n                            <table id=\"score-table\" className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>MSHS</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th colSpan=\"5\">Miệng</th>\r\n                                        <th colSpan=\"5\">15 phút</th>\r\n                                        <th colSpan=\"3\">1 tiết</th>\r\n                                        <th>Thi</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </form>\r\n                        <button className=\"btn btn-primary\" onClick={() => { this.submit(); this.setState({ submitLoading: false }) }}>Lưu</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Confirm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận thoát</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn thoát, các thay đổi sẽ không được lưu ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.unblock(); this.props.goBack() }}>Thoát</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(TeachingClassScore);","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { FiEdit } from 'react-icons/fi'\r\nimport { Modal, Form, Button } from 'react-bootstrap';\r\nimport '../../css/ConductAssessment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass ConductAssessment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            conductList: [],\r\n            term: 0,\r\n            iconSize: '20px',\r\n            searchCondition: {},\r\n            teacher: {},\r\n            class: {},\r\n            loading: true,\r\n            modalData: {\r\n\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showList: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                term: 1,\r\n                teacherId: teacher.data.result.teacherId\r\n            }\r\n            this.setState({\r\n                teacher: teacher.data.result,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        searchCondition = searchCondition || this.state.searchCondition\r\n        //console.log(this.state)\r\n        this.setState({ loading: true })\r\n        try {\r\n            let _class = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            if (_class.data.result.data.length === 0) {\r\n                store.addNotification({\r\n                    title: \"Cảnh báo\",\r\n                    message: \"Bạn không được phân công làm GVCN năm này\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, showList: false })\r\n                return\r\n            }\r\n\r\n            searchCondition[\"classId\"] = _class.data.result.data[0].classId\r\n\r\n            let [res, studentList] = await Promise.all([\r\n                Api.getClassConduct(searchCondition || this.state.searchCondition),\r\n                Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            ])\r\n            console.log(res, studentList)\r\n            let conducts = res.data.result\r\n            let conductList = studentList.data.result.data\r\n            for (let i = 0; i < conductList.length; i++) {\r\n                let conduct = conducts.find(e => e.studentId === conductList[i].studentId)\r\n                if (conduct) {\r\n                    conductList[i] = {\r\n                        ...conductList[i],\r\n                        conduct: conduct.conduct,\r\n                        note: conduct.note,\r\n                        teacherId: conduct.teacherId,\r\n                        term: searchCondition.term,\r\n                    }\r\n                } else {\r\n                    conductList[i] = {\r\n                        ...conductList[i],\r\n                        conduct: 5,\r\n                        note: \"\",\r\n                        teacherId: this.state.teacher.teacherId,\r\n                        term: this.state.searchCondition.term,\r\n                    }\r\n                }\r\n            }\r\n            console.log(conductList)\r\n\r\n            this.setState({\r\n                class: _class.data.result.data[0],\r\n                loading: false,\r\n                conductList: conductList,\r\n                showList: true,\r\n                searchCondition: this.state.searchCondition\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n        this.refresh(searchCondition)\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    conductName = [\"Tốt\", \"Khá\", \"Trung bình\", \"Yếu\", \"Kém\"]\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.conductList.map((data, index) => {\r\n            const { studentCode, studentName, dateOfBirth, address, gender, conduct, note } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender ? \"Name\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                    <td>{this.conductName[conduct]}</td>\r\n                    <td>{note}</td>\r\n                    <td>\r\n                        <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => this.editConduct(index)}>\r\n                            <FiEdit size={this.state.iconSize} />\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    editConduct = (index) => {\r\n        let conduct = this.state.conductList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"edit\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...conduct\r\n            }\r\n        })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Cập nhật đánh giá hạnh kiểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\">\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-3\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {this.state.showList &&\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 text-center conduct-title\">\r\n                            <div>\r\n                                <b>Phiếu đánh giá hạnh kiểm</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.state.showList &&\r\n                    <div className=\"row mt-3\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                            <span className=\"mr-5\">\r\n                                <b>Năm học: </b>{this.state.class.schoolYear}\r\n                            </span>\r\n                            <span className=\"mr-5\">\r\n                                <b>Học kỳ: </b>{this.state.searchCondition.term}\r\n                            </span>\r\n                            <span className=\"mr-5\">\r\n                                <b>Lớp: </b>{this.state.class.className}\r\n                            </span>\r\n                            <span className=\"mr-5\">\r\n                                <b>Sĩ số: </b> {this.state.conductList.length}\r\n                            </span>\r\n                            <span className=\"mr-5\">\r\n                                <b>Giáo viên chủ nhiệm: </b>{this.state.teacher.teacherName}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.state.showList &&\r\n                    <div className=\"row mt-4\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>MSHS</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Ngày sinh</th>\r\n                                        <th>Giới tính</th>\r\n                                        <th>Nơi sinh</th>\r\n                                        <th>Hạnh kiểm</th>\r\n                                        <th>Ý kiến giáo viên</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm đánh giá\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Cập nhật đánh giá\"\r\n        }\r\n        return \"Thông tin đánh giá\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addConduct}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editConduct}>Cập nhật</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    editConduct = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.assessConduct(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Cập nhật đánh giá thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Hạnh kiểm</Form.Label>\r\n                                        <SelectSearch\r\n                                            options={[{ name: \"Tốt\", value: 0 }, { name: \"Khá\", value: 1 }, { name: \"Trung bình\", value: 2 }, { name: \"Yếu\", value: 3 }, { name: \"Kém\", value: 4 }]}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            value={this.props.data.conduct}\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"conduct\", value: v } }) }}\r\n                                        />\r\n                                    </Form.Group>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Ý kiến giáo viên</Form.Label>\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            placeholder=\"Nhập ý kiên giáo viên\"\r\n                                            name=\"note\"\r\n                                            value={this.props.data.note}\r\n                                            onChange={this.changeHandler}\r\n                                            readOnly={this.props.kind === \"info\"}\r\n                                        />\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nConductAssessment.contextType = AppContext\r\n\r\nexport default withRouter(ConductAssessment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/StudentAttendance.css';\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport AppContext from '../../context/AppContext'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { Modal, Button } from 'react-bootstrap'\r\n\r\nclass StudentAttendance extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            studentList: [],\r\n            searchCondition: {\r\n                beginDate: new Date(),\r\n                endDate: new Date()\r\n            },\r\n            iconSize: '15px',\r\n            edited: false,\r\n            showReport: false,\r\n            showLoading: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.unblock = this.props.history.block(tx => {\r\n            if (!this.state.edited) {\r\n                this.unblock()\r\n                return true\r\n            } else {\r\n                this.setState({\r\n                    showConfirm: true,\r\n                })\r\n                return false\r\n            }\r\n        });\r\n        this.setState({ loading: true })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ])\r\n            let now = new Date()\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId,\r\n                beginDate: (new Date()).setDate(now.getDate() - 3),\r\n                endDate: (new Date()).setDate(now.getDate() + 3)\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n            }\r\n            this.setState({\r\n                classList: homeroomClass.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                homeroomTeacher: teacher.data.result,\r\n                searchCondition: searchCondition,\r\n                class: homeroomClass.data.result.data.length ? homeroomClass.data.result.data[0] : {},\r\n                loading: false\r\n            })\r\n            await this.refresh(searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.unblock) {\r\n            this.unblock()\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, studentList: [] })\r\n                return\r\n            }\r\n            let [res, studentList] = await Promise.all([\r\n                Api.getClassAttendance(searchCondition || this.state.searchCondition),\r\n                Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            ])\r\n            studentList = this.processData(studentList.data.result.data, res.data.result)\r\n            console.log(res, studentList)\r\n            this.setState({\r\n                loading: false,\r\n                studentList: studentList,\r\n                showReport: true,\r\n                attendanceList: res.data.result\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getDateString = (date) => {\r\n        let d = new Date(date)\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return yyyy + \"-\" + mm + \"-\" + dd\r\n    }\r\n\r\n    processData = (studentList, attendanceList) => {\r\n        let attendances = {}\r\n        for (let i = 0; i < attendanceList.length; i++) {\r\n            let attendance = attendanceList[i];\r\n            if (!attendances[attendance.studentId]) {\r\n                attendances[attendance.studentId] = {}\r\n            }\r\n            attendances[attendance.studentId][this.getDateString(attendance.date)] = attendance\r\n        }\r\n        for (let i = 0; i < studentList.length; i++) {\r\n            let attendance = attendances[studentList[i].studentId] || {}\r\n            studentList[i] = {\r\n                attendance,\r\n                ...studentList[i]\r\n            }\r\n        }\r\n        return studentList\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"beginDate\") {\r\n            searchCondition.endDate = (new Date(value)).setDate(value.getDate() + 6)\r\n        }\r\n        if (name === \"endDate\") {\r\n            searchCondition.beginDate = (new Date(value)).setDate(value.getDate() - 6)\r\n        }\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                } else {\r\n                    store.addNotification({\r\n                        title: \"Thông báo\",\r\n                        message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                        type: \"info\",\r\n                        container: \"top-center\",\r\n                        dismiss: {\r\n                            duration: 5000,\r\n                            showIcon: true,\r\n                        },\r\n                        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                    })\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    class: classList.data.result.data.length ? classList.data.result.data[0] : {},\r\n                    classList: classList.data.result.data,\r\n                    searchCondition: searchCondition,\r\n                })\r\n                return\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n        this.setState({ searchCondition: searchCondition, showReport: false })\r\n    }\r\n\r\n    renderTableHeader = () => {\r\n        let tdList = [];\r\n        tdList.push(<td key=\"stt\">STT</td>)\r\n        tdList.push(<td key=\"code\">Mã HS</td>)\r\n        tdList.push(<td key=\"name\">Họ tên</td>)\r\n        let i = new Date(this.state.searchCondition.beginDate)\r\n        while (i <= this.state.searchCondition.endDate) {\r\n            tdList.push(\r\n                <td key={i.toString()}>{i.getDate() + \"/\" + (i.getMonth() + 1)}</td>\r\n            )\r\n            i.setDate(i.getDate() + 1);\r\n        }\r\n        return (\r\n            <tr>\r\n                {tdList}\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    renderTableData = () => {\r\n        let studentList = this.state.studentList;\r\n        let trList = [];\r\n        for (let i = 0; i < studentList.length; i++) {\r\n            let tdList = [];\r\n            let student = studentList[i];\r\n            tdList.push(<td key={\"stt\" + i}>{i + 1}</td>)\r\n            tdList.push(<td key={\"code\" + i}>{student.studentCode}</td>)\r\n            tdList.push(<td key={\"name\" + i}>{student.studentName}</td>)\r\n            let date = new Date(this.state.searchCondition.beginDate)\r\n            let attendance = student.attendance\r\n            let schoolYear = this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId)\r\n            while (date <= this.state.searchCondition.endDate) {\r\n                let key = this.getDateString(date)\r\n                if (!attendance[key]) {\r\n                    attendance[key] = {\r\n                        schoolYearId: this.state.searchCondition.schoolYearId,\r\n                        teacherId: this.state.searchCondition.teacherId,\r\n                        date: key,\r\n                        attendance: 2,\r\n                        term: date <= schoolYear.endSemester1 ? 1 : 2\r\n                    }\r\n                }\r\n                tdList.push(\r\n                    <td key={date.toString() + i}>\r\n                        <select\r\n                            className=\"attendance-cell\"\r\n                            onChange={e => this.changeAttendance(attendance[key], e.target.value)}\r\n                            value={attendance[key].attendance}\r\n                        >\r\n                            <option value=\"2\"></option>\r\n                            <option value=\"0\">KP</option>\r\n                            <option value=\"1\">P</option>\r\n                        </select>\r\n                    </td>\r\n                )\r\n                date.setDate(date.getDate() + 1);\r\n            }\r\n            trList.push(\r\n                <tr key={i}>\r\n                    {tdList}\r\n                </tr>\r\n            )\r\n        }\r\n        return trList;\r\n    }\r\n\r\n    changeAttendance = (attendance, value) => {\r\n        attendance.attendance = parseInt(value);\r\n        attendance.edited = true;\r\n        this.setState({ edited: true });\r\n    }\r\n\r\n    submit = async () => {\r\n        this.setState({ showLoading: true })\r\n        let list = [];\r\n        let studentList = this.state.studentList;\r\n        for (let i = 0; i < studentList.length; i++) {\r\n            let element = {\r\n                studentId: studentList[i].studentId,\r\n                classId: this.state.searchCondition.classId,\r\n                attendances: []\r\n            }\r\n            let attendance = studentList[i].attendance\r\n            for (let date in attendance) {\r\n                if (attendance[date].edited) {\r\n                    if (!attendance[date].attendanceId) {\r\n                        if (attendance[date].attendance !== 2) {\r\n                            element.attendances.push({\r\n                                ...attendance[date],\r\n                                method: \"add\"\r\n                            })\r\n                        } else {\r\n                            continue\r\n                        }\r\n                    } else {\r\n                        if (attendance[date].attendance !== 2) {\r\n                            element.attendances.push({\r\n                                ...attendance[date],\r\n                                method: \"edit\"\r\n                            })\r\n                        } else {\r\n                            element.attendances.push({\r\n                                ...attendance[date],\r\n                                method: \"delete\",\r\n                                attendance: 1,\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            list.push(element)\r\n        }\r\n        try {\r\n            if (this.state.edited) {\r\n                await Api.updateAttendance({ students: list })\r\n            }\r\n\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: \"Cập nhật điểm danh thành công\",\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({ showLoading: false, edited: false })\r\n            await this.refresh()\r\n        } catch (err) {\r\n            this.setState({ showLoading: false })\r\n            console.log(err)\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({ showConfirm: false })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        // console.log(this.state.studentList)\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.showLoading} />\r\n                <Confirm\r\n                    show={this.state.showConfirm}\r\n                    close={this.closeConfirm}\r\n                    unblock={this.unblock}\r\n                    goBack={this.back}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Điểm danh\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                    disabled={true}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Từ ngày:</label>\r\n                            <div style={{ width: \"120px\" }} className=\"ml-1\">\r\n                                <DatePicker\r\n                                    selected={this.state.searchCondition.beginDate}\r\n                                    onChange={v => this.changeSearchCondition(\"beginDate\", v)}\r\n                                    dateFormat=\"dd/MM/yyyy\"\r\n                                    className=\"form-control w-100 text-center\"\r\n                                    readOnly={this.props.kind === \"info\"}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Đến ngày:</label>\r\n                            <div style={{ width: \"120px\" }} className=\"ml-1\">\r\n                                <DatePicker\r\n                                    selected={this.state.searchCondition.endDate}\r\n                                    onChange={v => this.changeSearchCondition(\"endDate\", v)}\r\n                                    dateFormat=\"dd/MM/yyyy\"\r\n                                    className=\"form-control w-100 text-center\"\r\n                                    readOnly={this.props.kind === \"info\"}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-auto\" onClick={e => { e.preventDefault(); this.refresh() }}>Lấy danh sách</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div className=\"row mt-3\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    {this.renderTableHeader()}\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.submit()}>\r\n                                Lưu\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Confirm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận thoát</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn thoát, các thay đổi sẽ không được lưu ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.unblock(); this.props.goBack() }}>Thoát</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nStudentAttendance.contextType = AppContext\r\n\r\nexport default withRouter(StudentAttendance);\r\n","import React from \"react\";\r\nimport {\r\n    BsChevronRight,\r\n    BsChevronLeft,\r\n    BsChevronDoubleRight,\r\n    BsChevronDoubleLeft,\r\n} from \"react-icons/bs\"\r\nimport '../../css/pagination.css'\r\nclass Pagination extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    beginPage = () => {\r\n        if (this.props.pagination.currentPage !== 1) {\r\n            return (\r\n                <li className=\"page-item\" onClick={() => this.props.changePage(1)}>\r\n                    <div className=\"page-link\">\r\n                        <BsChevronDoubleLeft />\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return (\r\n            <li className=\"page-item disabled\">\r\n                <div className=\"page-link\">\r\n                    <BsChevronDoubleLeft />\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n    prePage = () => {\r\n        if (this.props.pagination.currentPage !== 1) {\r\n            return (\r\n                <li className=\"page-item\" onClick={() => this.props.changePage(this.props.pagination.currentPage - 1)} >\r\n                    <div className=\"page-link \">\r\n                        <BsChevronLeft />\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return (\r\n            <li className=\"page-item disabled\">\r\n                <div className=\"page-link \">\r\n                    <BsChevronLeft />\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n    nextPage = () => {\r\n        if (this.props.pagination.currentPage !== this.props.pagination.lastPage) {\r\n            return (\r\n                <li className=\"page-item\" onClick={() => this.props.changePage(this.props.pagination.currentPage + 1)} >\r\n                    <div className=\"page-link\">\r\n                        <BsChevronRight />\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return (\r\n            <li className=\"page-item disabled\">\r\n                <div className=\"page-link \">\r\n                    <BsChevronRight />\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n    lastPage = () => {\r\n        if (this.props.pagination.currentPage !== this.props.pagination.lastPage) {\r\n            return (\r\n                <li className=\"page-item\" onClick={() => this.props.changePage(this.props.pagination.lastPage)}>\r\n                    <div className=\"page-link\">\r\n                        <BsChevronDoubleRight />\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return (\r\n            <li className=\"page-item disabled\">\r\n                <div className=\"page-link\">\r\n                    <BsChevronDoubleRight />\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n    pageList = () => {\r\n        let start = this.props.pagination.currentPage > 5 ? this.props.pagination.currentPage - 5 : 1\r\n        let end = this.props.pagination.currentPage < this.props.pagination.lastPage - 5 ? this.props.pagination.currentPage + 5 : this.props.pagination.lastPage\r\n        let list = []\r\n        for (let i = start; i <= end; i++) {\r\n            if (i === this.props.pagination.currentPage) {\r\n                list.push(\r\n                    <li className=\"page-item disabled\" key={i}>\r\n                        <div className=\"page-link page-element\">{i}</div>\r\n                    </li>\r\n                )\r\n                continue\r\n            }\r\n            list.push(\r\n                <li className=\"page-item\" key={i} onClick={() => this.props.changePage(i)}>\r\n                    <div className=\"page-link page-element\">{i}</div>\r\n                </li>\r\n            )\r\n        }\r\n        return list\r\n    }\r\n\r\n    render() {\r\n        if (this.props.pagination.lastPage === 0) {\r\n            this.props.pagination.lastPage = 1\r\n        }\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <nav aria-label=\"Pagination\">\r\n                    <ul className=\"pagination\">\r\n                        {this.beginPage()}\r\n                        {this.prePage()}\r\n                        {this.pageList()}\r\n                        {this.nextPage()}\r\n                        {this.lastPage()}\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Pagination","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/ScoreLock.css';\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { store } from 'react-notifications-component';\r\nimport { BiRefresh } from 'react-icons/bi';\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\nclass ScoreLock extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            scoreLockList: [],\r\n            schoolYearList: [],\r\n            loading: true,\r\n            showConfirm: false,\r\n            modalData: {},\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let [schoolYearList, scoreLockList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getScoreLockList(1, 1000000)\r\n            ])\r\n            schoolYearList = schoolYearList.data.result.data\r\n            scoreLockList = scoreLockList.data.result.data\r\n            //console.log(schoolYearList, scoreLockList)\r\n            let listAdd = []\r\n            for (let i = 0; i < schoolYearList.length; i++) {\r\n                if (scoreLockList.findIndex(e => e.schoolYearId === schoolYearList[i].schoolYearId) === -1) {\r\n                    listAdd.push(\r\n                        Api.addScoreLock({\r\n                            schoolYearId: schoolYearList[i].schoolYearId,\r\n                            term: 1,\r\n                            lock: 1,\r\n                        }),\r\n                        Api.addScoreLock({\r\n                            schoolYearId: schoolYearList[i].schoolYearId,\r\n                            term: 2,\r\n                            lock: 1,\r\n                        }),\r\n                    );\r\n                }\r\n            }\r\n            this.setState({ schoolYearList: schoolYearList })\r\n            await Promise.all(listAdd)\r\n            await this.refresh(1, this.state.perpage)\r\n            this.setState({ loading: false })\r\n        } catch (err) {\r\n            this.setState({ loading: false })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.getScoreLockList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n            console.log(res)\r\n            this.setState({ loading: false, scoreLockList: res.data.result.data, pagination: res.data.result.pagination })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    renderTableData = () => {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        let schoolYearList = this.state.schoolYearList\r\n        return this.state.scoreLockList.map((data, index) => {\r\n            const { schoolYearId, term, lock } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td className=\"text-center\">{sttBase + index}</td>\r\n                    <td className=\"text-center\">{schoolYearList.find(e => e.schoolYearId === schoolYearId).schoolYear}</td>\r\n                    <td className=\"text-center\">{term}</td>\r\n                    <td className=\"text-center\">{lock ? \"Khóa\" : \"Mở\"}</td>\r\n                    <td className=\"text-center\">\r\n                        <button type=\"button\" className=\"change-state-btn\" onClick={() => lock ? this.unlock(index) : this.lock(index)} >{lock ? \"Mở\" : \"Khóa\"}</button>\r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    lock = (index) => {\r\n        let scoreLock = this.state.scoreLockList[index]\r\n        this.setState({\r\n            showConfirm: true,\r\n            modalData: {\r\n                method: \"lock\",\r\n                schoolYear: this.state.schoolYearList.find(e => e.schoolYearId === scoreLock.schoolYearId).schoolYear,\r\n                ...scoreLock,\r\n            }\r\n        })\r\n    }\r\n\r\n    unlock = (index) => {\r\n        let scoreLock = this.state.scoreLockList[index]\r\n        this.setState({\r\n            showConfirm: true,\r\n            modalData: {\r\n                method: \"unlock\",\r\n                schoolYear: this.state.schoolYearList.find(e => e.schoolYearId === scoreLock.schoolYearId).schoolYear,\r\n                ...scoreLock,\r\n            }\r\n        })\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({ showConfirm: false })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Confirm\r\n                    show={this.state.showConfirm}\r\n                    close={this.closeConfirm}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Khóa mở nhập điểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refresh() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                            {/* <div className=\"d-flex ml-auto\">\r\n                                <div className=\"input-group\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" />\r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-primary\" type=\"button\"><BsSearch /></button>\r\n                                    </div>\r\n                                </div>\r\n                            </div> */}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                        <div style={{ minHeight: \"430px\" }}>\r\n                            <table className=\"table table-bordered\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>Kì học</th>\r\n                                        <th>Trạng thái</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Confirm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    submit = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            this.props.data.method === \"lock\" ? await Api.lockScoreLock(this.props.data) : await Api.unlockScoreLock(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: this.props.data.method === \"lock\" ? \"Khóa thành công\" : \"Mở thành công\",\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn \"} {this.props.data.method === \"lock\" ? \"khóa nhập điểm\" : \"mở nhập điểm\"} {\" kì học \"} <b> {this.props.data.term} </b> {\" năm học \"} <b> {this.props.data.schoolYear} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.submit}>{this.props.data.method === \"lock\" ? \"Khóa\" : \"Mở\"}</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ScoreLock);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { FiEdit } from 'react-icons/fi';\r\nimport { BiSearch, BiRefresh } from 'react-icons/bi';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/TeachingAssignment.css';\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Loading from '../Loading/Loading'\r\n\r\n\r\nclass HomeroomTeacherAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            teacherList: [],\r\n            homeroomTeacherAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n            },\r\n            perpage: 1000000,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                homeroomTeacherAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchHomeroomTeacherAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            let data = res.data.result.data;\r\n            if (!(this.state.searchCondition.classId || this.state.searchCondition.teacherId)) {\r\n                let mark = {}\r\n                for (let i = 0; i < data.length; i++) {\r\n                    mark[data[i].classId] = 1\r\n                }\r\n                let classList = this.state.classList\r\n                let schoolYear = this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId)\r\n                for (let i = 0; i < classList.length; i++) {\r\n                    if (!mark[classList[i].classId]) {\r\n                        data.push({\r\n                            ...classList[i],\r\n                            ...schoolYear\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            this.setState({\r\n                loading: false,\r\n                homeroomTeacherAssignmentList: data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.homeroomTeacherAssignmentList.map((year, index) => {\r\n            const { teacherCode, teacherName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{className}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName ? teacherName : \"Chưa phân công\"}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td className=\"text-center\">\r\n                        <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => this.editHomeroomTeacherAssignment(index)}>\r\n                            <FiEdit size={this.state.iconSize} />\r\n                        </button></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    editHomeroomTeacherAssignment = (index) => {\r\n        let homeroomTeacherAssignment = this.state.homeroomTeacherAssignmentList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"edit\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...homeroomTeacherAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý phân công giáo viên chủ nhiệm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Năm học</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công giáo viên chủ nhiệm\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Cập nhật phân công giáo viên chủ nhiệm\"\r\n        }\r\n        return \"Thông tin phân công giáo viên chủ nhiệm\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addHomeroomTeacherAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editHomeroomTeacherAssignment}>Cập nhật</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    editHomeroomTeacherAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            if (this.props.data.teacherId) {\r\n                if (this.props.data.homeroomTeacherAssignmentId) {\r\n                    await Api.editHomeroomTeacherAssignment(this.props.data)\r\n                } else {\r\n                    await Api.addHomeroomTeacherAssignment(this.props.data)\r\n                }\r\n            } else {\r\n                if (this.props.data.homeroomTeacherAssignmentId) {\r\n                    await Api.deleteHomeroomTeacherAssignment(this.props.data.homeroomTeacherAssignmentId)\r\n                }\r\n            }\r\n\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Cập nhật giáo viên chủ nhiệm thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Cập nhật thất bại\",\r\n                    message: \"Giáo viên này đã được phân công làm chủ nhiệm một lớp khác\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                            disabled={true}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-11\">\r\n                                            <SelectSearch\r\n                                                options={this.props.getTeacherOption()}\r\n                                                search\r\n                                                filterOptions={fuzzySearch}\r\n                                                emptyMessage=\"Không tìm thấy\"\r\n                                                placeholder=\" \"\r\n                                                onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                                value={this.props.data.teacherId}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col d-flex\">\r\n                                            <BsTrash className=\"align-self-center\" onClick={() => this.changeHandler({ target: { name: \"teacherId\", value: null } })} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                            disabled={true}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(HomeroomTeacherAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh, } from 'react-icons/bi';\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\nimport { IoIosAdd } from 'react-icons/io';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/TeachingAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nclass TeachingAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            teacherList: [],\r\n            subjectList: [],\r\n            teachingAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n\r\n            },\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList, subjectList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n                Api.getSubjectList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                subjectList: subjectList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchTeachingAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                teachingAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSubjectOption = () => {\r\n        let list = this.state.subjectList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { subjectId, subjectName } = list[i];\r\n            options.push({\r\n                name: subjectName,\r\n                value: subjectId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teachingAssignmentList.map((year, index) => {\r\n            const { teacherCode, teacherName, subjectName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{className}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td className=\"text-center\"><BsTrash onClick={() => this.deleteTeachingAssignment(index)} /></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addTeachingAssignment = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: this.state.searchCondition.schoolYearId,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteTeachingAssignment = (index) => {\r\n        let teachingAssignment = this.state.teachingAssignmentList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...teachingAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                    getSubjectOption={this.getSubjectOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý phân công giảng dạy\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            {/* Button trigger modal */}\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={this.addTeachingAssignment}>\r\n                                <IoIosAdd size={this.state.iconSize} color=\"\" />Thêm phân công\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Môn học:</label>\r\n                            <div className=\"ml-1 select-subject\">\r\n                                <SelectSearch\r\n                                    options={this.getSubjectOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.subjectId}\r\n                                    onChange={v => this.changeSearchCondition(\"subjectId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Môn học</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>\r\n                                            <BsTrash />\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteTeachingAssignment(this.props.data.teachingAssignmentId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa phân công giảng dạy thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn xóa phân công của giáo viên \"} <b> {this.props.data.teacherName} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công giảng dạy\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa phân công giảng dạy\"\r\n        }\r\n        return \"Thông tin phân công giảng dạy\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addTeachingAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeachingAssignment}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    addTeachingAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addTeachingAssignment(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm phân công giảng dạy thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Thêm phân công thất bại\",\r\n                    message: \"Phân công này đã tồn tại\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getTeacherOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                            value={this.props.data.teacherId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"\">Môn học</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getSubjectOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"subjectId\", value: v } }) }}\r\n                                            value={this.props.data.subjectId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(TeachingAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh } from 'react-icons/bi';\r\nimport { IoIosAdd } from 'react-icons/io';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/SpecialistAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\n\r\n\r\nclass SpecialistAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            teacherList: [],\r\n            specialistTeamList: [],\r\n            specialistAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n\r\n            },\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList, specialistTeamList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n                Api.getSpecialistTeamList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                specialistTeamList: specialistTeamList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchSpecialistAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                specialistAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSpecialistTeamOption = () => {\r\n        let list = this.state.specialistTeamList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { specialistTeamId, specialistName } = list[i];\r\n            options.push({\r\n                name: specialistName,\r\n                value: specialistTeamId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.specialistAssignmentList.map((data, index) => {\r\n            const { teacherCode, teacherName, specialistName, schoolYear } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName}</td>\r\n                    <td>{specialistName}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td className=\"text-center\"><BsTrash onClick={() => this.deleteSpecialistAssignment(index)} /></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addSpecialistAssignment = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: this.state.searchCondition.schoolYearId,\r\n                specialistTeamId: this.state.searchCondition.specialistTeamId,\r\n                specialistTeamName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteSpecialistAssignment = (index) => {\r\n        let specialistAssignment = this.state.specialistAssignmentList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...specialistAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                    getSpecialistTeamOption={this.getSpecialistTeamOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý phân công tổ chuyên môn\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={this.addSpecialistAssignment}>\r\n                                <IoIosAdd size={this.state.iconSize} color=\"\" />Thêm phân công\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Tổ:</label>\r\n                            <div className=\"ml-1 select-specialist-team\">\r\n                                <SelectSearch\r\n                                    options={this.getSpecialistTeamOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.specialistTeamId}\r\n                                    onChange={v => this.changeSearchCondition(\"specialistTeamId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Tổ</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>\r\n                                            <BsTrash />\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteSpecialistAssignment(this.props.data.specialistAssignmentId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa phân công tổ chuyên môn thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn phân công của giáo viên \"} <b> {this.props.data.teacherName} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công tổ chuyên môn\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa phân công tổ chuyên môn\"\r\n        }\r\n        return \"Thông tin phân công tổ chuyên môn\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addSpecialistAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeachingAssignment}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    addSpecialistAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addSpecialistAssignment(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm phân công tổ chuyên môn thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getTeacherOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                            value={this.props.data.teacherId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"\">Tổ chuyên môn</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getSpecialistTeamOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"specialistTeamId\", value: v } }) }}\r\n                                            value={this.props.data.specialistTeamId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SpecialistAssignment);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nclass SchoolYear extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      schoolYearList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        schoolYearId: 0,\r\n        startFirstSemester: new Date(),\r\n        finishFirstSemester: new Date(),\r\n        startSecondSemester: new Date(),\r\n        finishSecondSemester: new Date(),\r\n        schoolYear: \"\",\r\n        description: \"\",\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res = await Api.getSchoolYearList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      this.setState({ loading: false, schoolYearList: res.data.result.data, pagination: res.data.result.pagination })\r\n      //console.log(res)\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Năm học</th>\r\n        <th>Mô tả</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.schoolYearList.map((year, index) => {\r\n      const { schoolYear, description } = year;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{schoolYear}</span></td>\r\n          <td>{description}</td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteSchoolYear(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editSchoolYear(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addSchoolYear = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        startFirstSemester: new Date(),\r\n        finishFirstSemester: new Date(),\r\n        startSecondSemester: new Date(),\r\n        finishSecondSemester: new Date(),\r\n        schoolYear: \"\",\r\n        description: \"\",\r\n        schoolYearId: 0,\r\n      }\r\n    })\r\n  }\r\n\r\n  editSchoolYear = async (index) => {\r\n    let schoolYear = this.state.schoolYearList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        schoolYearId: schoolYear.schoolYearId,\r\n        startFirstSemester: new Date(schoolYear.beginSemester1),\r\n        finishFirstSemester: new Date(schoolYear.endSemester1),\r\n        startSecondSemester: new Date(schoolYear.beginSemester2),\r\n        finishSecondSemester: new Date(schoolYear.endSemester2),\r\n        schoolYear: schoolYear.schoolYear,\r\n        description: schoolYear.description,\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteSchoolYear = (index) => {\r\n    let schoolYear = this.state.schoolYearList[index]\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        schoolYearId: schoolYear.schoolYearId,\r\n        startFirstSemester: new Date(schoolYear.beginSemester1),\r\n        finishFirstSemester: new Date(schoolYear.endSemester1),\r\n        startSecondSemester: new Date(schoolYear.beginSemester2),\r\n        finishSecondSemester: new Date(schoolYear.endSemester2),\r\n        schoolYear: schoolYear.schoolYear,\r\n        description: schoolYear.description,\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let schoolYear = this.state.schoolYearList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        schoolYearId: schoolYear.schoolYearId,\r\n        startFirstSemester: new Date(schoolYear.beginSemester1),\r\n        finishFirstSemester: new Date(schoolYear.endSemester1),\r\n        startSecondSemester: new Date(schoolYear.beginSemester2),\r\n        finishSecondSemester: new Date(schoolYear.endSemester2),\r\n        schoolYear: schoolYear.schoolYear,\r\n        description: schoolYear.description,\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục năm học\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addSchoolYear}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm năm học\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteSchoolYear(this.props.data.schoolYearId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa năm học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Năm học này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu trong năm học này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa năm học \"}  <b>{this.props.data.schoolYear}</b>  {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm năm học\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa năm học\"\r\n    }\r\n    return \"Thông tin năm học\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addSchoolYear}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editSchoolYear}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    if (this.props.data.schoolYear.length === 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên năm học không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.finishFirstSemester <= this.props.data.startFirstSemester) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra ngày Kết thúc kì 1 phải lớn hơn ngày Bắt đầu kì 1!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.startSecondSemester <= this.props.data.finishFirstSemester) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra ngày Bắt đầu kì 2 phải lớn hơn ngày Kết thúc kì 1!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (this.props.data.finishSecondSemester <= this.props.data.startSecondSemester) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra ngày Kết thúc kì 2 phải lớn hơn ngày Bắt đầu kì 2!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  addSchoolYear = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.addSchoolYear(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm năm học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editSchoolYear = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.editSchoolYear(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa năm học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <Form.Group>\r\n                    <Form.Label>Năm học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập năm học\"\r\n                      name=\"schoolYear\"\r\n                      value={this.props.data.schoolYear}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Thời gian bắt đầu kỳ 1\r\n              </Form.Label>\r\n                    <div className=\"w-100\">\r\n                      <DatePicker\r\n                        selected={this.props.data.startFirstSemester}\r\n                        onChange={value => this.changeHandler({ target: { name: \"startFirstSemester\", value: value } })}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        className=\"form-control w-100\"\r\n                        readOnly={this.props.kind === \"info\"}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Thời gian kết thúc kỳ 1\r\n              </Form.Label>\r\n                    <div className=\"w-100\">\r\n                      <DatePicker\r\n                        selected={this.props.data.finishFirstSemester}\r\n                        onChange={value => this.changeHandler({ target: { name: \"finishFirstSemester\", value: value } })}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        className=\"form-control w-100\"\r\n                        readOnly={this.props.kind === \"info\"}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Thời gian bắt đầu kỳ 2\r\n              </Form.Label>\r\n                    <div className=\"w-100\">\r\n                      <DatePicker\r\n                        selected={this.props.data.startSecondSemester}\r\n                        onChange={value => this.changeHandler({ target: { name: \"startSecondSemester\", value: value } })}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        className=\"form-control w-100\"\r\n                        readOnly={this.props.kind === \"info\"}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Thời gian kết thúc kỳ 2\r\n              </Form.Label>\r\n                    <div className=\"w-100\">\r\n                      <DatePicker\r\n                        selected={this.props.data.finishSecondSemester}\r\n                        onChange={value => this.changeHandler({ target: { name: \"finishSecondSemester\", value: value } })}\r\n                        dateFormat=\"dd/MM/yyyy\"\r\n                        className=\"form-control w-100\"\r\n                        readOnly={this.props.kind === \"info\"}\r\n                      />\r\n                    </div>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      Mô tả\r\n              </Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      placeholder=\"Nhập mô tả\"\r\n                      value={this.props.data.description}\r\n                      name=\"description\"\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(SchoolYear);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh } from 'react-icons/bi';\r\nimport { IoIosAdd } from 'react-icons/io';\r\nimport { FaFileDownload, FaFileUpload } from 'react-icons/fa';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/StudentAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\n\r\nclass StudentAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            studentList: [],\r\n            studentAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n\r\n            },\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                studentCode: \"\",\r\n                studentId: null,\r\n                studentName: \"\",\r\n                studentAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, studentList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getStudentList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                classId: classList.data.result.data[0].classId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                studentList: studentList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchStudentAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                studentAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId,\r\n            classId: this.state.searchCondition.classId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    getStudentOption = () => {\r\n        let list = this.state.studentList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { studentId, studentName, studentCode } = list[i];\r\n            options.push({\r\n                name: studentName + \" - \" + studentCode,\r\n                value: studentId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.studentAssignmentList.map((data, index) => {\r\n            const { studentCode, studentName, dateOfBirth, gender, address } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                    <td className=\"text-center\"><BsTrash onClick={() => this.deleteStudentAssignment(index)} /></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addStudentAssignment = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                classId: this.state.searchCondition.classId,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: this.state.searchCondition.schoolYearId,\r\n                studentCode: \"\",\r\n                studentId: null,\r\n                studentName: \"\",\r\n                studentAssignmentId: 0,\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteStudentAssignment = (index) => {\r\n        let studentAssignment = this.state.studentAssignmentList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...studentAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getStudentOption={this.getStudentOption}\r\n                    getClassOption={this.getClassOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý danh sách học sinh trong lớp\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={this.addStudentAssignment}>\r\n                                <IoIosAdd size={this.state.iconSize} />Thêm học sinh vào lớp\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học sinh:</label>\r\n                            <div className=\"ml-1 select-student\">\r\n                                <SelectSearch\r\n                                    options={this.getStudentOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.studentId}\r\n                                    onChange={v => this.changeSearchCondition(\"studentId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số học sinh</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Ngày sinh</th>\r\n                                        <th>Giới tính</th>\r\n                                        <th>Địa chỉ</th>\r\n                                        <th>\r\n                                            <BsTrash />\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteStudentAssignment(this.props.data.studentAssignmentId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa phân học sinh khỏi lớp thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn xóa học sinh \"} <b> {this.props.data.studentName} </b> {\" khỏi lớp ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm học sinh vào lớp\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa phân công học sinh\"\r\n        }\r\n        return \"Thông tin phân công học sinh\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addStudentAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeachingAssignment}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    addStudentAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addStudentAssignment(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm phân học sinh vào lớp thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Thêm thất bại\",\r\n                    message: \"Học sinh này đã được phân vào một lớp trong năm học này\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Học sinh</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getStudentOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"studentId\", value: v } }) }}\r\n                                            value={this.props.data.studentId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(StudentAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Loading from '../Loading/Loading'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\n\r\n\r\nclass TransferClass extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            newSchoolYearId: 0,\r\n            classList: [],\r\n            newClassId: 0,\r\n            studentList: [],\r\n            checkboxList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {}\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                classId: classList.data.result.data[0].classId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                newSchoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                newClassId: classList.data.result.data[0].classId,\r\n                loading: false,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            let studentList = res.data.result.data;\r\n            this.state.checkboxList.length = studentList.length\r\n            this.state.checkboxList.fill(false)\r\n            this.setState({\r\n                loading: false,\r\n                studentList: studentList,\r\n                checkboxList: this.state.checkboxList\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    check = (index) => {\r\n        let checkboxList = this.state.checkboxList\r\n        checkboxList[index] = true\r\n        this.setState({\r\n            checkboxList: checkboxList\r\n        })\r\n    }\r\n\r\n    uncheck = (index) => {\r\n        let checkboxList = this.state.checkboxList\r\n        checkboxList[index] = false\r\n        this.setState({\r\n            checkboxList: checkboxList\r\n        })\r\n    }\r\n\r\n    checkAll = () => {\r\n        let checkboxList = this.state.checkboxList\r\n        checkboxList.fill(true)\r\n        this.setState({\r\n            checkboxList: checkboxList\r\n        })\r\n    }\r\n\r\n    uncheckAll = () => {\r\n        let checkboxList = this.state.checkboxList\r\n        checkboxList.fill(false)\r\n        this.setState({\r\n            checkboxList: checkboxList\r\n        })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.studentList.map((data, index) => {\r\n            const { studentCode, studentName, dateOfBirth, gender, address } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <th>\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            className=\"checkbox-assignment\"\r\n                            checked={this.state.checkboxList[index]}\r\n                            onClick={() => this.state.checkboxList[index] ? this.uncheck(index) : this.check(index)}\r\n                        />\r\n                    </th>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    tranferClass = async () => {\r\n        this.setState({ loadingModal: true })\r\n        try {\r\n            let studentList = this.state.studentList\r\n            let checkboxList = this.state.checkboxList\r\n            let list = []\r\n            for (let i = 0; i < studentList.length; i++) {\r\n                if (checkboxList[i]) {\r\n                    list.push({\r\n                        studentId: studentList[i].studentId,\r\n                        classId: this.state.newClassId,\r\n                        schoolYearId: this.state.newSchoolYearId\r\n                    })\r\n                }\r\n            }\r\n            if (list.length === 0) {\r\n                this.setState({ loadingModal: false })\r\n                return\r\n            }\r\n            await Api.tranferClass(list)\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Kết chuyển lớp thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n\r\n            this.setState({\r\n                loadingModal: false\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loadingModal: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Kết chuyển thất bại\",\r\n                    message: \"Có học sinh trong danh sách chọn đã được phân vào một lớp trong kỳ kết chuyên lên\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Loading show={this.state.loadingModal} />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Kết chuyển lớp\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label>Chọn lớp kết chuyển:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\" >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={() => { this.refresh() }}>\r\n                                OK\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {this.state.studentList.length !== 0 &&\r\n                    <div className=\"row mt-4\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                className=\"checkbox-assignment\"\r\n                                                checked={this.state.checkboxList.indexOf(false) === -1}\r\n                                                onClick={() => this.state.checkboxList.indexOf(false) === -1 ? this.uncheckAll() : this.checkAll()}\r\n                                            />\r\n                                        </th>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số học sinh</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Ngày sinh</th>\r\n                                        <th>Giới tính</th>\r\n                                        <th>Địa chỉ</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.state.studentList.length !== 0 &&\r\n                    <div className=\"row mt-3\">\r\n                        <div className=\"col-12\">\r\n                            <form className=\"form-inline\">\r\n                                <label>Chọn lớp kết chuyển lên:</label>\r\n                                <div className=\"ml-1 select-class\">\r\n                                    <SelectSearch\r\n                                        options={this.getClassOption()}\r\n                                        search\r\n                                        filterOptions={fuzzySearch}\r\n                                        emptyMessage=\"Không tìm thấy\"\r\n                                        placeholder=\" \"\r\n                                        value={this.state.newClassId}\r\n                                        onChange={v => this.setState({ newClassId: v })}\r\n                                    />\r\n                                </div>\r\n                                <label className=\"ml-2\" >Năm học:</label>\r\n                                <div className=\"ml-1 select-school-year\">\r\n                                    <SelectSearch\r\n                                        options={this.getSchoolYearOption()}\r\n                                        search\r\n                                        filterOptions={fuzzySearch}\r\n                                        emptyMessage=\"Không tìm thấy\"\r\n                                        placeholder=\" \"\r\n                                        value={this.state.newSchoolYearId}\r\n                                        onChange={v => this.setState({ newSchoolYearId: v })}\r\n                                    />\r\n                                </div>\r\n                                <button type=\"button\" className=\"btn btn-primary btn-sm ml-3\" onClick={() => { this.tranferClass() }}>\r\n                                    Kết chuyển lên\r\n                            </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(TransferClass);\r\n","import React from 'react'\r\nexport default class Page404 extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"content-container container-fluid\">\r\n                <div className=\"d-flex justify-content-center h-100\">\r\n                    <h1 className=\"align-self-center\">404 Không tìm thấy trang này</h1>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nclass Class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      classList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        classId: 0,\r\n        className: \"\",\r\n        classCode: \"\",\r\n        description: \"\",\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\"\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchClassByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getClassList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, classList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Mã lớp</th>\r\n        <th>Tên lớp</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.classList.map((year, index) => {\r\n      const { classCode, className } = year;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td>{classCode}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{className}</span></td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteClass(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editClass(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addClass = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        classId: 0,\r\n        className: \"\",\r\n        classCode: \"\",\r\n        description: \"\",\r\n      }\r\n    })\r\n  }\r\n\r\n  editClass = async (index) => {\r\n    let _class = this.state.classList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ..._class\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteClass = (index) => {\r\n    let _class = this.state.classList[index]\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ..._class\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let _class = this.state.classList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ..._class\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục lớp học\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addClass}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm lớp học\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteClass(this.props.data.classId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa lớp học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Lớp học này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu liên quan đến lớp học này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa lớp học \"} <b> {this.props.data.className} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm lớp học\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa lớp học\"\r\n    }\r\n    return \"Thông tin lớp học\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addClass}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editClass}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    function removeAscent(str) {\r\n      if (str === null || str === undefined) return str;\r\n      str = str.toLowerCase();\r\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n      str = str.replace(/đ/g, \"d\");\r\n      return str;\r\n    }\r\n    const isName = /^[a-zA-Z0-9 ]{2,}$/\r\n    const isCode = /^[a-zA-Z0-9]+$/\r\n    if (!isName.test(removeAscent(this.props.data.className))) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên lớp không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isCode.test(this.props.data.classCode)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã lớp chỉ chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  addClass = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.addClass(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm lớp học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editClass = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.editClass(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa lớp học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <Form.Group>\r\n                    <Form.Label>Tên lớp học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập tên lớp học\"\r\n                      name=\"className\"\r\n                      value={this.props.data.className}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mã lớp học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập mã lớp học\"\r\n                      name=\"classCode\"\r\n                      value={this.props.data.classCode}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      placeholder=\"Nhập mô tả\"\r\n                      value={this.props.data.description}\r\n                      name=\"description\"\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Class);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nclass Subject extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      subjectList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        subjectId: 0,\r\n        subjectName: \"\",\r\n        subjectCode: \"\",\r\n        description: \"\",\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\"\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchSubjectByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getSubjectList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, subjectList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Mã môn học</th>\r\n        <th>Tên môn học</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.subjectList.map((data, index) => {\r\n      const { subjectCode, subjectName } = data;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td>{subjectCode}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{subjectName}</span></td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteSubject(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editSubject(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addSubject = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        subjectId: 0,\r\n        subjectName: \"\",\r\n        subjectCode: \"\",\r\n        description: \"\",\r\n      }\r\n    })\r\n  }\r\n\r\n  editSubject = async (index) => {\r\n    let subject = this.state.subjectList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...subject\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteSubject = (index) => {\r\n    let subject = this.state.subjectList[index]\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ...subject\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let subject = this.state.subjectList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...subject\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục môn học\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addSubject}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm môn học\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteSubject(this.props.data.subjectId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa môn học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Môn học này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu liên quan đến môn học này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa môn học \"} <b> {this.props.data.subjectName} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm môn học\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa môn học\"\r\n    }\r\n    return \"Thông tin môn học\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addSubject}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editSubject}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    function removeAscent(str) {\r\n      if (str === null || str === undefined) return str;\r\n      str = str.toLowerCase();\r\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n      str = str.replace(/đ/g, \"d\");\r\n      return str;\r\n    }\r\n    const isName = /^[a-zA-Z0-9 ]{2,}$/\r\n    const isCode = /^[a-zA-Z0-9]+$/\r\n    if (!isName.test(removeAscent(this.props.data.subjectName))) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên môn học không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isCode.test(this.props.data.subjectCode)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã môn chỉ chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  addSubject = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.addSubject(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm môn học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editSubject = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.editSubject(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa môn học thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <Form.Group>\r\n                    <Form.Label>Tên môn học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập tên môn học\"\r\n                      name=\"subjectName\"\r\n                      value={this.props.data.subjectName}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mã môn học</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập mã môn học\"\r\n                      name=\"subjectCode\"\r\n                      value={this.props.data.subjectCode}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      placeholder=\"Nhập mô tả\"\r\n                      value={this.props.data.description}\r\n                      name=\"description\"\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Subject);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nclass SpecialistTeam extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      specialistTeamList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        specialistTeamId: 0,\r\n        specialistName: \"\",\r\n        description: \"\",\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\"\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchSpecialistTeamByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getSpecialistTeamList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, specialistTeamList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Tên tổ chuyên môn</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.specialistTeamList.map((specialistTeam, index) => {\r\n      const { specialistName } = specialistTeam;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{specialistName}</span></td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteSpecialistTeam(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editSpecialistTeam(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addSpecialistTeam = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        specialistTeamId: 0,\r\n        specialistName: \"\",\r\n        description: \"\",\r\n      }\r\n    })\r\n  }\r\n\r\n  editSpecialistTeam = async (index) => {\r\n    let specialistTeam = this.state.specialistTeamList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...specialistTeam\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteSpecialistTeam = (index) => {\r\n    let specialistTeam = this.state.specialistTeamList[index]\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ...specialistTeam\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let specialistTeam = this.state.specialistTeamList[index]\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...specialistTeam\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục tổ chuyên môn\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addSpecialistTeam}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm tổ chuyên môn\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteSpecialistTeam(this.props.data.specialistTeamId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa tổ chuyên môn thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Tổ chuyên môn này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu phân công của tổ chuyên môn này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa tổ chuyên môn \"} <b> {this.props.data.specialistName} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm tổ chuyên môn\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa tổ chuyên môn\"\r\n    }\r\n    return \"Thông tin tổ chuyên môn\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addSpecialistTeam}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editSpecialistTeam}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    if (this.props.data.specialistName.length === 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Tên tổ chuyên môn không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  addSpecialistTeam = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.addSpecialistTeam(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm tổ chuyên môn thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editSpecialistTeam = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.editSpecialistTeam(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa tổ chuyên môn thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <Form.Group>\r\n                    <Form.Label>Tên tổ chuyên môn</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Nhập tên tổ chuyên môn\"\r\n                      name=\"specialistName\"\r\n                      value={this.props.data.specialistName}\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      placeholder=\"Nhập mô tả\"\r\n                      value={this.props.data.description}\r\n                      name=\"description\"\r\n                      onChange={this.changeHandler}\r\n                      readOnly={this.props.kind === \"info\"}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(SpecialistTeam);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport ImageUploader from 'react-images-upload';\r\nimport packagejson from '../../../package.json';\r\n\r\nclass Student extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      studentList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        studentId: 0,\r\n        studentCode: \"\",\r\n        studentName: \"\",\r\n        address: \"\",\r\n        permanentResidence: \"\",\r\n        gender: 1,\r\n        pId: \"\",\r\n        image: \"public/images/default_avatar.jpg\",\r\n        dateOfBirth: new Date(),\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        dateOfParty: new Date(),\r\n        dateOfUnion: new Date(),\r\n        accountName: \"\",\r\n        fatherName: \"\",\r\n        fatherPhone: \"\",\r\n        fatherMail: \"\",\r\n        motherName: \"\",\r\n        motherPhone: \"\",\r\n        motherMail: \"\"\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\",\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchStudentByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getStudentList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, studentList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Mã số học sinh</th>\r\n        <th>Họ tên</th>\r\n        <th>Ngày sinh</th>\r\n        <th>Giới tính</th>\r\n        <th>Nơi sinh</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  formatDate = (d) => {\r\n    let dd = d.getDate()\r\n    let mm = d.getMonth() + 1\r\n    let yyyy = d.getFullYear()\r\n    if (dd < 10) { dd = '0' + dd }\r\n    if (mm < 10) { mm = '0' + mm }\r\n    return dd + '/' + mm + '/' + yyyy\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.studentList.map((year, index) => {\r\n      const { studentCode, studentName, dateOfBirth, gender, address } = year;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td>{studentCode}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentName}</span></td>\r\n          <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n          <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n          <td>{address}</td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteStudent(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editStudent(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addStudent = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        studentId: 0,\r\n        studentCode: \"\",\r\n        studentName: \"\",\r\n        address: \"\",\r\n        permanentResidence: \"\",\r\n        gender: 1,\r\n        pId: \"\",\r\n        image: \"/public/images/default_avatar.jpg\",\r\n        dateOfBirth: new Date(),\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        dateOfParty: new Date(),\r\n        dateOfUnion: new Date(),\r\n        accountName: \"\",\r\n        fatherName: \"\",\r\n        fatherPhone: \"\",\r\n        fatherMail: \"\",\r\n        motherName: \"\",\r\n        motherPhone: \"\",\r\n        motherMail: \"\"\r\n      }\r\n    })\r\n  }\r\n\r\n  editStudent = async (index) => {\r\n    let student = this.state.studentList[index]\r\n    student.dateOfBirth = new Date(student.dateOfBirth)\r\n    student.dateOfUnion = new Date(student.dateOfUnion)\r\n    student.dateOfParty = new Date(student.dateOfParty)\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...student\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteStudent = (index) => {\r\n    let student = this.state.studentList[index]\r\n    student.dateOfBirth = new Date(student.dateOfBirth)\r\n    student.dateOfUnion = new Date(student.dateOfUnion)\r\n    student.dateOfParty = new Date(student.dateOfParty)\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ...student\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let student = this.state.studentList[index]\r\n    student.dateOfBirth = new Date(student.dateOfBirth)\r\n    student.dateOfUnion = new Date(student.dateOfUnion)\r\n    student.dateOfParty = new Date(student.dateOfParty)\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...student\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục học sinh\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addStudent}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm học sinh\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteStudent(this.props.data.studentId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa học sinh thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Học sinh này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu liên quan đến học sinh này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa học sinh \"} <b> {this.props.data.studentName} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm học sinh\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa học sinh\"\r\n    }\r\n    return \"Thông tin học sinh\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addStudent}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editStudent}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n  validateData = () => {\r\n    function removeAscent(str) {\r\n      if (str === null || str === undefined) return str;\r\n      str = str.toLowerCase();\r\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n      str = str.replace(/đ/g, \"d\");\r\n      return str;\r\n    }\r\n    const isName = /^[a-zA-Z ]{2,}$/\r\n    const isPId = /[0-9]{9,12}/\r\n    const isCode = /^[a-zA-Z0-9]+$/\r\n    const isVNPhoneMobile = /[0-9]{1,10}/\r\n    const isEmail = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;\r\n    if (!isName.test(removeAscent(this.props.data.studentName))) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên học sinh không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isPId.test(this.props.data.pId) && this.props.data.pId.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số CMND phải bao gồm 9 đến 12 số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isCode.test(this.props.data.studentCode)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã học sinh chỉ chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isVNPhoneMobile.test(this.props.data.phoneNumber) && this.props.data.phoneNumber.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số điện thoại học sinh không hợp lệ! Chỉ bao gồm số, tối đa 10 chữ số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isEmail.test(this.props.data.email)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra email hợp lệ và không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isName.test(removeAscent(this.props.data.fatherName)) && this.props.data.fatherName.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên bố không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isVNPhoneMobile.test(this.props.data.fatherPhone) && this.props.data.fatherPhone.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số điện thoại bố không hợp lệ! Chỉ bao gồm số, tối đa 10 chữ số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isEmail.test(this.props.data.fatherMail) && this.props.data.fatherMail.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Email bố không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isName.test(removeAscent(this.props.data.motherName)) && this.props.data.motherName.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên mẹ không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isVNPhoneMobile.test(this.props.data.motherPhone) && this.props.data.motherPhone.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số điện thoại mẹ không hợp lệ! Chỉ bao gồm số, tối đa 10 chữ số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isEmail.test(this.props.data.motherMail) && this.props.data.motherMail.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Email mẹ không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  addStudent = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      if (this.props.data.image[0] instanceof File) {\r\n        let res = await Api.uploadImage(this.props.data.image[0])\r\n        this.props.data.image = res.data.result\r\n      }\r\n      await Api.addStudent(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm học sinh thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Thêm thất bại\",\r\n          message: \"Mã học sinh đã được sử dụng vui lòng chọn mã khác\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editStudent = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      if (this.props.data.image[0] instanceof File) {\r\n        let res = await Api.uploadImage(this.props.data.image[0])\r\n        this.props.data.image = res.data.result\r\n      }\r\n      await Api.editStudent(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa học sinh thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Sửa thất bại\",\r\n          message: \"Mã học sinh đã được sử dụng vui lòng chọn mã khác\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Họ tên</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập họ tên học sinh\"\r\n                          name=\"studentName\"\r\n                          value={this.props.data.studentName}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Mã học sinh</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập mã học sinh\"\r\n                          name=\"studentCode\"\r\n                          value={this.props.data.studentCode}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày sinh</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfBirth}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfBirth\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số điện thoại</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số điện thoại\"\r\n                          name=\"phoneNumber\"\r\n                          value={this.props.data.phoneNumber}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Giới tính</Form.Label>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          name=\"gender\"\r\n                          value={this.props.data.gender}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        >\r\n                          <option value=\"1\">Nam</option>\r\n                          <option value=\"0\">Nữ</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          value={this.props.data.email}\r\n                          onChange={this.changeHandler}\r\n                          placeholder=\"Nhập email\"\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ảnh</Form.Label>\r\n                      </Form.Group>\r\n                      {this.props.kind === \"info\" ?\r\n                        <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} /> :\r\n                        <ImageUploader\r\n                          withIcon={true}\r\n                          buttonText='Choose images'\r\n                          onChange={(pic) => this.changeHandler({ target: { name: \"image\", value: pic } })}\r\n                          imgExtension={['.jpg', '.gif', '.png', '.gif', 'jpeg']}\r\n                          maxFileSize={5242880}\r\n                          singleImage={true}\r\n                          withPreview={true}\r\n                        />\r\n                      }\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Họ tên bố</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập họ tên bố\"\r\n                          name=\"fatherName\"\r\n                          value={this.props.data.fatherName}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số CMND</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số CMND\"\r\n                          name=\"pId\"\r\n                          value={this.props.data.pId}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số điện thoại bố</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số điện thoại bố\"\r\n                          name=\"fatherPhone\"\r\n                          value={this.props.data.fatherPhone}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập hộ khẩu thường trú\"\r\n                          name=\"permanentResidence\"\r\n                          value={this.props.data.permanentResidence}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Email bố</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập email bố\"\r\n                          name=\"fatherMail\"\r\n                          value={this.props.data.fatherMail}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập nơi ở hiện nay\"\r\n                          name=\"address\"\r\n                          value={this.props.data.address}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Họ tên mẹ</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập họ tên mẹ\"\r\n                          name=\"motherName\"\r\n                          value={this.props.data.motherName}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfUnion}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số điện thoại mẹ</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số điện thoại mẹ\"\r\n                          name=\"motherPhone\"\r\n                          value={this.props.data.motherPhone}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày vào Đảng</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfParty}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfParty\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Email mẹ</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập email mẹ\"\r\n                          name=\"motherMail\"\r\n                          value={this.props.data.motherMail}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Student);\r\n","import {\r\n  BsArrowLeftShort,\r\n  BsArrowRepeat,\r\n  BsTrash,\r\n  BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport ImageUploader from 'react-images-upload';\r\nimport packagejson from '../../../package.json';\r\nclass Teacher extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //state is by default an object\r\n      teacherList: [],\r\n      perpage: 10,\r\n      loading: true,\r\n      pagination: {\r\n        currentPage: 1,\r\n        lastPage: 1,\r\n      },\r\n      modalData: {\r\n        teacherId: 0,\r\n        teacherCode: \"\",\r\n        teacherName: \"\",\r\n        civilServantNumber: \"\",\r\n        address: \"\",\r\n        permanentResidence: \"\",\r\n        gender: 1,\r\n        pId: \"\",\r\n        image: \"\",\r\n        dateOfBirth: new Date(),\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        dateOfParty: new Date(),\r\n        dateOfUnion: new Date(),\r\n        major: \"\"\r\n      },\r\n      showModal: false,\r\n      modalKind: \"\",\r\n      modalLoading: true,\r\n      modalEdited: false,\r\n      searchValue: \"\",\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    await this.refresh(1, this.state.perpage)\r\n  }\r\n\r\n  back = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  refresh = async (page, perpage, searchValue) => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      let res\r\n      if (searchValue || this.state.searchValue) {\r\n        res = await Api.searchTeacherByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n      } else {\r\n        res = await Api.getTeacherList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n      }\r\n      console.log(res)\r\n      this.setState({ loading: false, teacherList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.status === 400) {\r\n        store.addNotification({\r\n          title: \"Thông báo\",\r\n          message: \"Danh sách rỗng\",\r\n          type: \"info\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  changePerPage = async (e) => {\r\n    this.setState({ perpage: e.target.value })\r\n    await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n  }\r\n  changePage = async (page) => {\r\n    await this.refresh(page, this.state.perpage)\r\n  }\r\n\r\n  renderTableHeader() {\r\n    return (\r\n      <tr>\r\n        <th>STT</th>\r\n        <th>Mã số giáo viên</th>\r\n        <th>Họ tên</th>\r\n        <th>Ngày sinh</th>\r\n        <th>Giới tính</th>\r\n        <th>Địa chỉ</th>\r\n        <th className=\"text-center\"><BsTrash /></th>\r\n        <th className=\"text-center\"><FaPencilAlt /></th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  formatDate = (d) => {\r\n    let dd = d.getDate()\r\n    let mm = d.getMonth() + 1\r\n    let yyyy = d.getFullYear()\r\n    if (dd < 10) { dd = '0' + dd }\r\n    if (mm < 10) { mm = '0' + mm }\r\n    return dd + '/' + mm + '/' + yyyy\r\n  }\r\n\r\n  renderTableData() {\r\n    let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n    return this.state.teacherList.map((year, index) => {\r\n      const { teacherCode, teacherName, dateOfBirth, gender, address } = year;\r\n      return (\r\n        <tr key={index}>\r\n          <td>{sttBase + index}</td>\r\n          <td>{teacherCode}</td>\r\n          <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{teacherName}</span></td>\r\n          <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n          <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n          <td>{address}</td>\r\n          <td className=\"text-center\"><BsTrash onClick={() => this.deleteTeacher(index)} /></td>\r\n          <td className=\"text-center\"><FaPencilAlt onClick={() => this.editTeacher(index)} /></td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  addTeacher = () => {\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"add\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        teacherId: 0,\r\n        teacherCode: \"\",\r\n        teacherName: \"\",\r\n        civilServantNumber: \"\",\r\n        address: \"\",\r\n        permanentResidence: \"\",\r\n        gender: 1,\r\n        pId: \"\",\r\n        image: \"http://localhost:3000/user.png\",\r\n        dateOfBirth: new Date(),\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        dateOfParty: new Date(),\r\n        dateOfUnion: new Date(),\r\n        major: \"\"\r\n      }\r\n    })\r\n  }\r\n\r\n  editTeacher = async (index) => {\r\n    let teacher = this.state.teacherList[index]\r\n    teacher.dateOfBirth = new Date(teacher.dateOfBirth)\r\n    teacher.dateOfUnion = new Date(teacher.dateOfUnion)\r\n    teacher.dateOfParty = new Date(teacher.dateOfParty)\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"edit\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...teacher\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteTeacher = (index) => {\r\n    let teacher = this.state.teacherList[index]\r\n    teacher.dateOfBirth = new Date(teacher.dateOfBirth)\r\n    teacher.dateOfUnion = new Date(teacher.dateOfUnion)\r\n    teacher.dateOfParty = new Date(teacher.dateOfParty)\r\n    this.setState({\r\n      showDelete: true,\r\n      modalData: {\r\n        ...teacher\r\n      }\r\n    })\r\n  }\r\n\r\n  showInfo = (index) => {\r\n    let teacher = this.state.teacherList[index]\r\n    teacher.dateOfBirth = new Date(teacher.dateOfBirth)\r\n    teacher.dateOfUnion = new Date(teacher.dateOfUnion)\r\n    teacher.dateOfParty = new Date(teacher.dateOfParty)\r\n    this.setState({\r\n      showModal: true,\r\n      modalKind: \"info\",\r\n      modalLoading: false,\r\n      modalEdited: false,\r\n      modalData: {\r\n        ...teacher\r\n      }\r\n    })\r\n  }\r\n\r\n  closeDelete = () => {\r\n    this.setState({ showDelete: false });\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container-fluid d-flex justify-content-center\">\r\n          <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <Dialog\r\n          show={this.state.showModal}\r\n          kind={this.state.modalKind}\r\n          close={this.closeModal}\r\n          data={this.state.modalData}\r\n          loading={this.state.modalLoading}\r\n          setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n          edited={this.state.modalEdited}\r\n          refresh={this.refresh}\r\n        />\r\n        <ConfirmDelete\r\n          show={this.state.showDelete}\r\n          close={this.closeDelete}\r\n          data={this.state.modalData}\r\n          refresh={this.refresh}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col align-self-center d-flex\">\r\n            <div className=\"align-self-center\">\r\n              <BsArrowLeftShort size={50} onClick={this.back} />\r\n            </div>\r\n            <div className=\"h3 align-self-center mb-0\">\r\n              Quản lý danh mục giáo viên\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"d-flex\">\r\n          <div>\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Tải lại trang\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <BsArrowRepeat />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"ml-3\">\r\n            <button type=\"button\" className=\"btn btn-light\" onClick={this.addTeacher}>\r\n              <div className=\"d-flex\">\r\n                <div>\r\n                  Thêm giáo viên\r\n                </div>\r\n                <div className=\"ml-2\">\r\n                  <GoPlus />\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <div className=\"d-flex ml-4\">\r\n            <div className=\"align-self-center\" >\r\n              Số lượng bản ghi mỗi trang:\r\n            </div>\r\n            <div className=\"align-self-center\" >\r\n              <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex ml-auto\">\r\n            <div className=\"input-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" value={this.state.searchValue} onChange={e => this.setState({ searchValue: e.target.value })} />\r\n              <div className=\"input-group-append\">\r\n                <button className=\"btn btn-primary\" type=\"button\" onClick={() => this.refresh(1)}><BsSearch /></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <br></br>\r\n        <div style={{ minHeight: \"430px\" }}>\r\n          <Table striped bordered hover >\r\n            <thead className=\"table-header\">\r\n              {this.renderTableHeader()}\r\n            </thead>\r\n            <tbody>{this.renderTableData()}</tbody>\r\n          </Table>\r\n        </div>\r\n        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    this.setState({ loading: true })\r\n    try {\r\n      await Api.deleteTeacher(this.props.data.teacherId)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Xóa giáo viên thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.props.close()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_ROW_IS_REFERENCED_2\") {\r\n        store.addNotification({\r\n          title: \"Không thể xóa\",\r\n          message: \"Giáo viên này đã có dữ liệu! Để xóa trước hết cần xóa hết dữ liệu liên quan đến giáo viên này\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận xóa</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {\"Bạn chắc chắn muốn xóa giáo viên \"} <b> {this.props.data.studentName} </b> {\" ?\"}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirm: false,\r\n      message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  getTitle = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return \"Thêm giáo viên\"\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return \"Sửa giáo viên\"\r\n    }\r\n    return \"Thông tin giáo viên\"\r\n  }\r\n\r\n  getButton = () => {\r\n    if (this.props.kind === \"add\") {\r\n      return <Button onClick={this.addTeacher}>Thêm</Button>\r\n    }\r\n    if (this.props.kind === \"edit\") {\r\n      return <Button onClick={this.editTeacher}>Sửa</Button>\r\n    }\r\n    return null\r\n  }\r\n\r\n  validateData = () => {\r\n    function removeAscent(str) {\r\n      if (str === null || str === undefined) return str;\r\n      str = str.toLowerCase();\r\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n      str = str.replace(/đ/g, \"d\");\r\n      return str;\r\n    }\r\n    const isName = /^[a-zA-Z ]{2,}$/\r\n    const isPId = /[0-9]{9,12}/\r\n    const isTeacherCode = /^[a-zA-Z0-9]+$/\r\n    const isVNPhoneMobile = /[0-9]{1,10}/\r\n    const isEmail = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;\r\n    if (!isName.test(removeAscent(this.props.data.teacherName))) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Họ tên không hợp lệ!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isPId.test(this.props.data.pId) && this.props.data.pId.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số CMND phải bao gồm 9 đến 12 số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isTeacherCode.test(this.props.data.teacherCode)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Mã giáo viên chứa kí tự chữ hoặc số, không được bỏ trống!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isVNPhoneMobile.test(this.props.data.phoneNumber) && this.props.data.phoneNumber.length > 0) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Số điện thoại không hợp lệ! Chỉ bao gồm số, tối đa 10 chữ số`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n    if (!isEmail.test(this.props.data.email)) {\r\n      store.addNotification({\r\n        title: \"Nhập dữ liệu không chính xác\",\r\n        message: `Kiểm tra email hợp lệ và không được bỏ trống!!`,\r\n        type: \"warning\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  addTeacher = async () => {\r\n    //validate TODO\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      if (this.props.data.image[0] instanceof File) {\r\n        let res = await Api.uploadImage(this.props.data.image[0])\r\n        this.props.data.image = res.data.result\r\n      }\r\n      await Api.addTeacher(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Thêm giáo viên thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Thêm thất bại\",\r\n          message: \"Mã giáo viên đã được sử dụng vui lòng chọn mã khác\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  editTeacher = async () => {\r\n    if (!this.validateData()) {\r\n      return;\r\n    }\r\n    this.setState({ loading: true })\r\n    try {\r\n      if (this.props.data.image[0] instanceof File) {\r\n        let res = await Api.uploadImage(this.props.data.image[0])\r\n        this.props.data.image = res.data.result\r\n      }\r\n      await Api.editTeacher(this.props.data)\r\n      //console.log(res)\r\n      this.setState({ loading: false })\r\n      store.addNotification({\r\n        title: \"Thành công\",\r\n        message: `Sửa giáo viên thành công`,\r\n        type: \"success\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          //showIcon: true,\r\n        },\r\n        animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n      this.closeAll()\r\n      this.props.refresh()\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.setState({ loading: false })\r\n      if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n        store.addNotification({\r\n          title: \"Sửa thất bại\",\r\n          message: \"Mã giáo viên đã được sử dụng vui lòng chọn mã khác\",\r\n          type: \"warning\",\r\n          container: \"top-center\",\r\n          dismiss: {\r\n            duration: 5000,\r\n            showIcon: true,\r\n          },\r\n          animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n          animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n        })\r\n        return\r\n      }\r\n      store.addNotification({\r\n        title: \"Hệ thống có lỗi\",\r\n        message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n        type: \"danger\",\r\n        container: \"top-center\",\r\n        dismiss: {\r\n          duration: 5000,\r\n          showIcon: true,\r\n        },\r\n        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n      })\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    if (this.props.edited) {\r\n      this.setState({\r\n        showConfirm: true\r\n      })\r\n    } else {\r\n      this.props.close()\r\n    }\r\n  }\r\n\r\n  closeAll = () => {\r\n    this.setState({ showConfirm: false })\r\n    this.props.close()\r\n  }\r\n\r\n  changeHandler = (e) => {\r\n    // console.log(e)\r\n    let name = e.target.name\r\n    let value = e.target.value\r\n    let data = this.props.data\r\n    data[name] = value\r\n    this.props.setData(data)\r\n  }\r\n\r\n  closeConfirm = () => {\r\n    this.setState({\r\n      showConfirm: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.getTitle()}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n              <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div >}\r\n\r\n            {!this.props.loading &&\r\n              <div className=\"container-fluid\">\r\n                <Form>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Họ tên</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập họ tên giáo viên\"\r\n                          name=\"teacherName\"\r\n                          value={this.props.data.teacherName}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfUnion}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày sinh</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfBirth}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfBirth\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ngày vào Đảng</Form.Label>\r\n                        <div className=\"w-100\">\r\n                          <DatePicker\r\n                            selected={this.props.data.dateOfParty}\r\n                            onChange={value => this.changeHandler({ target: { name: \"dateOfParty\", value: value } })}\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            className=\"form-control w-100\"\r\n                            readOnly={this.props.kind === \"info\"}\r\n                          />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Giới tính</Form.Label>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          name=\"gender\"\r\n                          value={this.props.data.gender}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        >\r\n                          <option value=\"1\">Nam</option>\r\n                          <option value=\"0\">Nữ</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Mã giáo viên</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập mã giáo viên\"\r\n                          name=\"teacherCode\"\r\n                          value={this.props.data.teacherCode}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Ảnh</Form.Label>\r\n                      </Form.Group>\r\n                      {this.props.kind === \"info\" ?\r\n                        <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} /> :\r\n                        <ImageUploader\r\n                          withIcon={true}\r\n                          buttonText='Choose images'\r\n                          onChange={(pic) => this.changeHandler({ target: { name: \"image\", value: pic } })}\r\n                          imgExtension={['.jpg', '.gif', '.png', '.gif', 'jpeg']}\r\n                          maxFileSize={5242880}\r\n                          singleImage={true}\r\n                          withPreview={true}\r\n                        />\r\n                      }\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số điện thoại</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số điện thoại\"\r\n                          name=\"phoneNumber\"\r\n                          value={this.props.data.phoneNumber}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số CMND</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số CMND\"\r\n                          name=\"pId\"\r\n                          value={this.props.data.pId}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          value={this.props.data.email}\r\n                          onChange={this.changeHandler}\r\n                          placeholder=\"Nhập email\"\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập hộ khẩu thường trú\"\r\n                          name=\"permanentResidence\"\r\n                          value={this.props.data.permanentResidence}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Số hiệu công chức</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập số hiệu công chức\"\r\n                          name=\"civilServantNumber\"\r\n                          value={this.props.data.civilServantNumber}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập nơi ở hiện nay\"\r\n                          name=\"address\"\r\n                          value={this.props.data.address}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <Form.Group>\r\n                        <Form.Label>Chuyên môn</Form.Label>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Nhập chuyên môn\"\r\n                          name=\"major\"\r\n                          value={this.props.data.major}\r\n                          onChange={this.changeHandler}\r\n                          readOnly={this.props.kind === \"info\"}\r\n                        />\r\n                      </Form.Group>\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            }\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n            {this.getButton()}\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n          <Modal.Header>\r\n            <Modal.Title>Xác nhận</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"container\">\r\n              {this.state.message}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n            <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Loading show={this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Teacher);\r\n","import {\r\n    BsArrowLeftShort,\r\n    BsArrowRepeat,\r\n    BsTrash,\r\n    BsSearch,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport 'react-select-search/style.css'\r\nclass Account extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //state is by default an object\r\n            accountList: [],\r\n            studentList: [],\r\n            teacherList: [],\r\n            perpage: 10,\r\n            loading: true,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            modalData: {\r\n                accountId: 0,\r\n                accountName: \"\",\r\n                role: 0,\r\n                userCode: \"\"\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [teacherList, studentList] = await Promise.all([\r\n                Api.getTeacherList(1, 1000000),\r\n                Api.getStudentList(1, 1000000),\r\n            ]);\r\n            this.setState({\r\n                teacherList: teacherList.data.result.data,\r\n                studentList: studentList.data.result.data\r\n            })\r\n            await this.refresh(1, this.state.perpage)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.getAccountList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n            let accountList = res.data.result.data\r\n            let teacherList = this.state.teacherList\r\n            let studentList = this.state.studentList\r\n            let map = {}\r\n            for (let i = 0; i < teacherList.length; i++) {\r\n                map[teacherList[i].teacherCode] = {\r\n                    ...teacherList[i]\r\n                }\r\n            }\r\n            for (let i = 0; i < studentList.length; i++) {\r\n                map[studentList[i].studentCode] = {\r\n                    ...studentList[i]\r\n                }\r\n            }\r\n            for (let i = 0; i < accountList.length; i++) {\r\n                accountList[i] = {\r\n                    ...accountList[i],\r\n                    ...map[accountList[i].userCode]\r\n                }\r\n            }\r\n            console.log(accountList)\r\n            this.setState({ loading: false, accountList: accountList, pagination: res.data.result.pagination })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherCode\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getStudentOption = () => {\r\n        let list = this.state.studentList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { studentName, studentCode } = list[i];\r\n            options.push({\r\n                name: studentName + \" - \" + studentCode,\r\n                value: studentCode\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    renderTableHeader() {\r\n        return (\r\n            <tr>\r\n                <th>STT</th>\r\n                <th>Tên tài khoản</th>\r\n                <th>Họ tên</th>\r\n                <th>Mã giáo viên/học sinh</th>\r\n                <th>Loại tài khoản</th>\r\n                <th className=\"text-center\"><BsTrash /></th>\r\n                <th className=\"text-center\"><FaPencilAlt /></th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.accountList.map((data, index) => {\r\n            const { accountName, studentName, role, teacherName, userCode } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{accountName}</span></td>\r\n                    <td>{role === 0 ? studentName : teacherName}</td>\r\n                    <td>{userCode}</td>\r\n                    <td>{role === 0 ? \"Học sinh\" : role === 1 ? \"Giáo viên\" : \"Quản trị viên\"}</td>\r\n                    <td className=\"text-center\"><BsTrash onClick={() => this.deleteAccount(index)} /></td>\r\n                    <td className=\"text-center\"><FaPencilAlt onClick={() => this.editAccount(index)} /></td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addAccount = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                accountId: 0,\r\n                accountName: \"\",\r\n                role: 0,\r\n                userCode: \"\"\r\n            }\r\n        })\r\n    }\r\n\r\n    editAccount = async (index) => {\r\n        let account = this.state.accountList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"edit\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...account\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteAccount = (index) => {\r\n        let account = this.state.accountList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...account\r\n            }\r\n        })\r\n    }\r\n\r\n    showInfo = (index) => {\r\n        let account = this.state.accountList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"info\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...account\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getStudentOption={this.getStudentOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Quản lý tài khoản\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div className=\"d-flex\">\r\n                    <div>\r\n                        <button type=\"button\" className=\"btn btn-light\" onClick={() => this.refresh()}>\r\n                            <div className=\"d-flex\">\r\n                                <div>\r\n                                    Tải lại trang\r\n                                </div>\r\n                                <div className=\"ml-2\">\r\n                                    <BsArrowRepeat />\r\n                                </div>\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"ml-3\">\r\n                        <button type=\"button\" className=\"btn btn-light\" onClick={this.addAccount}>\r\n                            <div className=\"d-flex\">\r\n                                <div>\r\n                                    Thêm tài khoản\r\n                                </div>\r\n                                <div className=\"ml-2\">\r\n                                    <GoPlus />\r\n                                </div>\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"d-flex ml-4\">\r\n                        <div className=\"align-self-center\" >\r\n                            Số lượng bản ghi mỗi trang:\r\n                        </div>\r\n                        <div className=\"align-self-center\" >\r\n                            <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex ml-auto\">\r\n                        <div className=\"input-group\">\r\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Tìm kiếm\" />\r\n                            <div className=\"input-group-append\">\r\n                                <button className=\"btn btn-primary\" type=\"button\"><BsSearch /></button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <br></br>\r\n                <div style={{ minHeight: \"430px\" }}>\r\n                    <Table striped bordered hover >\r\n                        <thead className=\"table-header\">\r\n                            {this.renderTableHeader()}\r\n                        </thead>\r\n                        <tbody>{this.renderTableData()}</tbody>\r\n                    </Table>\r\n                </div>\r\n                <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteAccount(this.props.data.accountId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa tài khoản thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn xóa tài khoản \"} <b> {this.props.data.accountName} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm tài khoản\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa tài khoản\"\r\n        }\r\n        return \"Thông tin tài khoản\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addAccount}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editAccount}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    addAccount = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addAccount(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm tài khoản thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Thêm tài khoản thất bại\",\r\n                    message: \"Tên tài khoản đã sử dụng hoặc giáo viên/học sinh này đã có tài khoản\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    editAccount = async () => {\r\n        this.setState({ loading: true })\r\n        if (!this.props.data.password) {\r\n            store.addNotification({\r\n                title: \"Cập nhật tài khoản thất bại\",\r\n                message: \"Mật khẩu không được để trống\",\r\n                type: \"warning\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.setState({ loading: false })\r\n            return\r\n        }\r\n        try {\r\n            await Api.editAccount(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Sửa tài khoản thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.data.message.code === \"ER_DUP_ENTRY\") {\r\n                store.addNotification({\r\n                    title: \"Cập nhật tài khoản thất bại\",\r\n                    message: \"Tên tài khoản đã sử dụng hoặc giáo viên/học sinh này đã có tài khoản\",\r\n                    type: \"warning\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Tên tài khoản</Form.Label>\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            placeholder=\"Nhập tên tài khoản\"\r\n                                            name=\"accountName\"\r\n                                            value={this.props.data.accountName}\r\n                                            onChange={this.changeHandler}\r\n                                            readOnly={this.props.kind === \"info\"}\r\n                                        />\r\n                                    </Form.Group>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Mật khẩu</Form.Label>\r\n                                        <Form.Control\r\n                                            type=\"password\"\r\n                                            placeholder=\"Nhập mật khẩu\"\r\n                                            name=\"password\"\r\n                                            value={this.props.data.password}\r\n                                            onChange={this.changeHandler}\r\n                                            readOnly={this.props.kind === \"info\"}\r\n                                        />\r\n                                    </Form.Group>\r\n                                    <Form.Group>\r\n                                        <Form.Label>Loại tài khoản</Form.Label>\r\n                                        <Form.Control\r\n                                            as=\"select\"\r\n                                            name=\"role\"\r\n                                            value={this.props.data.role}\r\n                                            onChange={(e) => { this.changeHandler({ target: { name: \"userCode\", value: \"\" } }); this.changeHandler(e) }}\r\n                                            readOnly={this.props.kind === \"info\"}\r\n                                        >\r\n                                            <option value={0}>Học sinh</option>\r\n                                            <option value={1}>Giáo viên</option>\r\n                                            <option value={2}>Quản trị viên</option>\r\n                                        </Form.Control>\r\n                                    </Form.Group>\r\n                                    <div className=\"form-group\">\r\n                                        <label >{this.props.data.role === 0 ? \"Học sinh\" : \"Giáo viên\"} </label>\r\n                                        <div>\r\n                                            <SelectSearch\r\n                                                options={this.props.data.role === 0 ? this.props.getStudentOption() : this.props.getTeacherOption()}\r\n                                                search\r\n                                                filterOptions={fuzzySearch}\r\n                                                emptyMessage=\"Không tìm thấy\"\r\n                                                placeholder=\" \"\r\n                                                onChange={v => { this.changeHandler({ target: { name: \"userCode\", value: v } }) }}\r\n                                                value={this.props.data.userCode}\r\n                                                readOnly={this.props.kind === \"info\"}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Account);\r\n","import {\r\n    BsArrowLeftShort,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { BiSearch } from 'react-icons/bi';\r\nimport packagejson from '../../../package.json';\r\nclass Teacher extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //state is by default an object\r\n            teacherList: [],\r\n            perpage: 10,\r\n            loading: true,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            modalData: {\r\n                teacherId: 0,\r\n                teacherCode: \"\",\r\n                teacherName: \"\",\r\n                civilServantNumber: \"\",\r\n                address: \"\",\r\n                permanentResidence: \"\",\r\n                gender: 1,\r\n                pId: \"\",\r\n                image: \"\",\r\n                dateOfBirth: new Date(),\r\n                email: \"\",\r\n                phoneNumber: \"\",\r\n                dateOfParty: new Date(),\r\n                dateOfUnion: new Date(),\r\n                major: \"\"\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            suggestions: [],\r\n            searchValue: \"\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true })\r\n        await this.refresh(1, this.state.perpage)\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchValue) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res\r\n            if (searchValue || this.state.searchValue) {\r\n                res = await Api.searchTeacherByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n            } else {\r\n                res = await Api.getTeacherList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n            }\r\n            console.log(res)\r\n            this.setState({ loading: false, teacherList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    renderTableHeader() {\r\n        return (\r\n            <tr>\r\n                <th>STT</th>\r\n                <th>Mã số giáo viên</th>\r\n                <th>Họ tên</th>\r\n                <th>Ngày sinh</th>\r\n                <th>Giới tính</th>\r\n                <th>Địa chỉ</th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teacherList.map((year, index) => {\r\n            const { teacherCode, teacherName, dateOfBirth, gender, address } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{teacherCode}</span></td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{teacherName}</span></td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    showInfo = (index) => {\r\n        let teacher = this.state.teacherList[index]\r\n        teacher.dateOfBirth = new Date(teacher.dateOfBirth)\r\n        teacher.dateOfUnion = new Date(teacher.dateOfUnion)\r\n        teacher.dateOfParty = new Date(teacher.dateOfParty)\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"info\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...teacher\r\n            }\r\n        })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    onSuggestionsFetchRequested = ({ value }) => {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n        this.timeout = setTimeout(async () => {\r\n            let req = this.lastReq = Api.searchTeacherByNameOrCode(1, this.state.perpage, value)\r\n            try {\r\n                let res = await req;\r\n                if (req === this.lastReq) {\r\n                    this.setState({\r\n                        suggestions: res.data.result\r\n                    });\r\n                }\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }, 200)\r\n    };\r\n\r\n    onSuggestionsClearRequested = () => {\r\n        this.setState({\r\n            suggestions: []\r\n        });\r\n    };\r\n\r\n    onChangeSearch = (event, { newValue }) => {\r\n        this.setState({\r\n            searchValue: newValue\r\n        });\r\n    };\r\n\r\n    getSuggestionValue = suggestion => suggestion.teacherName;\r\n\r\n    onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n        this.refresh(null, null, suggestionValue)\r\n    }\r\n\r\n    renderSuggestion = (suggestion) => {\r\n        return (\r\n            <div className=\"w-100\">{suggestion.teacherName + \" - \" + suggestion.teacherCode}</div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { searchValue, suggestions } = this.state;\r\n        const theme = {\r\n            container: 'autosuggest',\r\n            input: 'form-control',\r\n            suggestionsContainer: 'dropdown',\r\n            suggestionsList: `dropdown-menu w-100 ${this.state.suggestions.length ? 'show' : ''}`,\r\n            suggestion: 'dropdown-item w-100',\r\n            suggestionFocused: 'active',\r\n            suggestionHighlighted: 'active'\r\n        };\r\n\r\n        const inputProps = {\r\n            placeholder: 'Nhập tên hoặc mã giáo viên',\r\n            value: searchValue,\r\n            onChange: this.onChangeSearch\r\n        };\r\n\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu thông tin giáo viên\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div className=\"d-flex\">\r\n                    <Autosuggest\r\n                        suggestions={suggestions}\r\n                        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n                        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n                        getSuggestionValue={this.getSuggestionValue}\r\n                        renderSuggestion={this.renderSuggestion}\r\n                        inputProps={inputProps}\r\n                        theme={theme}\r\n                        onSuggestionSelected={this.onSuggestionSelected}\r\n                    />\r\n                    <button type=\"button\" className=\"btn btn-primary ml-3 align-self-center\" onClick={() => this.refresh()}>\r\n                        <BiSearch size={this.state.iconSize} />Tra cứu\r\n                    </button>\r\n                </div>\r\n                <br></br>\r\n                <div style={{ minHeight: \"380px\" }}>\r\n                    <Table striped bordered hover >\r\n                        <thead className=\"table-header\">\r\n                            {this.renderTableHeader()}\r\n                        </thead>\r\n                        <tbody>{this.renderTableData()}</tbody>\r\n                    </Table>\r\n                </div>\r\n\r\n                <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                <div className=\"d-flex mt-3\">\r\n                    <div className=\"align-self-center\" >\r\n                        Số lượng bản ghi mỗi trang:\r\n                        </div>\r\n                    <div className=\"align-self-center\" >\r\n                        <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"10\">10</option>\r\n                            <option value=\"15\">15</option>\r\n                            <option value=\"20\">20</option>\r\n                            <option value=\"30\">30</option>\r\n                            <option value=\"50\">50</option>\r\n                            <option value=\"100\">100</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm giáo viên\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa giáo viên\"\r\n        }\r\n        return \"Thông tin giáo viên\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addTeacher}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeacher}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên giáo viên\"\r\n                                                    name=\"teacherName\"\r\n                                                    value={this.props.data.teacherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfUnion}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày sinh</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfBirth}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfBirth\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đảng</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfParty}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfParty\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Giới tính</Form.Label>\r\n                                                <Form.Control\r\n                                                    as=\"select\"\r\n                                                    name=\"subjectName\"\r\n                                                    value={this.props.data.subjectName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                >\r\n                                                    <option value=\"1\">Nam</option>\r\n                                                    <option value=\"0\">Nữ</option>\r\n                                                </Form.Control>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Mã giáo viên</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập mã giáo viên\"\r\n                                                    name=\"teacherCode\"\r\n                                                    value={this.props.data.teacherCode}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ảnh</Form.Label>\r\n                                            </Form.Group>\r\n                                            <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} />\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại\"\r\n                                                    name=\"phoneNumber\"\r\n                                                    value={this.props.data.phoneNumber}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số CMND</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số CMND\"\r\n                                                    name=\"pId\"\r\n                                                    value={this.props.data.pId}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"email\"\r\n                                                    name=\"email\"\r\n                                                    value={this.props.data.email}\r\n                                                    onChange={this.changeHandler}\r\n                                                    placeholder=\"Nhập email\"\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập hộ khẩu thường trú\"\r\n                                                    name=\"permanentResidence\"\r\n                                                    value={this.props.data.permanentResidence}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số hiệu công chức</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số hiệu công chức\"\r\n                                                    name=\"civilServantNumber\"\r\n                                                    value={this.props.data.civilServantNumber}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập nơi ở hiện nay\"\r\n                                                    name=\"address\"\r\n                                                    value={this.props.data.address}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Chuyên môn</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập chuyên môn\"\r\n                                                    name=\"major\"\r\n                                                    value={this.props.data.major}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Teacher);\r\n","import {\r\n    BsArrowLeftShort,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { BiSearch } from 'react-icons/bi';\r\nimport packagejson from '../../../package.json';\r\n\r\nclass Student extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //state is by default an object\r\n            studentList: [],\r\n            perpage: 10,\r\n            loading: true,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            modalData: {\r\n                studentId: 0,\r\n                studentCode: \"\",\r\n                studentName: \"\",\r\n                address: \"\",\r\n                permanentResidence: \"\",\r\n                gender: 1,\r\n                pId: \"\",\r\n                image: \"\",\r\n                dateOfBirth: new Date(),\r\n                email: \"\",\r\n                phoneNumber: \"\",\r\n                dateOfParty: new Date(),\r\n                dateOfUnion: new Date(),\r\n                accountName: \"\",\r\n                fatherName: \"\",\r\n                fatherPhone: \"\",\r\n                fatherMail: \"\",\r\n                motherName: \"\",\r\n                motherPhone: \"\",\r\n                motherMail: \"\"\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            suggestions: [],\r\n            searchValue: \"\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.refresh(1, this.state.perpage)\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchValue) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res\r\n            if (searchValue || this.state.searchValue) {\r\n                res = await Api.searchStudentByName(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchValue || this.state.searchValue)\r\n            } else {\r\n                res = await Api.getStudentList(page || this.state.pagination.currentPage, perpage || this.state.perpage)\r\n            }\r\n            console.log(res)\r\n            this.setState({ loading: false, studentList: res.data.result.data, pagination: res.data.result.pagination })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    renderTableHeader() {\r\n        return (\r\n            <tr>\r\n                <th>STT</th>\r\n                <th>Mã số học sinh</th>\r\n                <th>Họ tên</th>\r\n                <th>Ngày sinh</th>\r\n                <th>Giới tính</th>\r\n                <th>Nơi sinh</th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.studentList.map((year, index) => {\r\n            const { studentCode, studentName, dateOfBirth, gender, address } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentCode}</span></td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentName}</span></td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    showInfo = (index) => {\r\n        let student = this.state.studentList[index]\r\n        student.dateOfBirth = new Date(student.dateOfBirth)\r\n        student.dateOfUnion = new Date(student.dateOfUnion)\r\n        student.dateOfParty = new Date(student.dateOfParty)\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"info\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...student\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    onSuggestionsFetchRequested = ({ value }) => {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n\r\n        this.timeout = setTimeout(async () => {\r\n            let req = this.lastReq = Api.searchStudentByNameOrCode(1, this.state.perpage, value)\r\n            try {\r\n                let res = await req;\r\n                if (req === this.lastReq) {\r\n                    this.setState({\r\n                        suggestions: res.data.result\r\n                    });\r\n                }\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }, 200)\r\n    };\r\n\r\n    onSuggestionsClearRequested = () => {\r\n        this.setState({\r\n            suggestions: []\r\n        });\r\n    };\r\n\r\n    onChangeSearch = (event, { newValue }) => {\r\n        this.setState({\r\n            searchValue: newValue\r\n        });\r\n    };\r\n\r\n    getSuggestionValue = suggestion => suggestion.studentName;\r\n\r\n    onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n        this.refresh(null, null, suggestionValue)\r\n    }\r\n\r\n    renderSuggestion = (suggestion) => {\r\n        return (\r\n            <div className=\"w-100\">{suggestion.studentName + \" - \" + suggestion.studentCode}</div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { searchValue, suggestions } = this.state;\r\n        const theme = {\r\n            container: 'autosuggest',\r\n            input: 'form-control',\r\n            suggestionsContainer: 'dropdown',\r\n            suggestionsList: `dropdown-menu w-100 ${this.state.suggestions.length ? 'show' : ''}`,\r\n            suggestion: 'dropdown-item w-100',\r\n            suggestionFocused: 'active',\r\n            suggestionHighlighted: 'active'\r\n        };\r\n\r\n        const inputProps = {\r\n            placeholder: 'Nhập tên hoặc mã học sinh',\r\n            value: searchValue,\r\n            onChange: this.onChangeSearch\r\n        }\r\n\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu thông tin học sinh\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <div className=\"d-flex\">\r\n                    <Autosuggest\r\n                        suggestions={suggestions}\r\n                        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n                        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n                        getSuggestionValue={this.getSuggestionValue}\r\n                        renderSuggestion={this.renderSuggestion}\r\n                        inputProps={inputProps}\r\n                        theme={theme}\r\n                        onSuggestionSelected={this.onSuggestionSelected}\r\n                    />\r\n                    <button type=\"button\" className=\"btn btn-primary ml-3 align-self-center\" onClick={() => this.refresh()}>\r\n                        <BiSearch size={this.state.iconSize} />Tra cứu\r\n                    </button>\r\n                </div>\r\n                <br></br>\r\n                <div style={{ minHeight: \"380px\" }}>\r\n                    <Table striped bordered hover >\r\n                        <thead className=\"table-header\">\r\n                            {this.renderTableHeader()}\r\n                        </thead>\r\n                        <tbody>{this.renderTableData()}</tbody>\r\n                    </Table>\r\n                </div>\r\n\r\n                <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                <div className=\"d-flex mt-3\">\r\n                    <div className=\"align-self-center\" >\r\n                        Số lượng bản ghi mỗi trang:\r\n                        </div>\r\n                    <div className=\"align-self-center\" >\r\n                        <select className=\"form-control ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"80px\" }}>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"10\">10</option>\r\n                            <option value=\"15\">15</option>\r\n                            <option value=\"20\">20</option>\r\n                            <option value=\"30\">30</option>\r\n                            <option value=\"50\">50</option>\r\n                            <option value=\"100\">100</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm học sinh\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa học sinh\"\r\n        }\r\n        return \"Thông tin học sinh\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addStudent}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editStudent}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên học sinh\"\r\n                                                    name=\"studentName\"\r\n                                                    value={this.props.data.studentName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Mã học sinh</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập mã học sinh\"\r\n                                                    name=\"studentCode\"\r\n                                                    value={this.props.data.studentCode}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày sinh</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfBirth}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfBirth\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại\"\r\n                                                    name=\"phoneNumber\"\r\n                                                    value={this.props.data.phoneNumber}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Giới tính</Form.Label>\r\n                                                <Form.Control\r\n                                                    as=\"select\"\r\n                                                    name=\"subjectName\"\r\n                                                    value={this.props.data.subjectName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                >\r\n                                                    <option value=\"1\">Nam</option>\r\n                                                    <option value=\"0\">Nữ</option>\r\n                                                </Form.Control>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"email\"\r\n                                                    name=\"email\"\r\n                                                    value={this.props.data.email}\r\n                                                    onChange={this.changeHandler}\r\n                                                    placeholder=\"Nhập email\"\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ảnh</Form.Label>\r\n                                            </Form.Group>\r\n                                            <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} />\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên bố\"\r\n                                                    name=\"fatherName\"\r\n                                                    value={this.props.data.fatherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số CMND</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số CMND\"\r\n                                                    name=\"pId\"\r\n                                                    value={this.props.data.pId}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại bố\"\r\n                                                    name=\"fatherPhone\"\r\n                                                    value={this.props.data.fatherPhone}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập hộ khẩu thường trú\"\r\n                                                    name=\"permanentResidence\"\r\n                                                    value={this.props.data.permanentResidence}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập email bố\"\r\n                                                    name=\"fatherMail\"\r\n                                                    value={this.props.data.fatherMail}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập nơi ở hiện nay\"\r\n                                                    name=\"address\"\r\n                                                    value={this.props.data.address}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên mẹ\"\r\n                                                    name=\"motherName\"\r\n                                                    value={this.props.data.motherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfUnion}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại mẹ\"\r\n                                                    name=\"motherPhone\"\r\n                                                    value={this.props.data.motherPhone}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đảng</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfParty}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfParty\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập email mẹ\"\r\n                                                    name=\"motherMail\"\r\n                                                    value={this.props.data.motherMail}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Student);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh } from 'react-icons/bi';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/TeachingAssignment.css';\r\nimport { BsArrowLeftShort, BsTrash } from 'react-icons/bs'\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Loading from '../Loading/Loading'\r\n\r\n\r\nclass HomeroomTeacherAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            teacherList: [],\r\n            homeroomTeacherAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n            },\r\n            perpage: 1000000,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                homeroomTeacherAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchHomeroomTeacherAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            let data = res.data.result.data;\r\n            if (!(this.state.searchCondition.classId || this.state.searchCondition.teacherId)) {\r\n                let mark = {}\r\n                for (let i = 0; i < data.length; i++) {\r\n                    mark[data[i].classId] = 1\r\n                }\r\n                let classList = this.state.classList\r\n                let schoolYear = this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId)\r\n                for (let i = 0; i < classList.length; i++) {\r\n                    if (!mark[classList[i].classId]) {\r\n                        data.push({\r\n                            ...classList[i],\r\n                            ...schoolYear\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            this.setState({\r\n                loading: false,\r\n                homeroomTeacherAssignmentList: data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.homeroomTeacherAssignmentList.map((year, index) => {\r\n            const { teacherCode, teacherName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{className}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName ? teacherName : \"Chưa phân công\"}</td>\r\n                    <td>{schoolYear}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    editHomeroomTeacherAssignment = (index) => {\r\n        let homeroomTeacherAssignment = this.state.homeroomTeacherAssignmentList[index]\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"edit\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                ...homeroomTeacherAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu phân công giáo viên chủ nhiệm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Năm học</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công giáo viên chủ nhiệm\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Cập nhật phân công giáo viên chủ nhiệm\"\r\n        }\r\n        return \"Thông tin phân công giáo viên chủ nhiệm\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addHomeroomTeacherAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editHomeroomTeacherAssignment}>Cập nhật</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    editHomeroomTeacherAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            if (this.props.data.teacherId) {\r\n                if (this.props.data.homeroomTeacherAssignmentId) {\r\n                    await Api.editHomeroomTeacherAssignment(this.props.data)\r\n                } else {\r\n                    await Api.addHomeroomTeacherAssignment(this.props.data)\r\n                }\r\n            } else {\r\n                if (this.props.data.homeroomTeacherAssignmentId) {\r\n                    await Api.deleteHomeroomTeacherAssignment(this.props.data.homeroomTeacherAssignmentId)\r\n                }\r\n            }\r\n\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Cập nhật giáo viên chủ nhiệm thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                            disabled={true}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-11\">\r\n                                            <SelectSearch\r\n                                                options={this.props.getTeacherOption()}\r\n                                                search\r\n                                                filterOptions={fuzzySearch}\r\n                                                emptyMessage=\"Không tìm thấy\"\r\n                                                placeholder=\" \"\r\n                                                onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                                value={this.props.data.teacherId}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col d-flex\">\r\n                                            <BsTrash className=\"align-self-center\" onClick={() => this.changeHandler({ target: { name: \"teacherId\", value: null } })} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                            disabled={true}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(HomeroomTeacherAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh, } from 'react-icons/bi';\r\nimport { BsArrowLeftShort, } from 'react-icons/bs'\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport '../../css/TeachingAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport Pagination from '../Pagination/Pagination'\r\nimport Loading from '../Loading/Loading'\r\nclass TeachingAssignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            teacherList: [],\r\n            subjectList: [],\r\n            teachingAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n\r\n            },\r\n            perpage: 10,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: null,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            showDelete: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, teacherList, subjectList] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getTeacherList(1, 1000000),\r\n                Api.getSubjectList(1, 1000000),\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                teacherList: teacherList.data.result.data,\r\n                subjectList: subjectList.data.result.data,\r\n                searchCondition: searchCondition\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchTeachingAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                teachingAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    changePerPage = async (e) => {\r\n        this.setState({ perpage: e.target.value })\r\n        await this.refresh(this.state.pagination.currentPage, e.target.value)\r\n    }\r\n    changePage = async (page) => {\r\n        await this.refresh(page, this.state.perpage)\r\n    }\r\n\r\n    getTeacherOption = () => {\r\n        let list = this.state.teacherList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { teacherId, teacherName, teacherCode } = list[i];\r\n            options.push({\r\n                name: teacherName + \" - \" + teacherCode,\r\n                value: teacherId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSubjectOption = () => {\r\n        let list = this.state.subjectList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { subjectId, subjectName } = list[i];\r\n            options.push({\r\n                name: subjectName,\r\n                value: subjectId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teachingAssignmentList.map((year, index) => {\r\n            const { teacherCode, teacherName, subjectName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{teacherCode}</td>\r\n                    <td>{teacherName}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{className}</td>\r\n                    <td>{schoolYear}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    addTeachingAssignment = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"add\",\r\n            modalLoading: false,\r\n            modalEdited: false,\r\n            modalData: {\r\n                classId: null,\r\n                className: \"\",\r\n                schoolYear: \"\",\r\n                schoolYearId: this.state.searchCondition.schoolYearId,\r\n                subjectId: null,\r\n                subjectName: \"\",\r\n                teacherCode: \"\",\r\n                teacherId: null,\r\n                teacherName: \"\",\r\n                teachingAssignmentId: 0,\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteTeachingAssignment = (index) => {\r\n        let teachingAssignment = this.state.teachingAssignmentList[index]\r\n        this.setState({\r\n            showDelete: true,\r\n            modalData: {\r\n                ...teachingAssignment\r\n            }\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                    getSchoolYearOption={this.getSchoolYearOption}\r\n                    getTeacherOption={this.getTeacherOption}\r\n                    getClassOption={this.getClassOption}\r\n                    getSubjectOption={this.getSubjectOption}\r\n                />\r\n                <ConfirmDelete\r\n                    show={this.state.showDelete}\r\n                    close={this.closeDelete}\r\n                    data={this.state.modalData}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu phân công giảng dạy\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                            <label className=\"ml-4\">Số lượng bản ghi mỗi trang:</label>\r\n                            <select className=\"form-control-sm ml-3\" value={this.state.perpage} onChange={this.changePerPage} style={{ width: \"70px\" }}>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"15\">15</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"30\">30</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Giáo viên:</label>\r\n                            <div className=\"ml-1 select-teacher\">\r\n                                <SelectSearch\r\n                                    options={this.getTeacherOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.teacherId}\r\n                                    onChange={v => this.changeSearchCondition(\"teacherId\", v)}\r\n                                />\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Môn học:</label>\r\n                            <div className=\"ml-1 select-subject\">\r\n                                <SelectSearch\r\n                                    options={this.getSubjectOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.subjectId}\r\n                                    onChange={v => this.changeSearchCondition(\"subjectId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Mã số giáo viên</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th>Môn học</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Năm học</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <Pagination pagination={this.state.pagination} changePage={this.changePage} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ConfirmDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    delete = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.deleteTeachingAssignment(this.props.data.teachingAssignmentId)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Xóa phân công giảng dạy thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.props.close()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận xóa</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn xóa phân công của giáo viên \"} <b> {this.props.data.teacherName} </b> {\" ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.delete}>Xóa</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm phân công giảng dạy\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa phân công giảng dạy\"\r\n        }\r\n        return \"Thông tin phân công giảng dạy\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addTeachingAssignment}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editTeachingAssignment}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    addTeachingAssignment = async () => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            await Api.addTeachingAssignment(this.props.data)\r\n            //console.log(res)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Thành công\",\r\n                message: `Thêm phân công giảng dạy thành công`,\r\n                type: \"success\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    //showIcon: true,\r\n                },\r\n                animationIn: [\"animate__slideInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n            this.closeAll()\r\n            this.props.refresh()\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"form-group\">\r\n                                    <label >Năm học</label>\r\n                                    <div >\r\n                                        <SelectSearch\r\n                                            options={this.props.getSchoolYearOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"schoolYearId\", value: v } }) }}\r\n                                            value={this.props.data.schoolYearId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Giáo viên</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getTeacherOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"teacherId\", value: v } }) }}\r\n                                            value={this.props.data.teacherId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"ml-2\">Lớp</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getClassOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"classId\", value: v } }) }}\r\n                                            value={this.props.data.classId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"\">Môn học</label>\r\n                                    <div>\r\n                                        <SelectSearch\r\n                                            options={this.props.getSubjectOption()}\r\n                                            search\r\n                                            filterOptions={fuzzySearch}\r\n                                            emptyMessage=\"Không tìm thấy\"\r\n                                            placeholder=\" \"\r\n                                            onChange={v => { this.changeHandler({ target: { name: \"subjectId\", value: v } }) }}\r\n                                            value={this.props.data.subjectId}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(TeachingAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh, } from 'react-icons/bi';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport '../../css/TeachingAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass MyTeachingAssignment extends Component {\r\n    constructor(props) {\r\n        //console.log(props)\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            subjectList: [],\r\n            teachingAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n            },\r\n            perpage: 1000000,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            term: 1,\r\n            kind: \"edit\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n            kind: this.props.location.state && this.props.location.state.kind\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, subjectList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getSubjectList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                subjectList: subjectList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                teacherId: teacher.data.result.teacherId\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchTeachingAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                teachingAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId,\r\n            teacherId: this.state.searchCondition.teacherId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSubjectOption = () => {\r\n        let list = this.state.subjectList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { subjectId, subjectName } = list[i];\r\n            options.push({\r\n                name: subjectName,\r\n                value: subjectId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getTermOptions = () => {\r\n        return [{ name: \"1\", value: 1 }, { name: \"2\", value: 2 }]\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teachingAssignmentList.map((year, index) => {\r\n            const { subjectName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{className}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td>{this.state.term}</td>\r\n                    {this.state.kind === \"edit\" &&\r\n                        <td className=\"text-center\">\r\n                            <button className=\"btn btn-danger\" onClick={() => this.inputScore(index)}>Nhập điểm</button>\r\n                        </td>\r\n                    }\r\n                    { this.state.kind !== \"edit\" &&\r\n                        <td className=\"text-center\">\r\n                            <button className=\"btn btn-danger\" onClick={() => this.viewScore(index)}>Xem điểm</button>\r\n                        </td>\r\n                    }\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    inputScore = (index) => {\r\n        this.props.history.push(\"/teaching-class-score\", {\r\n            term: this.state.term,\r\n            ...this.state.teachingAssignmentList[index],\r\n        })\r\n    }\r\n\r\n    viewScore = (index) => {\r\n        this.props.history.push(\"/search-score\", {\r\n            term: this.state.term,\r\n            ...this.state.teachingAssignmentList[index],\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Danh sách lớp dạy\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Kỳ học</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={this.getTermOptions()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.term}\r\n                                    onChange={v => this.setState({ term: v })}\r\n                                />\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Môn học:</label>\r\n                            <div className=\"ml-1 select-subject\">\r\n                                <SelectSearch\r\n                                    options={this.getSubjectOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.subjectId}\r\n                                    onChange={v => this.changeSearchCondition(\"subjectId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Môn học</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>Kỳ học</th>\r\n                                        <th>\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMyTeachingAssignment.contextType = AppContext\r\n\r\nexport default withRouter(MyTeachingAssignment);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/Statistic/RankStatistic.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\nimport Pdf from \"react-to-pdf\";\r\nimport ReactToPrint from 'react-to-print';\r\nconst ref = React.createRef()\r\n\r\nclass RankStatistic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            searchCondition: {},\r\n            iconSize: '15px',\r\n            homeroomTeacher: \"\",\r\n            studentList: [],\r\n            date: new Date()\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                term: 1,\r\n                teacherId: teacher.data.result.teacherId,\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n            }\r\n            console.log(searchCondition)\r\n            this.setState({\r\n                classList: homeroomClass.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, showReport: false })\r\n                return\r\n            }\r\n            let res = await Api.getRankReport(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                showReport: true,\r\n                loading: false,\r\n                studentList: res.data.data,\r\n                homeroomTeacher: res.data.homeroomTeacher,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        //console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: classList.data.result.data,\r\n                    searchCondition: searchCondition,\r\n                })\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.studentList.map((data, index) => {\r\n            const { studentName, gender, address, avgScore, scoreLevel, conduct } = data;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentName}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{avgScore}</td>\r\n                    <td>{conduct}</td>\r\n                    <td>{scoreLevel}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thống kê danh sách theo hạng\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" onSubmit={e => this.submitHandler(e)}>\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                    disabled={true}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"Cả năm\", value: 0 }, { name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-3\" onClick={(e) => { e.preventDefault(); this.refresh() }}>Xem kết quả</button>\r\n                        </form>\r\n                    </div>\r\n                    {this.state.showReport &&\r\n                        <div className=\"col-3\">\r\n                            <Pdf targetRef={ref} filename=\"rank-report.pdf\" scale={0.7} y={7}>\r\n                                {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary mr-2\" onClick={toPdf}>Xuất file</button>}\r\n                            </Pdf>\r\n                            <ReactToPrint\r\n                                trigger={() => {\r\n\r\n                                    return <button type=\"button\" className=\"btn btn-primary mr-2\">In thống kê</button>;\r\n                                }}\r\n                                content={() => this.componentRef}\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} style={{ overflow: \"auto\" }} >\r\n                        <div id=\"report\" ref={el => (this.componentRef = el)} className=\"container-fluid\" style={{ width: \"280mm\" }}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12 text-center statistic-title\">\r\n                                    <div>\r\n                                        <b>Danh sách học sinh theo xếp hạng</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Lớp: </b> {this.state.classList.find(e => e.classId === this.state.searchCondition.classId) && this.state.classList.find(e => e.classId === this.state.searchCondition.classId).className}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Học kỳ: </b> {this.state.searchCondition.term === 0 ? \"Cả năm\" : this.state.searchCondition.term}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th>Xếp hạng</th>\r\n                                                <th>Họ tên</th>\r\n                                                <th>Giới tính</th>\r\n                                                <th>Điểm trung bình</th>\r\n                                                <th>Hạnh kiểm</th>\r\n                                                <th>Học lực</th>\r\n                                                <th>Danh hiệu</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3 mb-2 justify-content-end\">\r\n                                <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5 text-center\">\r\n                                    Hà Nội, ngày {this.state.date.getDate()} tháng {this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                    <br />\r\n                                    <br />\r\n                                    <br />\r\n                                    {this.state.homeroomTeacher}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nRankStatistic.contextType = AppContext\r\n\r\nexport default withRouter(RankStatistic);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/Statistic/SubjectStatistic.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\nimport Pdf from \"react-to-pdf\";\r\nimport ReactToPrint from 'react-to-print';\r\nconst ref = React.createRef()\r\n\r\nclass SubjectStatistic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            homeroomTeacher: \"\",\r\n            date: new Date(),\r\n            scoreList: [],\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId,\r\n                term: 1,\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n            }\r\n            //console.log(searchCondition)\r\n            this.setState({\r\n                classList: homeroomClass.data.result.data,\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, showReport: false })\r\n                return\r\n            }\r\n            let res = await Api.getSubjectReport(1, 1000000, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                scoreList: res.data.data,\r\n                homeroomTeacher: res.data.homeroomTeacher,\r\n                loading: false,\r\n                showReport: true,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: classList.data.result.data,\r\n                    searchCondition: searchCondition,\r\n                })\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    renderTableData() {\r\n        let row = []\r\n        let list = this.state.scoreList\r\n        for (let i = 0; i < list.length; i++) {\r\n            const { nGioi, nKem, nKha, nNuGioi, nNuKem, nNuKha, nNuTB, nNuYeu, nTB, nYeu, subjectName, tlGioi, tlKem, tlKha, tlNuGioi, tlNuKem, tlNuKha, tlNuTB, tlNuYeu, tlTB, tlYeu } = list[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td rowSpan=\"2\" className=\"align-middle\">{subjectName}</td>\r\n                    <td>Nữ</td>\r\n                    <td>{nNuGioi}</td>\r\n                    <td>{tlNuGioi}</td>\r\n                    <td>{nNuKha}</td>\r\n                    <td>{tlNuKha}</td>\r\n                    <td>{nNuTB}</td>\r\n                    <td>{tlNuTB}</td>\r\n                    <td>{nNuYeu}</td>\r\n                    <td>{tlNuYeu}</td>\r\n                    <td>{nNuKem}</td>\r\n                    <td>{tlNuKem}</td>\r\n                </tr>\r\n            )\r\n            row.push(\r\n                <tr className=\"text-center\" key={\"TC\" + i}>\r\n                    <td>TC</td>\r\n                    <td>{nGioi}</td>\r\n                    <td>{tlGioi}</td>\r\n                    <td>{nKha}</td>\r\n                    <td>{tlKha}</td>\r\n                    <td>{nTB}</td>\r\n                    <td>{tlTB}</td>\r\n                    <td>{nYeu}</td>\r\n                    <td>{tlYeu}</td>\r\n                    <td>{nKem}</td>\r\n                    <td>{tlKem}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Thống kê kết quả môn học\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" >\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                    disabled={true}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Học kỳ:</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={[{ name: \"Cả năm\", value: 0 }, { name: \"1\", value: 1 }, { name: \"2\", value: 2 }]}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.term}\r\n                                    onChange={v => this.changeSearchCondition(\"term\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"btn btn-primary ml-3\" onClick={(e) => { e.preventDefault(); this.refresh() }}>Xem kết quả</button>\r\n                        </form>\r\n                    </div>\r\n                    {this.state.showReport &&\r\n                        <div className=\"col-3\">\r\n                            <Pdf targetRef={ref} filename=\"subject-report.pdf\" scale={0.7} y={7}>\r\n                                {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary mr-2\" onClick={toPdf}>Xuất file</button>}\r\n                            </Pdf>\r\n                            <ReactToPrint\r\n                                trigger={() => {\r\n\r\n                                    return <button type=\"button\" className=\"btn btn-primary mr-2\">In thống kê</button>;\r\n                                }}\r\n                                content={() => this.componentRef}\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} style={{ overflow: \"auto\" }} >\r\n                        <div id=\"report\" ref={el => (this.componentRef = el)} className=\"container-fluid\" style={{ width: \"280mm\" }}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12 text-center statistic-title\">\r\n                                    <div>\r\n                                        <b>Thống kê xếp loại môn học của lớp {this.state.classList[this.state.class]}</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Học kỳ: </b> {this.state.searchCondition.term === 0 ? \"Cả năm\" : this.state.searchCondition.term}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                    </span>\r\n                                    <span className=\"mr-5 ml-5\">\r\n                                        <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered table-striped\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th rowSpan=\"2\" colSpan=\"2\"></th>\r\n                                                <th colSpan=\"2\">Giỏi</th>\r\n                                                <th colSpan=\"2\">Khá</th>\r\n                                                <th colSpan=\"2\">Trung Bình</th>\r\n                                                <th colSpan=\"2\">Yếu</th>\r\n                                                <th colSpan=\"2\">Kém</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                                <th>SL</th>\r\n                                                <th>TL</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row mt-3 mb-2 justify-content-end\">\r\n                                <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5 text-center\">\r\n                                    Hà Nội, ngày {this.state.date.getDate()} tháng {this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                    <br />\r\n                                    <br />\r\n                                    <br />\r\n                                    {this.state.homeroomTeacher}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\nSubjectStatistic.contextType = AppContext\r\n\r\nexport default withRouter(SubjectStatistic);\r\n","import {\r\n    BsArrowLeftShort,\r\n} from \"react-icons/bs\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport \"../../css/SchoolYear.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Api from '../../api/api'\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { withRouter } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport AppContext from '../../context/AppContext'\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport packagejson from '../../../package.json';\r\nclass SearchHomeroomClassInfo extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //state is by default an object\r\n            studentList: [],\r\n            perpage: 10,\r\n            loading: true,\r\n            modalData: {\r\n                studentId: 0,\r\n                studentCode: \"\",\r\n                studentName: \"\",\r\n                address: \"\",\r\n                permanentResidence: \"\",\r\n                gender: 1,\r\n                pId: \"\",\r\n                image: \"http://localhost:3000/user.png\",\r\n                dateOfBirth: new Date(),\r\n                email: \"\",\r\n                phoneNumber: \"\",\r\n                dateOfParty: new Date(),\r\n                dateOfUnion: new Date(),\r\n                accountName: \"\",\r\n                fatherName: \"\",\r\n                fatherPhone: \"\",\r\n                fatherMail: \"\",\r\n                motherName: \"\",\r\n                motherPhone: \"\",\r\n                motherMail: \"\"\r\n            },\r\n            showModal: false,\r\n            modalKind: \"\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n            homeroomTeacher: {},\r\n            schoolYearList: [],\r\n            searchCondition: {},\r\n            class: {},\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let [schoolYearList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ])\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId,\r\n            }\r\n            let homeroomClass = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n            if (homeroomClass.data.result.data.length) {\r\n                searchCondition.classId = homeroomClass.data.result.data[0].classId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                homeroomTeacher: teacher.data.result,\r\n                searchCondition: searchCondition,\r\n                class: homeroomClass.data.result.data.length ? homeroomClass.data.result.data[0] : {},\r\n                loading: false\r\n            })\r\n            await this.refresh(searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n            if (!this.state.searchCondition.classId) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không là giáo viên chủ nhiệm lớp trong năm học này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({ loading: false, studentList: [] })\r\n                return\r\n            }\r\n            let res = await Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            this.setState({ loading: false, studentList: res.data.result.data, showReport: true })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            searchCondition.classId = undefined;\r\n            try {\r\n                let classList = await Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition)\r\n                if (classList.data.result.data.length) {\r\n                    searchCondition.classId = classList.data.result.data[0].classId\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    class: classList.data.result.data.length ? classList.data.result.data[0] : {},\r\n                    searchCondition: searchCondition,\r\n                })\r\n                await this.refresh(searchCondition)\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    renderTableHeader() {\r\n        return (\r\n            <tr>\r\n                <th>STT</th>\r\n                <th>Mã số học sinh</th>\r\n                <th>Họ tên</th>\r\n                <th>Ngày sinh</th>\r\n                <th>Giới tính</th>\r\n                <th>Nơi sinh</th>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.studentList.map((year, index) => {\r\n            const { studentCode, studentName, dateOfBirth, gender, address } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentCode}</span></td>\r\n                    <td><span className=\"text-primary\" style={{ cursor: \"pointer\" }} onClick={() => this.showInfo(index)}>{studentName}</span></td>\r\n                    <td>{this.formatDate(new Date(dateOfBirth))}</td>\r\n                    <td>{gender === 1 ? \"Nam\" : \"Nữ\"}</td>\r\n                    <td>{address}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    showInfo = async (index) => {\r\n        let studentId = this.state.studentList[index].studentId\r\n        this.setState({\r\n            showModal: true,\r\n            modalKind: \"info\",\r\n            modalLoading: true,\r\n            modalEdited: false,\r\n        })\r\n        try {\r\n            let student = await Api.getStudent(studentId)\r\n            student = student.data.result\r\n            student.dateOfBirth = new Date(student.dateOfBirth)\r\n            student.dateOfUnion = new Date(student.dateOfUnion)\r\n            student.dateOfParty = new Date(student.dateOfParty)\r\n            this.setState({\r\n                showModal: true,\r\n                modalKind: \"info\",\r\n                modalLoading: false,\r\n                modalEdited: false,\r\n                modalData: {\r\n                    ...student\r\n                }\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({\r\n                showModal: false,\r\n                modalKind: \"info\",\r\n                modalLoading: false,\r\n            })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <Dialog\r\n                    show={this.state.showModal}\r\n                    kind={this.state.modalKind}\r\n                    close={this.closeModal}\r\n                    data={this.state.modalData}\r\n                    loading={this.state.modalLoading}\r\n                    setData={(data) => this.setState({ modalData: data, modalEdited: true })}\r\n                    edited={this.state.modalEdited}\r\n                    refresh={this.refresh}\r\n                />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Xem thông tin lớp chủ nhiệm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-9\">\r\n                        <form className=\"form-inline\" >\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div>\r\n                        <div className=\"row mt-3\">\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                                <span className=\"mr-5 ml-5\">\r\n                                    <b>Lớp: </b> {this.state.class.className}\r\n                                </span>\r\n                                <span className=\"mr-5 ml-5\">\r\n                                    <b>Năm học: </b> {this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId) && this.state.schoolYearList.find(e => e.schoolYearId === this.state.searchCondition.schoolYearId).schoolYear}\r\n                                </span>\r\n                                <span className=\"mr-5 ml-5\">\r\n                                    <b>Giáo viên chủ nhiệm: </b> {this.state.homeroomTeacher.teacherName}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <br></br>\r\n                        <div style={{ minHeight: \"430px\" }}>\r\n                            <Table striped bordered hover >\r\n                                <thead className=\"table-header\">\r\n                                    {this.renderTableHeader()}\r\n                                </thead>\r\n                                <tbody>{this.renderTableData()}</tbody>\r\n                            </Table>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showConfirm: false,\r\n            message: \"Bạn có chắc chắn muốn thoát không ?\",\r\n            loading: false,\r\n        }\r\n    }\r\n\r\n    getTitle = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return \"Thêm học sinh\"\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return \"Sửa học sinh\"\r\n        }\r\n        return \"Thông tin học sinh\"\r\n    }\r\n\r\n    getButton = () => {\r\n        if (this.props.kind === \"add\") {\r\n            return <Button onClick={this.addStudent}>Thêm</Button>\r\n        }\r\n        if (this.props.kind === \"edit\") {\r\n            return <Button onClick={this.editStudent}>Sửa</Button>\r\n        }\r\n        return null\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.edited) {\r\n            this.setState({\r\n                showConfirm: true\r\n            })\r\n        } else {\r\n            this.props.close()\r\n        }\r\n    }\r\n\r\n    closeAll = () => {\r\n        this.setState({ showConfirm: false })\r\n        this.props.close()\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        // console.log(e)\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let data = this.props.data\r\n        data[name] = value\r\n        this.props.setData(data)\r\n    }\r\n\r\n    closeConfirm = () => {\r\n        this.setState({\r\n            showConfirm: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Modal size=\"lg\" show={this.props.show} onHide={this.close} centered backdrop=\"static\" keyboard={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.getTitle()}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.props.loading && <div className=\"container-fluid d-flex justify-content-center\" style={{ height: \"300px\" }}>\r\n                            <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                                <div className=\"spinner-border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        </div >}\r\n\r\n                        {!this.props.loading &&\r\n                            <div className=\"container-fluid\">\r\n                                <Form>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên học sinh\"\r\n                                                    name=\"studentName\"\r\n                                                    value={this.props.data.studentName}\r\n\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Mã học sinh</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập mã học sinh\"\r\n                                                    name=\"studentCode\"\r\n                                                    value={this.props.data.studentCode}\r\n\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày sinh</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfBirth}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại\"\r\n                                                    name=\"phoneNumber\"\r\n                                                    value={this.props.data.phoneNumber}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Giới tính</Form.Label>\r\n                                                <Form.Control\r\n                                                    as=\"select\"\r\n                                                    name=\"gender\"\r\n                                                    value={this.props.data.subjectName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                >\r\n                                                    <option value=\"1\">Nam</option>\r\n                                                    <option value=\"0\">Nữ</option>\r\n                                                </Form.Control>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"email\"\r\n                                                    name=\"email\"\r\n                                                    value={this.props.data.email}\r\n                                                    onChange={this.changeHandler}\r\n                                                    placeholder=\"Nhập email\"\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ảnh</Form.Label>\r\n                                            </Form.Group>\r\n                                            <img src={packagejson.proxy + \"\\\\\" + this.props.data.image} alt=\"avatar\" style={{ width: \"100%\", height: \"auto\" }} />\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên bố\"\r\n                                                    name=\"fatherName\"\r\n                                                    value={this.props.data.fatherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số CMND</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số CMND\"\r\n                                                    name=\"pId\"\r\n                                                    value={this.props.data.pId}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại bố\"\r\n                                                    name=\"fatherPhone\"\r\n                                                    value={this.props.data.fatherPhone}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Hộ khẩu thường trú</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập hộ khẩu thường trú\"\r\n                                                    name=\"permanentResidence\"\r\n                                                    value={this.props.data.permanentResidence}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email bố</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập email bố\"\r\n                                                    name=\"fatherMail\"\r\n                                                    value={this.props.data.fatherMail}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Nơi ở hiện nay</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập nơi ở hiện nay\"\r\n                                                    name=\"address\"\r\n                                                    value={this.props.data.address}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Họ tên mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập họ tên mẹ\"\r\n                                                    name=\"motherName\"\r\n                                                    value={this.props.data.motherName}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đoàn</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfUnion}\r\n                                                        onChange={value => this.changeHandler({ target: { name: \"dateOfUnion\", value: value } })}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Số điện thoại mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập số điện thoại mẹ\"\r\n                                                    name=\"motherPhone\"\r\n                                                    value={this.props.data.motherPhone}\r\n                                                    onChange={this.changeHandler}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Ngày vào Đảng</Form.Label>\r\n                                                <div className=\"w-100\">\r\n                                                    <DatePicker\r\n                                                        selected={this.props.data.dateOfParty}\r\n                                                        dateFormat=\"dd/MM/yyyy\"\r\n                                                        className=\"form-control w-100\"\r\n                                                        readOnly={this.props.kind === \"info\"}\r\n                                                    />\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <Form.Group>\r\n                                                <Form.Label>Email mẹ</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Nhập email mẹ\"\r\n                                                    name=\"motherMail\"\r\n                                                    value={this.props.data.motherMail}\r\n                                                    readOnly={this.props.kind === \"info\"}\r\n                                                />\r\n                                            </Form.Group>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.close}>Hủy</Button>\r\n                        {this.getButton()}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal show={this.state.showConfirm} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {this.state.message}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.closeConfirm}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={this.closeAll}>Đóng</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nSearchHomeroomClassInfo.contextType = AppContext\r\nexport default withRouter(SearchHomeroomClassInfo);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/TeachingClassScore.css';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { store } from 'react-notifications-component';\r\nimport Loading from '../Loading/Loading'\r\nimport { Modal, Button } from 'react-bootstrap'\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\n\r\n\r\nclass SearchScore extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            info: {},\r\n            scoreList: [],\r\n            edited: false,\r\n            submitLoading: false,\r\n            showConfirm: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n        })\r\n        //console.log(this.props.location.state);\r\n        if (!this.props.location.state) {\r\n            this.props.history.push(\"/my-teaching-assignment\", {\r\n                kind: \"info\"\r\n            })\r\n            return\r\n        }\r\n\r\n        this.unblock = this.props.history.block(tx => {\r\n            if (!this.state.edited) {\r\n                this.unblock()\r\n                return true\r\n            } else {\r\n                this.setState({\r\n                    showConfirm: true,\r\n                })\r\n                return false\r\n            }\r\n        });\r\n        let info = this.props.location.state\r\n        this.setState({ info: info })\r\n        try {\r\n            await this.refresh()\r\n            this.setState({ loading: false })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.unblock) {\r\n            this.unblock()\r\n        }\r\n    }\r\n\r\n    refresh = async () => {\r\n        let info = this.props.location.state\r\n        this.setState({ loading: true })\r\n        try {\r\n            let studentAssignmentList = await Api.searchStudentAssignment(1, 1000000, {\r\n                schoolYearId: info.schoolYearId,\r\n                classId: info.classId,\r\n            })\r\n            studentAssignmentList = studentAssignmentList.data.result.data\r\n            //console.log(studentAssignmentList)\r\n            let listApi = []\r\n            for (let i = 0; i < studentAssignmentList.length; i++) {\r\n                listApi.push(\r\n                    Api.getSubjectScore(studentAssignmentList[i].studentId, info.subjectId, info.schoolYearId, info.term)\r\n                )\r\n            }\r\n            let scoreList = await Promise.all(listApi);\r\n            //console.log(scoreList)\r\n            let list = [];\r\n            for (let i = 0; i < scoreList.length; i++) {\r\n                list.push({\r\n                    ...studentAssignmentList[i],\r\n                    scoreMouth: [],\r\n                    score15: [],\r\n                    score45: [],\r\n                    scoreTerm: {},\r\n                })\r\n                let scores = scoreList[i].data.scores\r\n                for (let j = 0; j < scores.length; j++) {\r\n                    switch (scores[j].kind) {\r\n                        case 0: list[i].scoreMouth.push(scores[j]);\r\n                            break;\r\n                        case 1: list[i].score15.push(scores[j]);\r\n                            break;\r\n                        case 2: list[i].score45.push(scores[j]);\r\n                            break;\r\n                        case 3: list[i].scoreTerm = scores[j];\r\n                            break;\r\n                        default:\r\n                    }\r\n                }\r\n                while (list[i].scoreMouth.length < 5) {\r\n                    list[i].scoreMouth.push({\r\n                        kind: 0,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                while (list[i].score15.length < 5) {\r\n                    list[i].score15.push({\r\n                        kind: 1,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                while (list[i].score45.length < 3) {\r\n                    list[i].score45.push({\r\n                        kind: 2,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    })\r\n                }\r\n                if (!list[i].scoreTerm.scoreId) {\r\n                    list[i].scoreTerm = {\r\n                        kind: 3,\r\n                        schoolYearId: info.schoolYearId,\r\n                        score: \"\",\r\n                        studentId: studentAssignmentList[i].studentId,\r\n                        subjectId: info.subjectId,\r\n                        teacherId: info.teacherId,\r\n                        term: info.term,\r\n                    }\r\n                }\r\n            }\r\n            console.log(list)\r\n            this.setState({\r\n                loading: false,\r\n                scoreList: list,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = 1\r\n        return this.state.scoreList.map((data, index) => {\r\n            const { studentCode, studentName, scoreMouth, score15, score45, scoreTerm } = data;\r\n            let list = []\r\n            for (let i = 0; i < scoreMouth.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"mouth\" + i}>\r\n                        <input disabled className=\"score-input form-control\" type=\"text\" value={scoreMouth[i].score} onChange={(e) => this.changeScore(index, 0, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            for (let i = 0; i < score15.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"score15\" + i}>\r\n                        <input disabled className=\"score-input form-control\" type=\"text\" value={score15[i].score} onChange={(e) => this.changeScore(index, 1, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            for (let i = 0; i < score45.length; i++) {\r\n                list.push(\r\n                    <td className=\"td-score\" key={\"score45\" + i}>\r\n                        <input disabled className=\"score-input form-control\" type=\"text\" value={score45[i].score} onChange={(e) => this.changeScore(index, 2, i, e)} />\r\n                    </td>\r\n                )\r\n            }\r\n            list.push(\r\n                <td className=\"td-score\" key={\"score-term\"}>\r\n                    <input disabled className=\"score-input form-control\" type=\"text\" value={scoreTerm.score} onChange={(e) => this.changeScore(index, 3, 0, e)} />\r\n                </td>\r\n            )\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{studentCode}</td>\r\n                    <td>{studentName}</td>\r\n                    {list}\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        //console.log(this.state)\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Confirm\r\n                    show={this.state.showConfirm}\r\n                    close={this.closeConfirm}\r\n                    unblock={this.unblock}\r\n                    goBack={this.back}\r\n                />\r\n                <Loading show={this.state.submitLoading} />\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Tra cứu điểm\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-6 mt-1\">\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Năm học: </b>{this.state.info.schoolYear}\r\n                        </span>\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Lớp: </b>{this.state.info.className}\r\n                        </span>\r\n                        <span className=\"mr-4 align-middle\">\r\n                            <b>Học kỳ: </b>{this.state.info.term}\r\n                        </span>\r\n\r\n                        <span className=\"align-middle\">\r\n                            <b>Môn: </b>{this.state.info.subjectName}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <form className=\"text-center\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>MSHS</th>\r\n                                        <th>Họ tên</th>\r\n                                        <th colSpan=\"5\">Miệng</th>\r\n                                        <th colSpan=\"5\">15 phút</th>\r\n                                        <th colSpan=\"3\">1 tiết</th>\r\n                                        <th>thi</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Confirm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.show} backdrop=\"static\" keyboard={false} >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Xác nhận thoát</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            {\"Bạn chắc chắn muốn thoát, các thay đổi sẽ không được lưu ?\"}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.close}>Hủy</Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.unblock(); this.props.goBack() }}>Thoát</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <Loading show={this.state.loading} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchScore);","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport '../../css/StudentPLL.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport { withRouter } from 'react-router-dom'\r\nimport AppContext from '../../context/AppContext'\r\nimport Pdf from \"react-to-pdf\";\r\nconst ref = React.createRef()\r\nclass StudentPLL extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            iconSize: '15px',\r\n            searchCondition: {},\r\n            studentList: [],\r\n            classList: [],\r\n            loading: false,\r\n            showReport: false,\r\n            scoreList: [],\r\n            PLL: {},\r\n            date: new Date(),\r\n            teacher: {}\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try {\r\n            let [schoolYearList, student] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getStudentByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                studentId: student.data.result.studentId,\r\n            }\r\n            console.log(searchCondition)\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                loading: false,\r\n                student: student.data.result\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (searchCondition) => {\r\n        this.setState({ loading: true, showReport: false })\r\n        try {\r\n\r\n            let studentAssignment = await Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            if (studentAssignment.data.result.data.length === 0) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Bạn không có phiếu liên lạc trong thời điểm này\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                this.setState({\r\n                    loading: false,\r\n                    showReport: false\r\n                })\r\n                return\r\n            }\r\n            let [res, score, teacher] = await Promise.all([\r\n                Api.getPLL(searchCondition || this.state.searchCondition),\r\n                Api.getStudentScoreSummary(searchCondition || this.state.searchCondition),\r\n                Api.searchHomeroomTeacherAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n            ])\r\n            console.log(res, score)\r\n            this.setState({\r\n                teacher: teacher.data.result.data[0],\r\n                studentAssignment: studentAssignment.data.result.data[0],\r\n                scoreList: score.data.data,\r\n                PLL: res.data,\r\n                showReport: true,\r\n                loading: false,\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    changeSearchCondition = async (name, value) => {\r\n        //console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        if (name === \"schoolYearId\") {\r\n            this.setState({ loading: true, showReport: false })\r\n            try {\r\n                let studentAssignment = await Api.searchStudentAssignment(1, 1000000, searchCondition || this.state.searchCondition)\r\n                if (studentAssignment.data.result.data.length === 0) {\r\n                    store.addNotification({\r\n                        title: \"Thông báo\",\r\n                        message: \"Bạn không có phiếu liên lạc trong thời điểm này\",\r\n                        type: \"info\",\r\n                        container: \"top-center\",\r\n                        dismiss: {\r\n                            duration: 5000,\r\n                            showIcon: true,\r\n                        },\r\n                        animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                        animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                    })\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    studentAssignment: studentAssignment.data.result.data[0],\r\n                    searchCondition: searchCondition,\r\n                })\r\n            } catch (err) {\r\n                this.setState({\r\n                    loading: false,\r\n                    classList: [],\r\n                    studentList: [],\r\n                    searchCondition: searchCondition,\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    formatDate = (d) => {\r\n        let dd = d.getDate()\r\n        let mm = d.getMonth() + 1\r\n        let yyyy = d.getFullYear()\r\n        if (dd < 10) { dd = '0' + dd }\r\n        if (mm < 10) { mm = '0' + mm }\r\n        return dd + '/' + mm + '/' + yyyy\r\n    }\r\n\r\n    renderTableData() {\r\n        let scoreList = this.state.scoreList;\r\n        let row = [];\r\n        for (let i = 0; i < scoreList.length; i++) {\r\n            let { subjectName, score1, score2, avgScore1, avgScore2, avgScoreYear } = scoreList[i];\r\n            row.push(\r\n                <tr className=\"text-center\" key={i}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{score1[0][0]}</td>\r\n                    <td>{score1[0][1]}</td>\r\n                    <td>{score1[0][2]}</td>\r\n                    <td>{score1[0][3]}</td>\r\n                    <td>{score1[0][4]}</td>\r\n                    <td>{score1[1][0]}</td>\r\n                    <td>{score1[1][1]}</td>\r\n                    <td>{score1[1][2]}</td>\r\n                    <td>{score1[1][3]}</td>\r\n                    <td>{score1[1][4]}</td>\r\n                    <td>{score1[2][0]}</td>\r\n                    <td>{score1[2][1]}</td>\r\n                    <td>{score1[2][2]}</td>\r\n                    <td>{score1[3][0]}</td>\r\n                    <td>{score2[0][0]}</td>\r\n                    <td>{score2[0][1]}</td>\r\n                    <td>{score2[0][2]}</td>\r\n                    <td>{score2[0][3]}</td>\r\n                    <td>{score2[0][4]}</td>\r\n                    <td>{score2[1][0]}</td>\r\n                    <td>{score2[1][1]}</td>\r\n                    <td>{score2[1][2]}</td>\r\n                    <td>{score2[1][3]}</td>\r\n                    <td>{score2[1][4]}</td>\r\n                    <td>{score2[2][0]}</td>\r\n                    <td>{score2[2][1]}</td>\r\n                    <td>{score2[2][2]}</td>\r\n                    <td>{score2[3][0]}</td>\r\n                    <td>{avgScore1}</td>\r\n                    <td>{avgScore2}</td>\r\n                    <td>{avgScoreYear}</td>\r\n                </tr>\r\n            )\r\n        }\r\n        return row;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n\r\n        let { PLL } = this.state\r\n        let student = this.state.student\r\n        let _class = this.state.studentAssignment\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Xuất phiếu liên lạc\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"form-inline\">\r\n                            <label>Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button onClick={() => this.refresh()} type=\"button\" className=\"btn btn-primary ml-auto\">Xem phiếu liên lạc</button>\r\n                            {this.state.showReport &&\r\n                                <div className=\"col-3\">\r\n                                    <Pdf targetRef={ref} filename=\"phieu-lien-lac.pdf\" scale={0.52} y={7}>\r\n                                        {({ toPdf }) => <button type=\"button\" className=\"btn btn-primary ml-3\" onClick={toPdf}>Xuất file phiếu liên lạc</button>}\r\n                                    </Pdf>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <hr />\r\n                {this.state.showReport &&\r\n                    <div ref={ref} className=\"d-flex\" style={{ overflow: \"auto\" }} >\r\n                        <div style={{ width: \"380mm\" }} className=\"ml-auto mr-auto\">\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-12 text-center pll-title\">\r\n                                    <div>\r\n                                        <b>Phiếu liên lạc điện tử</b><br />\r\n                            Trường Trung học cơ sở ABC\r\n                        </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Học sinh: </b>{student.studentName}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Ngày sinh: </b>{this.formatDate(new Date(student.dateOfBirth))}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Lớp: </b> { } {_class.className}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3 text-center\">\r\n                                    <div>\r\n                                        <b>Năm học: </b>{_class.schoolYear}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered student-score-summary\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th rowSpan=\"2\">STT</th>\r\n                                                <th rowSpan=\"2\" className=\"subject\">Môn học</th>\r\n                                                <th colSpan=\"14\">Học kỳ 1</th>\r\n                                                <th colSpan=\"14\">Học kỳ 2</th>\r\n                                                <th rowSpan=\"2\">TB kỳ 1</th>\r\n                                                <th rowSpan=\"2\">TB kỳ 2</th>\r\n                                                <th rowSpan=\"2\">TB năm</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th colSpan=\"5\">Miệng</th>\r\n                                                <th colSpan=\"5\">15 phút</th>\r\n                                                <th colSpan=\"3\">1 tiết</th>\r\n                                                <th >Thi</th>\r\n                                                <th colSpan=\"5\">Miệng</th>\r\n                                                <th colSpan=\"5\">15 phút</th>\r\n                                                <th colSpan=\"3\">1 tiết</th>\r\n                                                <th >Thi</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.renderTableData()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th >Tổng kết</th>\r\n                                                <th >Điểm trung bình</th>\r\n                                                <th >Học lực</th>\r\n                                                <th >Hạnh kiểm</th>\r\n                                                <th >Xếp hạng</th>\r\n                                                <th >Danh hiệu</th>\r\n                                                <th >Vắng có phép</th>\r\n                                                <th >Vắng không phép</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Học kỳ 1</td>\r\n                                                <td>{PLL.result1.avgScore}</td>\r\n                                                <td>{PLL.result1.scoreTitle}</td>\r\n                                                <td>{PLL.result1.conductTitle}</td>\r\n                                                <td>{PLL.result1.rank}</td>\r\n                                                <td>{PLL.result1.title}</td>\r\n                                                <td>{PLL.result1.nVangCoPhep}</td>\r\n                                                <td>{PLL.result1.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Học kỳ 2</td>\r\n                                                <td>{PLL.result2.avgScore}</td>\r\n                                                <td>{PLL.result2.scoreTitle}</td>\r\n                                                <td>{PLL.result2.conductTitle}</td>\r\n                                                <td>{PLL.result2.rank}</td>\r\n                                                <td>{PLL.result2.title}</td>\r\n                                                <td>{PLL.result2.nVangCoPhep}</td>\r\n                                                <td>{PLL.result2.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td>Cả năm</td>\r\n                                                <td>{PLL.result0.avgScore}</td>\r\n                                                <td>{PLL.result0.scoreTitle}</td>\r\n                                                <td>{PLL.result0.conductTitle}</td>\r\n                                                <td>{PLL.result0.rank}</td>\r\n                                                <td>{PLL.result0.title}</td>\r\n                                                <td>{PLL.result0.nVangCoPhep}</td>\r\n                                                <td>{PLL.result0.nVangKoPhep}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"text-center\">\r\n                                            <tr>\r\n                                                <th colSpan=\"2\">Ý kiến PHHS</th>\r\n                                                <th colSpan=\"2\">Ý kiến GVCN</th>\r\n                                                <th colSpan=\"2\">Kết quả cuối năm</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr className=\"text-left\">\r\n                                                <td colSpan=\"2\"></td>\r\n                                                <td colSpan=\"2\">{PLL.result1.note} {\"\\n\"} {PLL.result2.note}</td>\r\n                                                <td colSpan=\"2\">\r\n                                                    Được lên lớp:<br />{PLL.result0.isGradeUp}\r\n                                        Thi lại môn:\r\n                                    </td>\r\n                                            </tr>\r\n                                            <tr className=\"text-center\">\r\n                                                <td colSpan=\"3\">\r\n                                                    <b>Hiệu trưởng</b>\r\n                                                </td>\r\n                                                <td colSpan=\"3\">\r\n                                                    Hà Nội, ngày {this.state.date.getDate() < 10 ? \"0\" + this.state.date.getDate() : this.state.date.getDate()} tháng {this.state.date.getMonth() < 9 ? \"0\" + (this.state.date.getMonth() + 1) : this.state.date.getMonth() + 1} năm {this.state.date.getFullYear()}<br />\r\n                        Giáo viên chủ nhiệm<br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    <br />\r\n                                                    {this.state.teacher.teacherName}\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nStudentPLL.contextType = AppContext\r\n\r\nexport default withRouter(StudentPLL);\r\n","import React, { Component } from \"react\";\r\nimport Api from \"../../api/api\";\r\nimport { BiSearch, BiRefresh, } from 'react-icons/bi';\r\nimport { BsArrowLeftShort } from 'react-icons/bs'\r\nimport '../../css/TeachingAssignment.css';\r\nimport { store } from 'react-notifications-component';\r\nimport SelectSearch, { fuzzySearch } from 'react-select-search';\r\nimport { withRouter } from 'react-router-dom'\r\nimport 'react-select-search/style.css'\r\nimport AppContext from '../../context/AppContext'\r\n\r\nclass MyTeachingAssignment extends Component {\r\n    constructor(props) {\r\n        //console.log(props)\r\n        super(props);\r\n        this.state = {\r\n            schoolYearList: [],\r\n            classList: [],\r\n            termList: [],\r\n            subjectList: [],\r\n            teachingAssignmentList: [],\r\n            iconSize: '20px',\r\n            searchCondition: {\r\n            },\r\n            perpage: 1000000,\r\n            pagination: {\r\n                currentPage: 1,\r\n                lastPage: 1,\r\n            },\r\n            loading: true,\r\n            term: 1,\r\n            kind: \"edit\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n            kind: this.props.location.state && this.props.location.state.kind\r\n        })\r\n        try {\r\n            let [schoolYearList, classList, subjectList, teacher] = await Promise.all([\r\n                Api.getSchoolYearList(1, 1000000),\r\n                Api.getClassList(1, 1000000),\r\n                Api.getSubjectList(1, 1000000),\r\n                Api.getTeacherByCode(this.context.user.userCode)\r\n            ]);\r\n            let searchCondition = {\r\n                schoolYearId: schoolYearList.data.result.data[schoolYearList.data.result.data.length - 1].schoolYearId,\r\n                teacherId: teacher.data.result.teacherId\r\n            }\r\n            this.setState({\r\n                schoolYearList: schoolYearList.data.result.data,\r\n                classList: classList.data.result.data,\r\n                subjectList: subjectList.data.result.data,\r\n                searchCondition: searchCondition,\r\n                teacherId: teacher.data.result.teacherId\r\n            })\r\n            await this.refresh(1, this.state.perpage, searchCondition)\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    refresh = async (page, perpage, searchCondition) => {\r\n        this.setState({ loading: true })\r\n        try {\r\n            let res = await Api.searchTeachingAssignment(page || this.state.pagination.currentPage, perpage || this.state.perpage, searchCondition || this.state.searchCondition)\r\n            console.log(res)\r\n            this.setState({\r\n                loading: false,\r\n                teachingAssignmentList: res.data.result.data,\r\n                pagination: res.data.result.pagination,\r\n            })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            this.setState({ loading: false })\r\n            if (err.response && err.response.status === 400) {\r\n                store.addNotification({\r\n                    title: \"Thông báo\",\r\n                    message: \"Danh sách rỗng\",\r\n                    type: \"info\",\r\n                    container: \"top-center\",\r\n                    dismiss: {\r\n                        duration: 5000,\r\n                        showIcon: true,\r\n                    },\r\n                    animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                    animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n                })\r\n                return\r\n            }\r\n            store.addNotification({\r\n                title: \"Hệ thống có lỗi\",\r\n                message: \"Vui lòng liên hệ quản trị viên hoặc thử lại sau\",\r\n                type: \"danger\",\r\n                container: \"top-center\",\r\n                dismiss: {\r\n                    duration: 5000,\r\n                    showIcon: true,\r\n                },\r\n                animationIn: [\"animate__backInDown\", \"animate__animated\"],\r\n                animationOut: [\"animate__fadeOutUp\", \"animate__animated\"],\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshClear() {\r\n        let searchCondition = {\r\n            schoolYearId: this.state.searchCondition.schoolYearId,\r\n            teacherId: this.state.searchCondition.teacherId\r\n        }\r\n        this.setState({\r\n            searchCondition: searchCondition\r\n        })\r\n        this.refresh(1, this.state.perpage, searchCondition)\r\n    }\r\n\r\n    getSchoolYearOption = () => {\r\n        let list = this.state.schoolYearList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { schoolYearId, schoolYear } = list[i];\r\n            options.push({\r\n                name: schoolYear,\r\n                value: schoolYearId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getClassOption = () => {\r\n        let list = this.state.classList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { classId, className } = list[i];\r\n            options.push({\r\n                name: className,\r\n                value: classId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getSubjectOption = () => {\r\n        let list = this.state.subjectList\r\n        let options = []\r\n        for (let i = 0; i < list.length; i++) {\r\n            let { subjectId, subjectName } = list[i];\r\n            options.push({\r\n                name: subjectName,\r\n                value: subjectId\r\n            })\r\n        }\r\n        return options\r\n    }\r\n\r\n    getTermOptions = () => {\r\n        return [{ name: \"1\", value: 1 }, { name: \"2\", value: 2 }]\r\n    }\r\n\r\n    changeSearchCondition = (name, value) => {\r\n        console.log(name, value)\r\n        let searchCondition = this.state.searchCondition\r\n        searchCondition[name] = value\r\n        this.setState({ searchCondition: searchCondition })\r\n    }\r\n\r\n    renderTableData() {\r\n        let sttBase = this.state.perpage * (this.state.pagination.currentPage - 1) + 1\r\n        return this.state.teachingAssignmentList.map((year, index) => {\r\n            const { subjectName, className, schoolYear } = year;\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{sttBase + index}</td>\r\n                    <td>{subjectName}</td>\r\n                    <td>{className}</td>\r\n                    <td>{schoolYear}</td>\r\n                    <td>{this.state.term}</td>\r\n                    {this.state.kind === \"edit\" &&\r\n                        <td className=\"text-center\">\r\n                            <button className=\"btn btn-danger\" onClick={() => this.inputScore(index)}>Nhập điểm</button>\r\n                        </td>\r\n                    }\r\n                    { this.state.kind !== \"edit\" &&\r\n                        <td className=\"text-center\">\r\n                            <button className=\"btn btn-danger\" onClick={() => this.viewScore(index)}>Xem điểm</button>\r\n                        </td>\r\n                    }\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    inputScore = (index) => {\r\n        this.props.history.push(\"/teaching-class-score\", {\r\n            term: this.state.term,\r\n            ...this.state.teachingAssignmentList[index],\r\n        })\r\n    }\r\n\r\n    viewScore = (index) => {\r\n        this.props.history.push(\"/search-score\", {\r\n            term: this.state.term,\r\n            ...this.state.teachingAssignmentList[index],\r\n        })\r\n    }\r\n\r\n    closeDelete = () => {\r\n        this.setState({ showDelete: false });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return (\r\n                <div className=\"container-fluid d-flex justify-content-center\">\r\n                    <div className=\"d-flex justify-content-center text-primary mt-auto mb-auto\">\r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col align-self-center d-flex\">\r\n                        <div className=\"align-self-center\">\r\n                            <BsArrowLeftShort size={50} onClick={this.back} />\r\n                        </div>\r\n                        <div className=\"h3 align-self-center mb-0\">\r\n                            Danh sách lớp dạy\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => { this.refreshClear() }}>\r\n                                <BiRefresh size={this.state.iconSize} />Tải lại trang\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">\r\n                        <form className=\"form-inline\">\r\n                            <label >Năm học:</label>\r\n                            <div className=\"ml-1 select-school-year\">\r\n                                <SelectSearch\r\n                                    options={this.getSchoolYearOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.schoolYearId}\r\n                                    onChange={v => this.changeSearchCondition(\"schoolYearId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Kỳ học</label>\r\n                            <div className=\"ml-1 select-term\">\r\n                                <SelectSearch\r\n                                    options={this.getTermOptions()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.term}\r\n                                    onChange={v => this.setState({ term: v })}\r\n                                />\r\n                            </div>\r\n\r\n                            <label className=\"ml-2\">Lớp:</label>\r\n                            <div className=\"ml-1 select-class\">\r\n                                <SelectSearch\r\n                                    options={this.getClassOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.classId}\r\n                                    onChange={v => this.changeSearchCondition(\"classId\", v)}\r\n                                />\r\n                            </div>\r\n                            <label className=\"ml-2\">Môn học:</label>\r\n                            <div className=\"ml-1 select-subject\">\r\n                                <SelectSearch\r\n                                    options={this.getSubjectOption()}\r\n                                    search\r\n                                    filterOptions={fuzzySearch}\r\n                                    emptyMessage=\"Không tìm thấy\"\r\n                                    placeholder=\" \"\r\n                                    value={this.state.searchCondition.subjectId}\r\n                                    onChange={v => this.changeSearchCondition(\"subjectId\", v)}\r\n                                />\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto\" onClick={() => this.refresh()}>\r\n                                <BiSearch size={this.state.iconSize} />Tìm kiếm\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n                        <div style={{ minHeight: \"380px\" }}>\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead className=\"text-center\">\r\n                                    <tr>\r\n                                        <th>STT</th>\r\n                                        <th>Môn học</th>\r\n                                        <th>Lớp</th>\r\n                                        <th>Năm học</th>\r\n                                        <th>Kỳ học</th>\r\n                                        <th>\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.renderTableData()}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMyTeachingAssignment.contextType = AppContext\r\n\r\nexport default withRouter(MyTeachingAssignment);\r\n","import React from \"react\";\r\nimport AppContext from './context/AppContext';\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport Header from \"./components/Header/Header\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './css/App.css';\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport 'animate.css/animate.min.css';\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport Home from './components/Home/Home';\r\nimport Login from './components/Login/login';\r\nimport AccountInfo from './components/AccountInfo/AccountInfo';\r\nimport ForgetPassword from './components/ForgetPassword/forgetPassword';\r\nimport ChangePassword from './components/ChangePassword/ChangePassword';\r\nimport StudentScore from './components/StudentScore/StudentScore';\r\nimport PLL from './components/PLL/PLL';\r\nimport RankStatistic from './components/Statistic/RankStatistic';\r\nimport SubjectStatistic from './components/Statistic/SubjectStatistic';\r\nimport TeachingClassScore from './components/TeachingClassScore/TeachingClassScore';\r\nimport ConductAssessment from './components/ConductAssessment/ConductAssessment';\r\nimport StudentAttendance from './components/StudentAttendance/StudentAttendance';\r\nimport ScoreLock from './components/ScoreLock/ScoreLock';\r\nimport HomeroomTeacherAssignment from './components/HomeroomTeacherAssignment/HomeroomTeacherAssignment';\r\nimport TeachingAssignment from './components/TeachingAssignment/TeachingAssignment';\r\nimport SpecialistAssignment from './components/SpecialistAssignment/SpecialistAssignment';\r\nimport SchoolYear from './components/SchoolYear/schoolYear';\r\nimport StudentAssignment from './components/StudentAssignment/StudentAssignment';\r\nimport TransferClass from './components/TransferClass/TransferClass';\r\nimport Api from './api/api';\r\nimport jwt from \"jwt-decode\";\r\nimport ReactNotification from 'react-notifications-component'\r\nimport Page404 from './components/Page404/Page404';\r\nimport Class from './components/Class/class'\r\nimport Subject from './components/Subject/subject'\r\nimport SpecialistTeam from './components/SpecialistTeam/specialistTeam'\r\nimport Student from './components/Student/student'\r\nimport Teacher from './components/Teacher/teacher'\r\nimport Account from './components/Account/Account'\r\nimport SearchTeacher from './components/SearchTeacher/SearchTeacher'\r\nimport SearchStudent from './components/SearchStudent/SearchStudent'\r\nimport SearchHomroomTeacherAssignment from './components/SearchHomroomTeacherAssignment/SearchHomroomTeacherAssignment'\r\nimport SearchTeachingAssignment from './components/SearchTeachingAssignment/SearchTeachingAssignment'\r\nimport MyTeachingAssignment from './components/MyTeachingAssignment/MyTeachingAssignment'\r\nimport HomeroomRankStatistic from './components/HomeRoomTeacherStatistic/RankStatistic'\r\nimport HomeroomSubjectStatistic from './components/HomeRoomTeacherStatistic/SubjectStatistic'\r\nimport SearchHomeroomClassInfo from './components/SearchHomeroomClassInfo/SearchHomeroomClassInfo'\r\nimport SearchScore from './components/SearchScore/SearchScore'\r\nimport StudentPLL from './components/StudentPLL/StudentPLL'\r\nimport MyTeachingAssignmentEdit from './components/MyTeachingAssignmentEdit/MyTeachingAssignmentEdit'\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      context: {\r\n        user: null,\r\n        setUser: this.setUser,\r\n      },\r\n      loading: true\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true })\r\n    let accessToken = localStorage.getItem('accessToken')\r\n    //console.log(this.state.context.user)\r\n    if (accessToken) {\r\n      try {\r\n        await Api.checkAuth()\r\n        let user = jwt(accessToken)\r\n        this.setUser(user)\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.setUser(null)\r\n        localStorage.removeItem('accessToken')\r\n      }\r\n    }\r\n    this.setState({ loading: false })\r\n  }\r\n\r\n  setUser = (user) => {\r\n    let context = this.state.context\r\n    context.user = user\r\n    this.setState({ context: context })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"h-100 w-100 bg-primary d-flex justify-content-center\">\r\n          <ReactLoading type={\"bars\"} color={\"#fff\"} height={'20%'} width={'20%'} className=\"align-self-center mb-5\" />\r\n        </div >\r\n      )\r\n    }\r\n    return (\r\n      <AppContext.Provider value={this.state.context}>\r\n        <BrowserRouter>\r\n          <ReactNotification />\r\n          <Header />\r\n          <div className=\"content\">\r\n            <Switch>\r\n              <Route path=\"/login\">\r\n                <Login />\r\n              </Route>\r\n              <Route path=\"/forgetpassword\">\r\n                <ForgetPassword />\r\n              </Route>\r\n              <PrivateRouter exact path=\"/\" component={<Home />} role={[2, 1, 0]} />\r\n              <PrivateRouter exact path=\"/account-info\" component={<AccountInfo />} role={[2, 1, 0]} />\r\n              <PrivateRouter exact path=\"/change-password\" component={<ChangePassword />} role={[2, 1, 0]} />\r\n              <PrivateRouter exact path=\"/school-year\" component={<SchoolYear />} role={[2]} />\r\n              <PrivateRouter exact path=\"/class\" component={<Class />} role={[2]} />\r\n              <PrivateRouter exact path=\"/subject\" component={<Subject />} role={[2]} />\r\n              <PrivateRouter exact path=\"/specialist-team\" component={<SpecialistTeam />} role={[2]} />\r\n              <PrivateRouter exact path=\"/student\" component={<Student />} role={[2]} />\r\n              <PrivateRouter exact path=\"/teacher\" component={<Teacher />} role={[2]} />\r\n              <PrivateRouter exact path=\"/teaching-assignment\" component={<TeachingAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/homeroom-teacher-assignment\" component={<HomeroomTeacherAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/specialist-assignment\" component={<SpecialistAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/student-assignment\" component={<StudentAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/account\" component={<Account />} role={[2]} />\r\n              <PrivateRouter exact path=\"/transfer-class\" component={<TransferClass />} role={[2]} />\r\n              <PrivateRouter exact path=\"/score-lock\" component={<ScoreLock />} role={[2]} />\r\n              <PrivateRouter exact path=\"/search-teacher\" component={<SearchTeacher />} role={[2]} />\r\n              <PrivateRouter exact path=\"/search-student\" component={<SearchStudent />} role={[2]} />\r\n              <PrivateRouter exact path=\"/search-homeroom-teacher-assignment\" component={<SearchHomroomTeacherAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/search-teaching-assignment\" component={<SearchTeachingAssignment />} role={[2]} />\r\n              <PrivateRouter exact path=\"/teaching-class-score\" component={<TeachingClassScore />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/my-teaching-assignment\" component={<MyTeachingAssignment />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/my-teaching-assignment-edit\" component={<MyTeachingAssignmentEdit />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/conduct-assesssment\" component={<ConductAssessment />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/statistic-rank\" component={<RankStatistic />} role={[2]} />\r\n              <PrivateRouter exact path=\"/statistic-subject\" component={<SubjectStatistic />} role={[2]} />\r\n              <PrivateRouter exact path=\"/student-score\" component={<StudentScore />} role={[0]} />\r\n              <PrivateRouter exact path=\"/homeroom-statistic-rank\" component={<HomeroomRankStatistic />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/homeroom-statistic-subject\" component={<HomeroomSubjectStatistic />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/search-homeroom-class-info\" component={<SearchHomeroomClassInfo />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/search-score\" component={<SearchScore />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/student-attendance\" component={<StudentAttendance />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/pll\" component={<PLL />} role={[2, 1]} />\r\n              <PrivateRouter exact path=\"/student-pll\" component={<StudentPLL />} role={[0]} />\r\n              <Route path=\"/\">\r\n                <Page404 />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n          <Footer />\r\n        </BrowserRouter>\r\n      </AppContext.Provider>\r\n    )\r\n  }\r\n}\r\n\r\nclass PrivateRouter extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n    }\r\n  }\r\n  checkLogin = () => {\r\n    return this.context.user\r\n  }\r\n  checkAuth = () => {\r\n    return this.props.role && this.context.user && this.props.role.includes(this.context.user.role)\r\n  }\r\n  render() {\r\n    let { component: Component, ...rest } = this.props;\r\n    return (\r\n      <Route {...rest}>\r\n        {this.checkLogin() ?\r\n          this.checkAuth() ?\r\n            Component :\r\n            <Redirect\r\n              to='/'\r\n            /> :\r\n          <Redirect\r\n            to={{\r\n              pathname: '/login',\r\n              state: { from: this.props.path }\r\n            }}\r\n          />\r\n        }\r\n      </Route>\r\n    )\r\n  }\r\n}\r\nPrivateRouter.contextType = AppContext\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}